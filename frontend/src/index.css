@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: #f8fafc;
  color: #1e293b;
  transition: background-color 0.3s ease, color 0.3s ease;
}

::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: #f1f5f9;
}

::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* ═══════════════════════════════════════════════
   ANIMATIONS — Shimmer, pulse, etc.
   ═══════════════════════════════════════════════ */

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(200%); }
}

/* Shimmer bar overlay for progress bars */
.shimmer-bar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
  animation: shimmer 2s infinite;
}

/* ═══════════════════════════════════════════════
   DARK MODE — Global CSS Overrides
   Appliqué quand html.dark est actif
   ═══════════════════════════════════════════════ */

html.dark body {
  background-color: #0c1222;
  color: #e2e8f0;
}

html.dark ::-webkit-scrollbar-track {
  background: #1e293b;
}
html.dark ::-webkit-scrollbar-thumb {
  background: #475569;
}
html.dark ::-webkit-scrollbar-thumb:hover {
  background: #64748b;
}

/* ── Backgrounds ── */
html.dark .bg-white {
  background-color: #1e293b !important;
}
html.dark .bg-\[\#f8fafc\] {
  background-color: #0c1222 !important;
}
html.dark .bg-gray-50 {
  background-color: #162032 !important;
}
html.dark .bg-gray-100 {
  background-color: #1e293b !important;
}

/* ── Textes ── */
html.dark .text-gray-900 {
  color: #f1f5f9 !important;
}
html.dark .text-gray-800 {
  color: #e2e8f0 !important;
}
html.dark .text-gray-700 {
  color: #cbd5e1 !important;
}
html.dark .text-gray-600 {
  color: #94a3b8 !important;
}
html.dark .text-gray-500 {
  color: #64748b !important;
}
html.dark .text-gray-400 {
  color: #64748b !important;
}

/* ── Bordures ── */
html.dark .border-gray-100 {
  border-color: #334155 !important;
}
html.dark .border-gray-200 {
  border-color: #334155 !important;
}
html.dark .border-gray-300 {
  border-color: #475569 !important;
}
html.dark .divide-gray-100 > :not([hidden]) ~ :not([hidden]) {
  border-color: #334155 !important;
}
html.dark .divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
  border-color: #334155 !important;
}

/* ── Cartes & Containers blancs ── */
html.dark .bg-white.rounded-2xl,
html.dark .bg-white.rounded-xl,
html.dark .bg-white.rounded-lg {
  background-color: #1e293b !important;
  border-color: #334155 !important;
}

/* ── Tables ── */
html.dark thead.bg-gray-50 {
  background-color: #162032 !important;
}
html.dark .hover\:bg-gray-50:hover {
  background-color: #162032 !important;
}
html.dark th.text-gray-500 {
  color: #94a3b8 !important;
}
html.dark td {
  color: #cbd5e1;
}

/* ── Formulaires ── */
html.dark input,
html.dark select,
html.dark textarea {
  background-color: #0f172a !important;
  border-color: #334155 !important;
  color: #e2e8f0 !important;
}
html.dark input::placeholder,
html.dark select::placeholder,
html.dark textarea::placeholder {
  color: #64748b !important;
}
html.dark option {
  background-color: #1e293b;
  color: #e2e8f0;
}

/* ── Gradients adaptatifs ── */
html.dark .bg-gradient-to-br.from-violet-50,
html.dark .bg-gradient-to-br.from-blue-50,
html.dark .bg-gradient-to-br.from-amber-50,
html.dark .bg-gradient-to-br.from-pink-50 {
  background: linear-gradient(to bottom right, rgba(139, 92, 246, 0.08), rgba(59, 130, 246, 0.08)) !important;
}
html.dark .bg-gradient-to-r.from-violet-50,
html.dark .bg-gradient-to-r.from-purple-50,
html.dark .bg-gradient-to-r.from-amber-50,
html.dark .bg-gradient-to-r.from-blue-50,
html.dark .bg-gradient-to-r.from-teal-50,
html.dark .bg-gradient-to-r.from-green-50 {
  background: linear-gradient(to right, rgba(139, 92, 246, 0.06), rgba(59, 130, 246, 0.06)) !important;
}

/* ── Badges & Pill colorés (garder les couleurs d'accent intactes) ── */
html.dark .bg-blue-50 {
  background-color: rgba(59, 130, 246, 0.12) !important;
}
html.dark .bg-green-50 {
  background-color: rgba(16, 185, 129, 0.12) !important;
}
html.dark .bg-red-50 {
  background-color: rgba(239, 68, 68, 0.12) !important;
}
html.dark .bg-amber-50 {
  background-color: rgba(245, 158, 11, 0.12) !important;
}
html.dark .bg-orange-50 {
  background-color: rgba(249, 115, 22, 0.12) !important;
}
html.dark .bg-pink-50 {
  background-color: rgba(236, 72, 153, 0.12) !important;
}
html.dark .bg-violet-50 {
  background-color: rgba(139, 92, 246, 0.12) !important;
}
html.dark .bg-purple-50 {
  background-color: rgba(168, 85, 247, 0.12) !important;
}
html.dark .bg-teal-50 {
  background-color: rgba(20, 184, 166, 0.12) !important;
}
html.dark .bg-primary-50 {
  background-color: rgba(59, 130, 246, 0.12) !important;
}
html.dark .bg-cyan-50 {
  background-color: rgba(6, 182, 212, 0.12) !important;
}
/* Couleurs 100 légèrement transparentes */
html.dark .bg-blue-100 {
  background-color: rgba(59, 130, 246, 0.18) !important;
}
html.dark .bg-green-100 {
  background-color: rgba(16, 185, 129, 0.18) !important;
}
html.dark .bg-red-100 {
  background-color: rgba(239, 68, 68, 0.18) !important;
}
html.dark .bg-amber-100 {
  background-color: rgba(245, 158, 11, 0.18) !important;
}
html.dark .bg-violet-100 {
  background-color: rgba(139, 92, 246, 0.18) !important;
}
html.dark .bg-purple-100 {
  background-color: rgba(168, 85, 247, 0.18) !important;
}
html.dark .bg-pink-100 {
  background-color: rgba(236, 72, 153, 0.18) !important;
}
html.dark .bg-teal-100 {
  background-color: rgba(20, 184, 166, 0.18) !important;
}
html.dark .bg-primary-100 {
  background-color: rgba(59, 130, 246, 0.18) !important;
}

/* ── Bordures couleur pour les alertes côté ── */
html.dark .border-l-4.border-red-400 {
  border-left-color: #ef4444 !important;
}
html.dark .border-l-4.border-orange-400 {
  border-left-color: #f97316 !important;
}
html.dark .border-l-4.border-green-400 {
  border-left-color: #22c55e !important;
}
html.dark .border-l-4.border-pink-400 {
  border-left-color: #ec4899 !important;
}
html.dark .border-l-4.border-blue-500 {
  border-left-color: #3b82f6 !important;
}
html.dark .border-l-4.border-purple-500 {
  border-left-color: #a855f7 !important;
}
html.dark .border-l-4.border-amber-500 {
  border-left-color: #f59e0b !important;
}
html.dark .border-l-4.border-green-500 {
  border-left-color: #22c55e !important;
}
html.dark .border-l-4.border-red-500 {
  border-left-color: #ef4444 !important;
}

/* ── Progress bars background ── */
html.dark .bg-gray-100.rounded-full {
  background-color: #334155 !important;
}

/* ── Bannière Efficience ── */
html.dark .bg-white.border.border-gray-100[style*="height: 120px"],
html.dark .bg-white.border-gray-100 {
  background-color: #1e293b !important;
}

/* ── Backdrop & Overlays ── */
html.dark .bg-white\/70 {
  background-color: rgba(30, 41, 59, 0.7) !important;
}
html.dark .bg-white\/60 {
  background-color: rgba(30, 41, 59, 0.6) !important;
}
html.dark .bg-white\/50 {
  background-color: rgba(30, 41, 59, 0.5) !important;
}
html.dark .border-white\/50 {
  border-color: rgba(51, 65, 85, 0.5) !important;
}

/* ── Chart container backgrounds (keep charts themselves readable) ── */
html.dark canvas {
  filter: none;
}

/* ── Hover effects ── */
html.dark .hover\:shadow-md:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}
html.dark .hover\:shadow-lg:hover {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3) !important;
}

/* ── Shadow adjustments ── */
html.dark .shadow-sm {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25) !important;
}

/* ── SVG text in charts (score circles etc.) ── */
html.dark text[fill="#1e293b"] {
  fill: #f1f5f9 !important;
}

/* ── Modal backdrops ── */
html.dark .fixed.inset-0 > .bg-white {
  background-color: #1e293b !important;
}

/* ── KPI Cards Practitioner ── */
html.dark .bg-primary-50 {
  background-color: rgba(59, 130, 246, 0.12) !important;
}

/* ── Login page (keep unchanged — already dark) ── */

/* ── Sidebar (already dark navy — keep as-is) ── */

/* ── Transition smooth pour tout ── */
html.dark * {
  transition-property: background-color, border-color, color;
  transition-duration: 0.15s;
  transition-timing-function: ease;
}
/* Exception: ne pas transitionner les animations des charts */
html.dark canvas,
html.dark .animate-spin,
html.dark .animate-ping,
html.dark .animate-pulse {
  transition: none !important;
}

/* ── Font mono en dark ── */
html.dark .font-mono {
  color: #94a3b8;
  background-color: #162032 !important;
}

/* ── Modals & Dialogs ── */
html.dark .fixed.inset-0 .bg-white.rounded-2xl,
html.dark .fixed.inset-0 .bg-white.rounded-xl {
  background-color: #1e293b !important;
}
html.dark .bg-black\/50 {
  background-color: rgba(0, 0, 0, 0.65) !important;
}

/* ── Border dashed ── */
html.dark .border-dashed {
  border-color: #475569 !important;
}

/* ── Login page: garder le côté droit blanc/clair ── */
html.dark .min-h-screen.flex > .bg-white.lg\:rounded-l-\[40px\] {
  background-color: #1e293b !important;
}
html.dark .min-h-screen.flex > .bg-white.lg\:rounded-l-\[40px\] h2 {
  color: #f1f5f9 !important;
}
html.dark .min-h-screen.flex > .bg-white.lg\:rounded-l-\[40px\] label {
  color: #94a3b8 !important;
}
html.dark .min-h-screen.flex > .bg-white.lg\:rounded-l-\[40px\] input {
  background-color: #0f172a !important;
  border-color: #334155 !important;
  color: #e2e8f0 !important;
}

/* ── Sidebar: inchangé (déjà sombre) ── */

/* ── Chart.js tooltip (rendu par canvas, non affecté par CSS) ── */

/* ── Boutons primaires: garder intacts ── */

/* ── Hover sur les boutons actions en dark ── */
html.dark .hover\:bg-gray-100:hover {
  background-color: #334155 !important;
}

/* ── Orange badges ── */
html.dark .bg-orange-50 {
  background-color: rgba(249, 115, 22, 0.12) !important;
}
html.dark .bg-orange-100 {
  background-color: rgba(249, 115, 22, 0.18) !important;
}
