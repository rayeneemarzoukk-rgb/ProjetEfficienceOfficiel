function Qy(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function ug(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wd={exports:{}},li={},Hd={exports:{}},Ae={};var J0;function Zy(){if(J0)return Ae;J0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function y(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function k(E,Y,ce){this.props=E,this.context=Y,this.refs=j,this.updater=ce||w}k.prototype.isReactComponent={},k.prototype.setState=function(E,Y){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Y,"setState")},k.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function _(){}_.prototype=k.prototype;function P(E,Y,ce){this.props=E,this.context=Y,this.refs=j,this.updater=ce||w}var T=P.prototype=new _;T.constructor=P,v(T,k.prototype),T.isPureReactComponent=!0;var L=Array.isArray,D=Object.prototype.hasOwnProperty,W={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function G(E,Y,ce){var le,fe={},ge=null,_e=null;if(Y!=null)for(le in Y.ref!==void 0&&(_e=Y.ref),Y.key!==void 0&&(ge=""+Y.key),Y)D.call(Y,le)&&!H.hasOwnProperty(le)&&(fe[le]=Y[le]);var de=arguments.length-2;if(de===1)fe.children=ce;else if(1<de){for(var ae=Array(de),Me=0;Me<de;Me++)ae[Me]=arguments[Me+2];fe.children=ae}if(E&&E.defaultProps)for(le in de=E.defaultProps,de)fe[le]===void 0&&(fe[le]=de[le]);return{$$typeof:t,type:E,key:ge,ref:_e,props:fe,_owner:W.current}}function F(E,Y){return{$$typeof:t,type:E.type,key:Y,ref:E.ref,props:E.props,_owner:E._owner}}function te(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function z(E){var Y={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ce){return Y[ce]})}var q=/\/+/g;function X(E,Y){return typeof E=="object"&&E!==null&&E.key!=null?z(""+E.key):Y.toString(36)}function R(E,Y,ce,le,fe){var ge=typeof E;(ge==="undefined"||ge==="boolean")&&(E=null);var _e=!1;if(E===null)_e=!0;else switch(ge){case"string":case"number":_e=!0;break;case"object":switch(E.$$typeof){case t:case e:_e=!0}}if(_e)return _e=E,fe=fe(_e),E=le===""?"."+X(_e,0):le,L(fe)?(ce="",E!=null&&(ce=E.replace(q,"$&/")+"/"),R(fe,Y,ce,"",function(Me){return Me})):fe!=null&&(te(fe)&&(fe=F(fe,ce+(!fe.key||_e&&_e.key===fe.key?"":(""+fe.key).replace(q,"$&/")+"/")+E)),Y.push(fe)),1;if(_e=0,le=le===""?".":le+":",L(E))for(var de=0;de<E.length;de++){ge=E[de];var ae=le+X(ge,de);_e+=R(ge,Y,ce,ae,fe)}else if(ae=y(E),typeof ae=="function")for(E=ae.call(E),de=0;!(ge=E.next()).done;)ge=ge.value,ae=le+X(ge,de++),_e+=R(ge,Y,ce,ae,fe);else if(ge==="object")throw Y=String(E),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return _e}function I(E,Y,ce){if(E==null)return E;var le=[],fe=0;return R(E,le,"","",function(ge){return Y.call(ce,ge,fe++)}),le}function S(E){if(E._status===-1){var Y=E._result;Y=Y(),Y.then(function(ce){(E._status===0||E._status===-1)&&(E._status=1,E._result=ce)},function(ce){(E._status===0||E._status===-1)&&(E._status=2,E._result=ce)}),E._status===-1&&(E._status=0,E._result=Y)}if(E._status===1)return E._result.default;throw E._result}var J={current:null},U={transition:null},re={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:U,ReactCurrentOwner:W};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:I,forEach:function(E,Y,ce){I(E,function(){Y.apply(this,arguments)},ce)},count:function(E){var Y=0;return I(E,function(){Y++}),Y},toArray:function(E){return I(E,function(Y){return Y})||[]},only:function(E){if(!te(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ae.Component=k,Ae.Fragment=r,Ae.Profiler=o,Ae.PureComponent=P,Ae.StrictMode=s,Ae.Suspense=h,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Ae.act=Z,Ae.cloneElement=function(E,Y,ce){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var le=v({},E.props),fe=E.key,ge=E.ref,_e=E._owner;if(Y!=null){if(Y.ref!==void 0&&(ge=Y.ref,_e=W.current),Y.key!==void 0&&(fe=""+Y.key),E.type&&E.type.defaultProps)var de=E.type.defaultProps;for(ae in Y)D.call(Y,ae)&&!H.hasOwnProperty(ae)&&(le[ae]=Y[ae]===void 0&&de!==void 0?de[ae]:Y[ae])}var ae=arguments.length-2;if(ae===1)le.children=ce;else if(1<ae){de=Array(ae);for(var Me=0;Me<ae;Me++)de[Me]=arguments[Me+2];le.children=de}return{$$typeof:t,type:E.type,key:fe,ref:ge,props:le,_owner:_e}},Ae.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},Ae.createElement=G,Ae.createFactory=function(E){var Y=G.bind(null,E);return Y.type=E,Y},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(E){return{$$typeof:u,render:E}},Ae.isValidElement=te,Ae.lazy=function(E){return{$$typeof:m,_payload:{_status:-1,_result:E},_init:S}},Ae.memo=function(E,Y){return{$$typeof:p,type:E,compare:Y===void 0?null:Y}},Ae.startTransition=function(E){var Y=U.transition;U.transition={};try{E()}finally{U.transition=Y}},Ae.unstable_act=Z,Ae.useCallback=function(E,Y){return J.current.useCallback(E,Y)},Ae.useContext=function(E){return J.current.useContext(E)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(E){return J.current.useDeferredValue(E)},Ae.useEffect=function(E,Y){return J.current.useEffect(E,Y)},Ae.useId=function(){return J.current.useId()},Ae.useImperativeHandle=function(E,Y,ce){return J.current.useImperativeHandle(E,Y,ce)},Ae.useInsertionEffect=function(E,Y){return J.current.useInsertionEffect(E,Y)},Ae.useLayoutEffect=function(E,Y){return J.current.useLayoutEffect(E,Y)},Ae.useMemo=function(E,Y){return J.current.useMemo(E,Y)},Ae.useReducer=function(E,Y,ce){return J.current.useReducer(E,Y,ce)},Ae.useRef=function(E){return J.current.useRef(E)},Ae.useState=function(E){return J.current.useState(E)},Ae.useSyncExternalStore=function(E,Y,ce){return J.current.useSyncExternalStore(E,Y,ce)},Ae.useTransition=function(){return J.current.useTransition()},Ae.version="18.3.1",Ae}var Q0;function Ou(){return Q0||(Q0=1,Hd.exports=Zy()),Hd.exports}var Z0;function ev(){if(Z0)return li;Z0=1;var t=Ou(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,p){var m,x={},y=null,w=null;p!==void 0&&(y=""+p),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(w=h.ref);for(m in h)s.call(h,m)&&!l.hasOwnProperty(m)&&(x[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)x[m]===void 0&&(x[m]=h[m]);return{$$typeof:e,type:u,key:y,ref:w,props:x,_owner:o.current}}return li.Fragment=r,li.jsx=c,li.jsxs=c,li}var ep;function tv(){return ep||(ep=1,Wd.exports=ev()),Wd.exports}var i=tv(),M=Ou();const an=ug(M),rv=Qy({__proto__:null,default:an},[M]);var rl={},Vd={exports:{}},Jt={},Ud={exports:{}},qd={};var tp;function nv(){return tp||(tp=1,(function(t){function e(U,re){var Z=U.length;U.push(re);e:for(;0<Z;){var E=Z-1>>>1,Y=U[E];if(0<o(Y,re))U[E]=re,U[Z]=Y,Z=E;else break e}}function r(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var re=U[0],Z=U.pop();if(Z!==re){U[0]=Z;e:for(var E=0,Y=U.length,ce=Y>>>1;E<ce;){var le=2*(E+1)-1,fe=U[le],ge=le+1,_e=U[ge];if(0>o(fe,Z))ge<Y&&0>o(_e,fe)?(U[E]=_e,U[ge]=Z,E=ge):(U[E]=fe,U[le]=Z,E=le);else if(ge<Y&&0>o(_e,Z))U[E]=_e,U[ge]=Z,E=ge;else break e}}return re}function o(U,re){var Z=U.sortIndex-re.sortIndex;return Z!==0?Z:U.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],p=[],m=1,x=null,y=3,w=!1,v=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var re=r(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=U)s(p),re.sortIndex=re.expirationTime,e(h,re);else break;re=r(p)}}function L(U){if(j=!1,T(U),!v)if(r(h)!==null)v=!0,S(D);else{var re=r(p);re!==null&&J(L,re.startTime-U)}}function D(U,re){v=!1,j&&(j=!1,_(G),G=-1),w=!0;var Z=y;try{for(T(re),x=r(h);x!==null&&(!(x.expirationTime>re)||U&&!z());){var E=x.callback;if(typeof E=="function"){x.callback=null,y=x.priorityLevel;var Y=E(x.expirationTime<=re);re=t.unstable_now(),typeof Y=="function"?x.callback=Y:x===r(h)&&s(h),T(re)}else s(h);x=r(h)}if(x!==null)var ce=!0;else{var le=r(p);le!==null&&J(L,le.startTime-re),ce=!1}return ce}finally{x=null,y=Z,w=!1}}var W=!1,H=null,G=-1,F=5,te=-1;function z(){return!(t.unstable_now()-te<F)}function q(){if(H!==null){var U=t.unstable_now();te=U;var re=!0;try{re=H(!0,U)}finally{re?X():(W=!1,H=null)}}else W=!1}var X;if(typeof P=="function")X=function(){P(q)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,I=R.port2;R.port1.onmessage=q,X=function(){I.postMessage(null)}}else X=function(){k(q,0)};function S(U){H=U,W||(W=!0,X())}function J(U,re){G=k(function(){U(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||w||(v=!0,S(D))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var Z=y;y=re;try{return U()}finally{y=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,re){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=y;y=U;try{return re()}finally{y=Z}},t.unstable_scheduleCallback=function(U,re,Z){var E=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?E+Z:E):Z=E,U){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Z+Y,U={id:m++,callback:re,priorityLevel:U,startTime:Z,expirationTime:Y,sortIndex:-1},Z>E?(U.sortIndex=Z,e(p,U),r(h)===null&&U===r(p)&&(j?(_(G),G=-1):j=!0,J(L,Z-E))):(U.sortIndex=Y,e(h,U),v||w||(v=!0,S(D))),U},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(U){var re=y;return function(){var Z=y;y=re;try{return U.apply(this,arguments)}finally{y=Z}}}})(qd)),qd}var rp;function sv(){return rp||(rp=1,Ud.exports=nv()),Ud.exports}var np;function av(){if(np)return Jt;np=1;var t=Ou(),e=sv();function r(n){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+n,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,a){c(n,a),c(n+"Capture",a)}function c(n,a){for(o[n]=a,n=0;n<a.length;n++)s.add(a[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},x={};function y(n){return h.call(x,n)?!0:h.call(m,n)?!1:p.test(n)?x[n]=!0:(m[n]=!0,!1)}function w(n,a,d,f){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:d!==null?!d.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function v(n,a,d,f){if(a===null||typeof a>"u"||w(n,a,d,f))return!0;if(f)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function j(n,a,d,f,g,b,N){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=d,this.propertyName=n,this.type=a,this.sanitizeURL=b,this.removeEmptyString=N}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){k[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0];k[a]=new j(a,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){k[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){k[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){k[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){k[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){k[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){k[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){k[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function P(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var a=n.replace(_,P);k[a]=new j(a,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var a=n.replace(_,P);k[a]=new j(a,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(_,P);k[a]=new j(a,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){k[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),k.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){k[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function T(n,a,d,f){var g=k.hasOwnProperty(a)?k[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(v(a,d,g,f)&&(d=null),f||g===null?y(a)&&(d===null?n.removeAttribute(a):n.setAttribute(a,""+d)):g.mustUseProperty?n[g.propertyName]=d===null?g.type===3?!1:"":d:(a=g.attributeName,f=g.attributeNamespace,d===null?n.removeAttribute(a):(g=g.type,d=g===3||g===4&&d===!0?"":""+d,f?n.setAttributeNS(f,a,d):n.setAttribute(a,d))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),W=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),z=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),U=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var Z=Object.assign,E;function Y(n){if(E===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);E=a&&a[1]||""}return`
`+E+n}var ce=!1;function le(n,a){if(!n||ce)return"";ce=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var f=K}Reflect.construct(n,[],a)}else{try{a.call()}catch(K){f=K}n.call(a.prototype)}else{try{throw Error()}catch(K){f=K}n()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),b=f.stack.split(`
`),N=g.length-1,C=b.length-1;1<=N&&0<=C&&g[N]!==b[C];)C--;for(;1<=N&&0<=C;N--,C--)if(g[N]!==b[C]){if(N!==1||C!==1)do if(N--,C--,0>C||g[N]!==b[C]){var A=`
`+g[N].replace(" at new "," at ");return n.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",n.displayName)),A}while(1<=N&&0<=C);break}}}finally{ce=!1,Error.prepareStackTrace=d}return(n=n?n.displayName||n.name:"")?Y(n):""}function fe(n){switch(n.tag){case 5:return Y(n.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return n=le(n.type,!1),n;case 11:return n=le(n.type.render,!1),n;case 1:return n=le(n.type,!0),n;default:return""}}function ge(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case W:return"Portal";case F:return"Profiler";case G:return"StrictMode";case X:return"Suspense";case R:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case z:return(n.displayName||"Context")+".Consumer";case te:return(n._context.displayName||"Context")+".Provider";case q:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return a=n.displayName||null,a!==null?a:ge(n.type)||"Memo";case S:a=n._payload,n=n._init;try{return ge(n(a))}catch{}}return null}function _e(n){var a=n.type;switch(n.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=a.render,n=n.displayName||n.name||"",a.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(a);case 8:return a===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function de(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ae(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Me(n){var a=ae(n)?"checked":"value",d=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),f=""+n[a];if(!n.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,b=d.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return g.call(this)},set:function(N){f=""+N,b.call(this,N)}}),Object.defineProperty(n,a,{enumerable:d.enumerable}),{getValue:function(){return f},setValue:function(N){f=""+N},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Be(n){n._valueTracker||(n._valueTracker=Me(n))}function Oe(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var d=a.getValue(),f="";return n&&(f=ae(n)?n.checked?"true":"false":n.value),n=f,n!==d?(a.setValue(n),!0):!1}function ot(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $t(n,a){var d=a.checked;return Z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??n._wrapperState.initialChecked})}function Et(n,a){var d=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;d=de(a.value!=null?a.value:d),n._wrapperState={initialChecked:f,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function lr(n,a){a=a.checked,a!=null&&T(n,"checked",a,!1)}function ie(n,a){lr(n,a);var d=de(a.value),f=a.type;if(d!=null)f==="number"?(d===0&&n.value===""||n.value!=d)&&(n.value=""+d):n.value!==""+d&&(n.value=""+d);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}a.hasOwnProperty("value")?Re(n,a.type,d):a.hasOwnProperty("defaultValue")&&Re(n,a.type,de(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(n.defaultChecked=!!a.defaultChecked)}function be(n,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+n._wrapperState.initialValue,d||a===n.value||(n.value=a),n.defaultValue=a}d=n.name,d!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,d!==""&&(n.name=d)}function Re(n,a,d){(a!=="number"||ot(n.ownerDocument)!==n)&&(d==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+d&&(n.defaultValue=""+d))}var tt=Array.isArray;function Ye(n,a,d,f){if(n=n.options,a){a={};for(var g=0;g<d.length;g++)a["$"+d[g]]=!0;for(d=0;d<n.length;d++)g=a.hasOwnProperty("$"+n[d].value),n[d].selected!==g&&(n[d].selected=g),g&&f&&(n[d].defaultSelected=!0)}else{for(d=""+de(d),a=null,g=0;g<n.length;g++){if(n[g].value===d){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}a!==null||n[g].disabled||(a=n[g])}a!==null&&(a.selected=!0)}}function Ut(n,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},a,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function jt(n,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(r(92));if(tt(d)){if(1<d.length)throw Error(r(93));d=d[0]}a=d}a==null&&(a=""),d=a}n._wrapperState={initialValue:de(d)}}function cr(n,a){var d=de(a.value),f=de(a.defaultValue);d!=null&&(d=""+d,d!==n.value&&(n.value=d),a.defaultValue==null&&n.defaultValue!==d&&(n.defaultValue=d)),f!=null&&(n.defaultValue=""+f)}function he(n){var a=n.textContent;a===n._wrapperState.initialValue&&a!==""&&a!==null&&(n.value=a)}function V(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(n,a){return n==null||n==="http://www.w3.org/1999/xhtml"?V(a):n==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Le,Ze=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,f,g){MSApp.execUnsafeLocalFunction(function(){return n(a,d,f,g)})}:n})(function(n,a){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=a;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Le.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)n.appendChild(a.firstChild)}});function ft(n,a){if(a){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=a;return}}n.textContent=a}var Ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pn=["Webkit","ms","Moz","O"];Object.keys(Ge).forEach(function(n){pn.forEach(function(a){a=a+n.charAt(0).toUpperCase()+n.substring(1),Ge[a]=Ge[n]})});function Sa(n,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Ge.hasOwnProperty(n)&&Ge[n]?(""+a).trim():a+"px"}function Yi(n,a){n=n.style;for(var d in a)if(a.hasOwnProperty(d)){var f=d.indexOf("--")===0,g=Sa(d,a[d],f);d==="float"&&(d="cssFloat"),f?n.setProperty(d,g):n[d]=g}}var ee=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(n,a){if(a){if(ee[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function dr(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function Ue(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Wr=null,Ps=null,Rs=null;function fh(n){if(n=Ya(n)){if(typeof Wr!="function")throw Error(r(280));var a=n.stateNode;a&&(a=xo(a),Wr(n.stateNode,n.type,a))}}function ph(n){Ps?Rs?Rs.push(n):Rs=[n]:Ps=n}function mh(){if(Ps){var n=Ps,a=Rs;if(Rs=Ps=null,fh(n),a)for(n=0;n<a.length;n++)fh(a[n])}}function gh(n,a){return n(a)}function xh(){}var ac=!1;function bh(n,a,d){if(ac)return n(a,d);ac=!0;try{return gh(n,a,d)}finally{ac=!1,(Ps!==null||Rs!==null)&&(xh(),mh())}}function _a(n,a){var d=n.stateNode;if(d===null)return null;var f=xo(d);if(f===null)return null;d=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(r(231,a,typeof d));return d}var ic=!1;if(u)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){ic=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{ic=!1}function sb(n,a,d,f,g,b,N,C,A){var K=Array.prototype.slice.call(arguments,3);try{a.apply(d,K)}catch(se){this.onError(se)}}var Ea=!1,Ki=null,Gi=!1,oc=null,ab={onError:function(n){Ea=!0,Ki=n}};function ib(n,a,d,f,g,b,N,C,A){Ea=!1,Ki=null,sb.apply(ab,arguments)}function ob(n,a,d,f,g,b,N,C,A){if(ib.apply(this,arguments),Ea){if(Ea){var K=Ki;Ea=!1,Ki=null}else throw Error(r(198));Gi||(Gi=!0,oc=K)}}function qn(n){var a=n,d=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(d=a.return),n=a.return;while(n)}return a.tag===3?d:null}function yh(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function vh(n){if(qn(n)!==n)throw Error(r(188))}function lb(n){var a=n.alternate;if(!a){if(a=qn(n),a===null)throw Error(r(188));return a!==n?null:n}for(var d=n,f=a;;){var g=d.return;if(g===null)break;var b=g.alternate;if(b===null){if(f=g.return,f!==null){d=f;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===d)return vh(g),n;if(b===f)return vh(g),a;b=b.sibling}throw Error(r(188))}if(d.return!==f.return)d=g,f=b;else{for(var N=!1,C=g.child;C;){if(C===d){N=!0,d=g,f=b;break}if(C===f){N=!0,f=g,d=b;break}C=C.sibling}if(!N){for(C=b.child;C;){if(C===d){N=!0,d=b,f=g;break}if(C===f){N=!0,f=b,d=g;break}C=C.sibling}if(!N)throw Error(r(189))}}if(d.alternate!==f)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?n:a}function wh(n){return n=lb(n),n!==null?kh(n):null}function kh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var a=kh(n);if(a!==null)return a;n=n.sibling}return null}var jh=e.unstable_scheduleCallback,Nh=e.unstable_cancelCallback,cb=e.unstable_shouldYield,db=e.unstable_requestPaint,ct=e.unstable_now,ub=e.unstable_getCurrentPriorityLevel,lc=e.unstable_ImmediatePriority,Sh=e.unstable_UserBlockingPriority,Xi=e.unstable_NormalPriority,hb=e.unstable_LowPriority,_h=e.unstable_IdlePriority,Ji=null,Pr=null;function fb(n){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Ji,n,void 0,(n.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:gb,pb=Math.log,mb=Math.LN2;function gb(n){return n>>>=0,n===0?32:31-(pb(n)/mb|0)|0}var Qi=64,Zi=4194304;function Ma(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function eo(n,a){var d=n.pendingLanes;if(d===0)return 0;var f=0,g=n.suspendedLanes,b=n.pingedLanes,N=d&268435455;if(N!==0){var C=N&~g;C!==0?f=Ma(C):(b&=N,b!==0&&(f=Ma(b)))}else N=d&~g,N!==0?f=Ma(N):b!==0&&(f=Ma(b));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,b=a&-a,g>=b||g===16&&(b&4194240)!==0))return a;if((f&4)!==0&&(f|=d&16),a=n.entangledLanes,a!==0)for(n=n.entanglements,a&=f;0<a;)d=31-kr(a),g=1<<d,f|=n[d],a&=~g;return f}function xb(n,a){switch(n){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bb(n,a){for(var d=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,b=n.pendingLanes;0<b;){var N=31-kr(b),C=1<<N,A=g[N];A===-1?((C&d)===0||(C&f)!==0)&&(g[N]=xb(C,a)):A<=a&&(n.expiredLanes|=C),b&=~C}}function cc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ch(){var n=Qi;return Qi<<=1,(Qi&4194240)===0&&(Qi=64),n}function dc(n){for(var a=[],d=0;31>d;d++)a.push(n);return a}function Pa(n,a,d){n.pendingLanes|=a,a!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,a=31-kr(a),n[a]=d}function yb(n,a){var d=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<d;){var g=31-kr(d),b=1<<g;a[g]=0,f[g]=-1,n[g]=-1,d&=~b}}function uc(n,a){var d=n.entangledLanes|=a;for(n=n.entanglements;d;){var f=31-kr(d),g=1<<f;g&a|n[f]&a&&(n[f]|=a),d&=~g}}var We=0;function Eh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Mh,hc,Ph,Rh,Ah,fc=!1,to=[],mn=null,gn=null,xn=null,Ra=new Map,Aa=new Map,bn=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lh(n,a){switch(n){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Ra.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(a.pointerId)}}function La(n,a,d,f,g,b){return n===null||n.nativeEvent!==b?(n={blockedOn:a,domEventName:d,eventSystemFlags:f,nativeEvent:b,targetContainers:[g]},a!==null&&(a=Ya(a),a!==null&&hc(a)),n):(n.eventSystemFlags|=f,a=n.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),n)}function wb(n,a,d,f,g){switch(a){case"focusin":return mn=La(mn,n,a,d,f,g),!0;case"dragenter":return gn=La(gn,n,a,d,f,g),!0;case"mouseover":return xn=La(xn,n,a,d,f,g),!0;case"pointerover":var b=g.pointerId;return Ra.set(b,La(Ra.get(b)||null,n,a,d,f,g)),!0;case"gotpointercapture":return b=g.pointerId,Aa.set(b,La(Aa.get(b)||null,n,a,d,f,g)),!0}return!1}function Th(n){var a=Yn(n.target);if(a!==null){var d=qn(a);if(d!==null){if(a=d.tag,a===13){if(a=yh(d),a!==null){n.blockedOn=a,Ah(n.priority,function(){Ph(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ro(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var d=mc(n.domEventName,n.eventSystemFlags,a[0],n.nativeEvent);if(d===null){d=n.nativeEvent;var f=new d.constructor(d.type,d);Nt=f,d.target.dispatchEvent(f),Nt=null}else return a=Ya(d),a!==null&&hc(a),n.blockedOn=d,!1;a.shift()}return!0}function Dh(n,a,d){ro(n)&&d.delete(a)}function kb(){fc=!1,mn!==null&&ro(mn)&&(mn=null),gn!==null&&ro(gn)&&(gn=null),xn!==null&&ro(xn)&&(xn=null),Ra.forEach(Dh),Aa.forEach(Dh)}function Ta(n,a){n.blockedOn===a&&(n.blockedOn=null,fc||(fc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kb)))}function Da(n){function a(g){return Ta(g,n)}if(0<to.length){Ta(to[0],n);for(var d=1;d<to.length;d++){var f=to[d];f.blockedOn===n&&(f.blockedOn=null)}}for(mn!==null&&Ta(mn,n),gn!==null&&Ta(gn,n),xn!==null&&Ta(xn,n),Ra.forEach(a),Aa.forEach(a),d=0;d<bn.length;d++)f=bn[d],f.blockedOn===n&&(f.blockedOn=null);for(;0<bn.length&&(d=bn[0],d.blockedOn===null);)Th(d),d.blockedOn===null&&bn.shift()}var As=L.ReactCurrentBatchConfig,no=!0;function jb(n,a,d,f){var g=We,b=As.transition;As.transition=null;try{We=1,pc(n,a,d,f)}finally{We=g,As.transition=b}}function Nb(n,a,d,f){var g=We,b=As.transition;As.transition=null;try{We=4,pc(n,a,d,f)}finally{We=g,As.transition=b}}function pc(n,a,d,f){if(no){var g=mc(n,a,d,f);if(g===null)Ac(n,a,f,so,d),Lh(n,f);else if(wb(g,n,a,d,f))f.stopPropagation();else if(Lh(n,f),a&4&&-1<vb.indexOf(n)){for(;g!==null;){var b=Ya(g);if(b!==null&&Mh(b),b=mc(n,a,d,f),b===null&&Ac(n,a,f,so,d),b===g)break;g=b}g!==null&&f.stopPropagation()}else Ac(n,a,f,null,d)}}var so=null;function mc(n,a,d,f){if(so=null,n=Ue(f),n=Yn(n),n!==null)if(a=qn(n),a===null)n=null;else if(d=a.tag,d===13){if(n=yh(a),n!==null)return n;n=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null);return so=n,null}function Oh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ub()){case lc:return 1;case Sh:return 4;case Xi:case hb:return 16;case _h:return 536870912;default:return 16}default:return 16}}var yn=null,gc=null,ao=null;function Fh(){if(ao)return ao;var n,a=gc,d=a.length,f,g="value"in yn?yn.value:yn.textContent,b=g.length;for(n=0;n<d&&a[n]===g[n];n++);var N=d-n;for(f=1;f<=N&&a[d-f]===g[b-f];f++);return ao=g.slice(n,1<f?1-f:void 0)}function io(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function oo(){return!0}function Ih(){return!1}function nr(n){function a(d,f,g,b,N){this._reactName=d,this._targetInst=g,this.type=f,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(d=n[C],this[C]=d?d(b):b[C]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?oo:Ih,this.isPropagationStopped=Ih,this}return Z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),a}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xc=nr(Ls),Oa=Z({},Ls,{view:0,detail:0}),Sb=nr(Oa),bc,yc,Fa,lo=Z({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fa&&(Fa&&n.type==="mousemove"?(bc=n.screenX-Fa.screenX,yc=n.screenY-Fa.screenY):yc=bc=0,Fa=n),bc)},movementY:function(n){return"movementY"in n?n.movementY:yc}}),zh=nr(lo),_b=Z({},lo,{dataTransfer:0}),Cb=nr(_b),Eb=Z({},Oa,{relatedTarget:0}),vc=nr(Eb),Mb=Z({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Pb=nr(Mb),Rb=Z({},Ls,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ab=nr(Rb),Lb=Z({},Ls,{data:0}),$h=nr(Lb),Tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ob={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fb(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Ob[n])?!!a[n]:!1}function wc(){return Fb}var Ib=Z({},Oa,{key:function(n){if(n.key){var a=Tb[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=io(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Db[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(n){return n.type==="keypress"?io(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?io(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),zb=nr(Ib),$b=Z({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bh=nr($b),Bb=Z({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),Wb=nr(Bb),Hb=Z({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vb=nr(Hb),Ub=Z({},lo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qb=nr(Ub),Yb=[9,13,27,32],kc=u&&"CompositionEvent"in window,Ia=null;u&&"documentMode"in document&&(Ia=document.documentMode);var Kb=u&&"TextEvent"in window&&!Ia,Wh=u&&(!kc||Ia&&8<Ia&&11>=Ia),Hh=" ",Vh=!1;function Uh(n,a){switch(n){case"keyup":return Yb.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ts=!1;function Gb(n,a){switch(n){case"compositionend":return qh(a);case"keypress":return a.which!==32?null:(Vh=!0,Hh);case"textInput":return n=a.data,n===Hh&&Vh?null:n;default:return null}}function Xb(n,a){if(Ts)return n==="compositionend"||!kc&&Uh(n,a)?(n=Fh(),ao=gc=yn=null,Ts=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wh&&a.locale!=="ko"?null:a.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Jb[n.type]:a==="textarea"}function Kh(n,a,d,f){ph(f),a=po(a,"onChange"),0<a.length&&(d=new xc("onChange","change",null,d,f),n.push({event:d,listeners:a}))}var za=null,$a=null;function Qb(n){ff(n,0)}function co(n){var a=zs(n);if(Oe(a))return n}function Zb(n,a){if(n==="change")return a}var Gh=!1;if(u){var jc;if(u){var Nc="oninput"in document;if(!Nc){var Xh=document.createElement("div");Xh.setAttribute("oninput","return;"),Nc=typeof Xh.oninput=="function"}jc=Nc}else jc=!1;Gh=jc&&(!document.documentMode||9<document.documentMode)}function Jh(){za&&(za.detachEvent("onpropertychange",Qh),$a=za=null)}function Qh(n){if(n.propertyName==="value"&&co($a)){var a=[];Kh(a,$a,n,Ue(n)),bh(Qb,a)}}function ey(n,a,d){n==="focusin"?(Jh(),za=a,$a=d,za.attachEvent("onpropertychange",Qh)):n==="focusout"&&Jh()}function ty(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return co($a)}function ry(n,a){if(n==="click")return co(a)}function ny(n,a){if(n==="input"||n==="change")return co(a)}function sy(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var jr=typeof Object.is=="function"?Object.is:sy;function Ba(n,a){if(jr(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var d=Object.keys(n),f=Object.keys(a);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var g=d[f];if(!h.call(a,g)||!jr(n[g],a[g]))return!1}return!0}function Zh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ef(n,a){var d=Zh(n);n=0;for(var f;d;){if(d.nodeType===3){if(f=n+d.textContent.length,n<=a&&f>=a)return{node:d,offset:a-n};n=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Zh(d)}}function tf(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?tf(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function rf(){for(var n=window,a=ot();a instanceof n.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)n=a.contentWindow;else break;a=ot(n.document)}return a}function Sc(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function ay(n){var a=rf(),d=n.focusedElem,f=n.selectionRange;if(a!==d&&d&&d.ownerDocument&&tf(d.ownerDocument.documentElement,d)){if(f!==null&&Sc(d)){if(a=f.start,n=f.end,n===void 0&&(n=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(n,d.value.length);else if(n=(a=d.ownerDocument||document)&&a.defaultView||window,n.getSelection){n=n.getSelection();var g=d.textContent.length,b=Math.min(f.start,g);f=f.end===void 0?b:Math.min(f.end,g),!n.extend&&b>f&&(g=f,f=b,b=g),g=ef(d,b);var N=ef(d,f);g&&N&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==N.node||n.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),n.removeAllRanges(),b>f?(n.addRange(a),n.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),n.addRange(a)))}}for(a=[],n=d;n=n.parentNode;)n.nodeType===1&&a.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)n=a[d],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var iy=u&&"documentMode"in document&&11>=document.documentMode,Ds=null,_c=null,Wa=null,Cc=!1;function nf(n,a,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Cc||Ds==null||Ds!==ot(f)||(f=Ds,"selectionStart"in f&&Sc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Wa&&Ba(Wa,f)||(Wa=f,f=po(_c,"onSelect"),0<f.length&&(a=new xc("onSelect","select",null,a,d),n.push({event:a,listeners:f}),a.target=Ds)))}function uo(n,a){var d={};return d[n.toLowerCase()]=a.toLowerCase(),d["Webkit"+n]="webkit"+a,d["Moz"+n]="moz"+a,d}var Os={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},Ec={},sf={};u&&(sf=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function ho(n){if(Ec[n])return Ec[n];if(!Os[n])return n;var a=Os[n],d;for(d in a)if(a.hasOwnProperty(d)&&d in sf)return Ec[n]=a[d];return n}var af=ho("animationend"),of=ho("animationiteration"),lf=ho("animationstart"),cf=ho("transitionend"),df=new Map,uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(n,a){df.set(n,a),l(a,[n])}for(var Mc=0;Mc<uf.length;Mc++){var Pc=uf[Mc],oy=Pc.toLowerCase(),ly=Pc[0].toUpperCase()+Pc.slice(1);vn(oy,"on"+ly)}vn(af,"onAnimationEnd"),vn(of,"onAnimationIteration"),vn(lf,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(cf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function hf(n,a,d){var f=n.type||"unknown-event";n.currentTarget=d,ob(f,a,void 0,n),n.currentTarget=null}function ff(n,a){a=(a&4)!==0;for(var d=0;d<n.length;d++){var f=n[d],g=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var N=f.length-1;0<=N;N--){var C=f[N],A=C.instance,K=C.currentTarget;if(C=C.listener,A!==b&&g.isPropagationStopped())break e;hf(g,C,K),b=A}else for(N=0;N<f.length;N++){if(C=f[N],A=C.instance,K=C.currentTarget,C=C.listener,A!==b&&g.isPropagationStopped())break e;hf(g,C,K),b=A}}}if(Gi)throw n=oc,Gi=!1,oc=null,n}function Xe(n,a){var d=a[Ic];d===void 0&&(d=a[Ic]=new Set);var f=n+"__bubble";d.has(f)||(pf(a,n,2,!1),d.add(f))}function Rc(n,a,d){var f=0;a&&(f|=4),pf(d,n,f,a)}var fo="_reactListening"+Math.random().toString(36).slice(2);function Va(n){if(!n[fo]){n[fo]=!0,s.forEach(function(d){d!=="selectionchange"&&(cy.has(d)||Rc(d,!1,n),Rc(d,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[fo]||(a[fo]=!0,Rc("selectionchange",!1,a))}}function pf(n,a,d,f){switch(Oh(a)){case 1:var g=jb;break;case 4:g=Nb;break;default:g=pc}d=g.bind(null,a,d,n),g=void 0,!ic||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(a,d,{capture:!0,passive:g}):n.addEventListener(a,d,!0):g!==void 0?n.addEventListener(a,d,{passive:g}):n.addEventListener(a,d,!1)}function Ac(n,a,d,f,g){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var N=f.tag;if(N===3||N===4){var C=f.stateNode.containerInfo;if(C===g||C.nodeType===8&&C.parentNode===g)break;if(N===4)for(N=f.return;N!==null;){var A=N.tag;if((A===3||A===4)&&(A=N.stateNode.containerInfo,A===g||A.nodeType===8&&A.parentNode===g))return;N=N.return}for(;C!==null;){if(N=Yn(C),N===null)return;if(A=N.tag,A===5||A===6){f=b=N;continue e}C=C.parentNode}}f=f.return}bh(function(){var K=b,se=Ue(d),oe=[];e:{var ne=df.get(n);if(ne!==void 0){var me=xc,ye=n;switch(n){case"keypress":if(io(d)===0)break e;case"keydown":case"keyup":me=zb;break;case"focusin":ye="focus",me=vc;break;case"focusout":ye="blur",me=vc;break;case"beforeblur":case"afterblur":me=vc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Wb;break;case af:case of:case lf:me=Pb;break;case cf:me=Vb;break;case"scroll":me=Sb;break;case"wheel":me=qb;break;case"copy":case"cut":case"paste":me=Ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Bh}var ve=(a&4)!==0,dt=!ve&&n==="scroll",$=ve?ne!==null?ne+"Capture":null:ne;ve=[];for(var O=K,B;O!==null;){B=O;var ue=B.stateNode;if(B.tag===5&&ue!==null&&(B=ue,$!==null&&(ue=_a(O,$),ue!=null&&ve.push(Ua(O,ue,B)))),dt)break;O=O.return}0<ve.length&&(ne=new me(ne,ye,null,d,se),oe.push({event:ne,listeners:ve}))}}if((a&7)===0){e:{if(ne=n==="mouseover"||n==="pointerover",me=n==="mouseout"||n==="pointerout",ne&&d!==Nt&&(ye=d.relatedTarget||d.fromElement)&&(Yn(ye)||ye[Hr]))break e;if((me||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(ye=d.relatedTarget||d.toElement,me=K,ye=ye?Yn(ye):null,ye!==null&&(dt=qn(ye),ye!==dt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(me=null,ye=K),me!==ye)){if(ve=zh,ue="onMouseLeave",$="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Bh,ue="onPointerLeave",$="onPointerEnter",O="pointer"),dt=me==null?ne:zs(me),B=ye==null?ne:zs(ye),ne=new ve(ue,O+"leave",me,d,se),ne.target=dt,ne.relatedTarget=B,ue=null,Yn(se)===K&&(ve=new ve($,O+"enter",ye,d,se),ve.target=B,ve.relatedTarget=dt,ue=ve),dt=ue,me&&ye)t:{for(ve=me,$=ye,O=0,B=ve;B;B=Fs(B))O++;for(B=0,ue=$;ue;ue=Fs(ue))B++;for(;0<O-B;)ve=Fs(ve),O--;for(;0<B-O;)$=Fs($),B--;for(;O--;){if(ve===$||$!==null&&ve===$.alternate)break t;ve=Fs(ve),$=Fs($)}ve=null}else ve=null;me!==null&&mf(oe,ne,me,ve,!1),ye!==null&&dt!==null&&mf(oe,dt,ye,ve,!0)}}e:{if(ne=K?zs(K):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var we=Zb;else if(Yh(ne))if(Gh)we=ny;else{we=ty;var Ne=ey}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(we=ry);if(we&&(we=we(n,K))){Kh(oe,we,d,se);break e}Ne&&Ne(n,ne,K),n==="focusout"&&(Ne=ne._wrapperState)&&Ne.controlled&&ne.type==="number"&&Re(ne,"number",ne.value)}switch(Ne=K?zs(K):window,n){case"focusin":(Yh(Ne)||Ne.contentEditable==="true")&&(Ds=Ne,_c=K,Wa=null);break;case"focusout":Wa=_c=Ds=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,nf(oe,d,se);break;case"selectionchange":if(iy)break;case"keydown":case"keyup":nf(oe,d,se)}var Se;if(kc)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ts?Uh(n,d)&&(Ee="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&(Ee="onCompositionStart");Ee&&(Wh&&d.locale!=="ko"&&(Ts||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ts&&(Se=Fh()):(yn=se,gc="value"in yn?yn.value:yn.textContent,Ts=!0)),Ne=po(K,Ee),0<Ne.length&&(Ee=new $h(Ee,n,null,d,se),oe.push({event:Ee,listeners:Ne}),Se?Ee.data=Se:(Se=qh(d),Se!==null&&(Ee.data=Se)))),(Se=Kb?Gb(n,d):Xb(n,d))&&(K=po(K,"onBeforeInput"),0<K.length&&(se=new $h("onBeforeInput","beforeinput",null,d,se),oe.push({event:se,listeners:K}),se.data=Se))}ff(oe,a)})}function Ua(n,a,d){return{instance:n,listener:a,currentTarget:d}}function po(n,a){for(var d=a+"Capture",f=[];n!==null;){var g=n,b=g.stateNode;g.tag===5&&b!==null&&(g=b,b=_a(n,d),b!=null&&f.unshift(Ua(n,b,g)),b=_a(n,a),b!=null&&f.push(Ua(n,b,g))),n=n.return}return f}function Fs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function mf(n,a,d,f,g){for(var b=a._reactName,N=[];d!==null&&d!==f;){var C=d,A=C.alternate,K=C.stateNode;if(A!==null&&A===f)break;C.tag===5&&K!==null&&(C=K,g?(A=_a(d,b),A!=null&&N.unshift(Ua(d,A,C))):g||(A=_a(d,b),A!=null&&N.push(Ua(d,A,C)))),d=d.return}N.length!==0&&n.push({event:a,listeners:N})}var dy=/\r\n?/g,uy=/\u0000|\uFFFD/g;function gf(n){return(typeof n=="string"?n:""+n).replace(dy,`
`).replace(uy,"")}function mo(n,a,d){if(a=gf(a),gf(n)!==a&&d)throw Error(r(425))}function go(){}var Lc=null,Tc=null;function Dc(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Oc=typeof setTimeout=="function"?setTimeout:void 0,hy=typeof clearTimeout=="function"?clearTimeout:void 0,xf=typeof Promise=="function"?Promise:void 0,fy=typeof queueMicrotask=="function"?queueMicrotask:typeof xf<"u"?function(n){return xf.resolve(null).then(n).catch(py)}:Oc;function py(n){setTimeout(function(){throw n})}function Fc(n,a){var d=a,f=0;do{var g=d.nextSibling;if(n.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(f===0){n.removeChild(g),Da(a);return}f--}else d!=="$"&&d!=="$?"&&d!=="$!"||f++;d=g}while(d);Da(a)}function wn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return n}function bf(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return n;a--}else d==="/$"&&a++}n=n.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Is,qa="__reactProps$"+Is,Hr="__reactContainer$"+Is,Ic="__reactEvents$"+Is,my="__reactListeners$"+Is,gy="__reactHandles$"+Is;function Yn(n){var a=n[Rr];if(a)return a;for(var d=n.parentNode;d;){if(a=d[Hr]||d[Rr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(n=bf(n);n!==null;){if(d=n[Rr])return d;n=bf(n)}return a}n=d,d=n.parentNode}return null}function Ya(n){return n=n[Rr]||n[Hr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function zs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function xo(n){return n[qa]||null}var zc=[],$s=-1;function kn(n){return{current:n}}function Je(n){0>$s||(n.current=zc[$s],zc[$s]=null,$s--)}function Ke(n,a){$s++,zc[$s]=n.current,n.current=a}var jn={},Rt=kn(jn),qt=kn(!1),Kn=jn;function Bs(n,a){var d=n.type.contextTypes;if(!d)return jn;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},b;for(b in d)g[b]=a[b];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=g),g}function Yt(n){return n=n.childContextTypes,n!=null}function bo(){Je(qt),Je(Rt)}function yf(n,a,d){if(Rt.current!==jn)throw Error(r(168));Ke(Rt,a),Ke(qt,d)}function vf(n,a,d){var f=n.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return d;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(r(108,_e(n)||"Unknown",g));return Z({},d,f)}function yo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||jn,Kn=Rt.current,Ke(Rt,n),Ke(qt,qt.current),!0}function wf(n,a,d){var f=n.stateNode;if(!f)throw Error(r(169));d?(n=vf(n,a,Kn),f.__reactInternalMemoizedMergedChildContext=n,Je(qt),Je(Rt),Ke(Rt,n)):Je(qt),Ke(qt,d)}var Vr=null,vo=!1,$c=!1;function kf(n){Vr===null?Vr=[n]:Vr.push(n)}function xy(n){vo=!0,kf(n)}function Nn(){if(!$c&&Vr!==null){$c=!0;var n=0,a=We;try{var d=Vr;for(We=1;n<d.length;n++){var f=d[n];do f=f(!0);while(f!==null)}Vr=null,vo=!1}catch(g){throw Vr!==null&&(Vr=Vr.slice(n+1)),jh(lc,Nn),g}finally{We=a,$c=!1}}return null}var Ws=[],Hs=0,wo=null,ko=0,ur=[],hr=0,Gn=null,Ur=1,qr="";function Xn(n,a){Ws[Hs++]=ko,Ws[Hs++]=wo,wo=n,ko=a}function jf(n,a,d){ur[hr++]=Ur,ur[hr++]=qr,ur[hr++]=Gn,Gn=n;var f=Ur;n=qr;var g=32-kr(f)-1;f&=~(1<<g),d+=1;var b=32-kr(a)+g;if(30<b){var N=g-g%5;b=(f&(1<<N)-1).toString(32),f>>=N,g-=N,Ur=1<<32-kr(a)+g|d<<g|f,qr=b+n}else Ur=1<<b|d<<g|f,qr=n}function Bc(n){n.return!==null&&(Xn(n,1),jf(n,1,0))}function Wc(n){for(;n===wo;)wo=Ws[--Hs],Ws[Hs]=null,ko=Ws[--Hs],Ws[Hs]=null;for(;n===Gn;)Gn=ur[--hr],ur[hr]=null,qr=ur[--hr],ur[hr]=null,Ur=ur[--hr],ur[hr]=null}var sr=null,ar=null,et=!1,Nr=null;function Nf(n,a){var d=gr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=n,a=n.deletions,a===null?(n.deletions=[d],n.flags|=16):a.push(d)}function Sf(n,a){switch(n.tag){case 5:var d=n.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(n.stateNode=a,sr=n,ar=wn(a.firstChild),!0):!1;case 6:return a=n.pendingProps===""||a.nodeType!==3?null:a,a!==null?(n.stateNode=a,sr=n,ar=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Gn!==null?{id:Ur,overflow:qr}:null,n.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=gr(18,null,null,0),d.stateNode=a,d.return=n,n.child=d,sr=n,ar=null,!0):!1;default:return!1}}function Hc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Vc(n){if(et){var a=ar;if(a){var d=a;if(!Sf(n,a)){if(Hc(n))throw Error(r(418));a=wn(d.nextSibling);var f=sr;a&&Sf(n,a)?Nf(f,d):(n.flags=n.flags&-4097|2,et=!1,sr=n)}}else{if(Hc(n))throw Error(r(418));n.flags=n.flags&-4097|2,et=!1,sr=n}}}function _f(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sr=n}function jo(n){if(n!==sr)return!1;if(!et)return _f(n),et=!0,!1;var a;if((a=n.tag!==3)&&!(a=n.tag!==5)&&(a=n.type,a=a!=="head"&&a!=="body"&&!Dc(n.type,n.memoizedProps)),a&&(a=ar)){if(Hc(n))throw Cf(),Error(r(418));for(;a;)Nf(n,a),a=wn(a.nextSibling)}if(_f(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"){if(a===0){ar=wn(n.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}n=n.nextSibling}ar=null}}else ar=sr?wn(n.stateNode.nextSibling):null;return!0}function Cf(){for(var n=ar;n;)n=wn(n.nextSibling)}function Vs(){ar=sr=null,et=!1}function Uc(n){Nr===null?Nr=[n]:Nr.push(n)}var by=L.ReactCurrentBatchConfig;function Ka(n,a,d){if(n=d.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var f=d.stateNode}if(!f)throw Error(r(147,n));var g=f,b=""+n;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(N){var C=g.refs;N===null?delete C[b]:C[b]=N},a._stringRef=b,a)}if(typeof n!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,n))}return n}function No(n,a){throw n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n))}function Ef(n){var a=n._init;return a(n._payload)}function Mf(n){function a($,O){if(n){var B=$.deletions;B===null?($.deletions=[O],$.flags|=16):B.push(O)}}function d($,O){if(!n)return null;for(;O!==null;)a($,O),O=O.sibling;return null}function f($,O){for($=new Map;O!==null;)O.key!==null?$.set(O.key,O):$.set(O.index,O),O=O.sibling;return $}function g($,O){return $=An($,O),$.index=0,$.sibling=null,$}function b($,O,B){return $.index=B,n?(B=$.alternate,B!==null?(B=B.index,B<O?($.flags|=2,O):B):($.flags|=2,O)):($.flags|=1048576,O)}function N($){return n&&$.alternate===null&&($.flags|=2),$}function C($,O,B,ue){return O===null||O.tag!==6?(O=Od(B,$.mode,ue),O.return=$,O):(O=g(O,B),O.return=$,O)}function A($,O,B,ue){var we=B.type;return we===H?se($,O,B.props.children,ue,B.key):O!==null&&(O.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&Ef(we)===O.type)?(ue=g(O,B.props),ue.ref=Ka($,O,B),ue.return=$,ue):(ue=Ko(B.type,B.key,B.props,null,$.mode,ue),ue.ref=Ka($,O,B),ue.return=$,ue)}function K($,O,B,ue){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Fd(B,$.mode,ue),O.return=$,O):(O=g(O,B.children||[]),O.return=$,O)}function se($,O,B,ue,we){return O===null||O.tag!==7?(O=ss(B,$.mode,ue,we),O.return=$,O):(O=g(O,B),O.return=$,O)}function oe($,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Od(""+O,$.mode,B),O.return=$,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return B=Ko(O.type,O.key,O.props,null,$.mode,B),B.ref=Ka($,null,O),B.return=$,B;case W:return O=Fd(O,$.mode,B),O.return=$,O;case S:var ue=O._init;return oe($,ue(O._payload),B)}if(tt(O)||re(O))return O=ss(O,$.mode,B,null),O.return=$,O;No($,O)}return null}function ne($,O,B,ue){var we=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return we!==null?null:C($,O,""+B,ue);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D:return B.key===we?A($,O,B,ue):null;case W:return B.key===we?K($,O,B,ue):null;case S:return we=B._init,ne($,O,we(B._payload),ue)}if(tt(B)||re(B))return we!==null?null:se($,O,B,ue,null);No($,B)}return null}function me($,O,B,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return $=$.get(B)||null,C(O,$,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case D:return $=$.get(ue.key===null?B:ue.key)||null,A(O,$,ue,we);case W:return $=$.get(ue.key===null?B:ue.key)||null,K(O,$,ue,we);case S:var Ne=ue._init;return me($,O,B,Ne(ue._payload),we)}if(tt(ue)||re(ue))return $=$.get(B)||null,se(O,$,ue,we,null);No(O,ue)}return null}function ye($,O,B,ue){for(var we=null,Ne=null,Se=O,Ee=O=0,Ct=null;Se!==null&&Ee<B.length;Ee++){Se.index>Ee?(Ct=Se,Se=null):Ct=Se.sibling;var ze=ne($,Se,B[Ee],ue);if(ze===null){Se===null&&(Se=Ct);break}n&&Se&&ze.alternate===null&&a($,Se),O=b(ze,O,Ee),Ne===null?we=ze:Ne.sibling=ze,Ne=ze,Se=Ct}if(Ee===B.length)return d($,Se),et&&Xn($,Ee),we;if(Se===null){for(;Ee<B.length;Ee++)Se=oe($,B[Ee],ue),Se!==null&&(O=b(Se,O,Ee),Ne===null?we=Se:Ne.sibling=Se,Ne=Se);return et&&Xn($,Ee),we}for(Se=f($,Se);Ee<B.length;Ee++)Ct=me(Se,$,Ee,B[Ee],ue),Ct!==null&&(n&&Ct.alternate!==null&&Se.delete(Ct.key===null?Ee:Ct.key),O=b(Ct,O,Ee),Ne===null?we=Ct:Ne.sibling=Ct,Ne=Ct);return n&&Se.forEach(function(Ln){return a($,Ln)}),et&&Xn($,Ee),we}function ve($,O,B,ue){var we=re(B);if(typeof we!="function")throw Error(r(150));if(B=we.call(B),B==null)throw Error(r(151));for(var Ne=we=null,Se=O,Ee=O=0,Ct=null,ze=B.next();Se!==null&&!ze.done;Ee++,ze=B.next()){Se.index>Ee?(Ct=Se,Se=null):Ct=Se.sibling;var Ln=ne($,Se,ze.value,ue);if(Ln===null){Se===null&&(Se=Ct);break}n&&Se&&Ln.alternate===null&&a($,Se),O=b(Ln,O,Ee),Ne===null?we=Ln:Ne.sibling=Ln,Ne=Ln,Se=Ct}if(ze.done)return d($,Se),et&&Xn($,Ee),we;if(Se===null){for(;!ze.done;Ee++,ze=B.next())ze=oe($,ze.value,ue),ze!==null&&(O=b(ze,O,Ee),Ne===null?we=ze:Ne.sibling=ze,Ne=ze);return et&&Xn($,Ee),we}for(Se=f($,Se);!ze.done;Ee++,ze=B.next())ze=me(Se,$,Ee,ze.value,ue),ze!==null&&(n&&ze.alternate!==null&&Se.delete(ze.key===null?Ee:ze.key),O=b(ze,O,Ee),Ne===null?we=ze:Ne.sibling=ze,Ne=ze);return n&&Se.forEach(function(Jy){return a($,Jy)}),et&&Xn($,Ee),we}function dt($,O,B,ue){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case D:e:{for(var we=B.key,Ne=O;Ne!==null;){if(Ne.key===we){if(we=B.type,we===H){if(Ne.tag===7){d($,Ne.sibling),O=g(Ne,B.props.children),O.return=$,$=O;break e}}else if(Ne.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&Ef(we)===Ne.type){d($,Ne.sibling),O=g(Ne,B.props),O.ref=Ka($,Ne,B),O.return=$,$=O;break e}d($,Ne);break}else a($,Ne);Ne=Ne.sibling}B.type===H?(O=ss(B.props.children,$.mode,ue,B.key),O.return=$,$=O):(ue=Ko(B.type,B.key,B.props,null,$.mode,ue),ue.ref=Ka($,O,B),ue.return=$,$=ue)}return N($);case W:e:{for(Ne=B.key;O!==null;){if(O.key===Ne)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){d($,O.sibling),O=g(O,B.children||[]),O.return=$,$=O;break e}else{d($,O);break}else a($,O);O=O.sibling}O=Fd(B,$.mode,ue),O.return=$,$=O}return N($);case S:return Ne=B._init,dt($,O,Ne(B._payload),ue)}if(tt(B))return ye($,O,B,ue);if(re(B))return ve($,O,B,ue);No($,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,O!==null&&O.tag===6?(d($,O.sibling),O=g(O,B),O.return=$,$=O):(d($,O),O=Od(B,$.mode,ue),O.return=$,$=O),N($)):d($,O)}return dt}var Us=Mf(!0),Pf=Mf(!1),So=kn(null),_o=null,qs=null,qc=null;function Yc(){qc=qs=_o=null}function Kc(n){var a=So.current;Je(So),n._currentValue=a}function Gc(n,a,d){for(;n!==null;){var f=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),n===d)break;n=n.return}}function Ys(n,a){_o=n,qc=qs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&a)!==0&&(Kt=!0),n.firstContext=null)}function fr(n){var a=n._currentValue;if(qc!==n)if(n={context:n,memoizedValue:a,next:null},qs===null){if(_o===null)throw Error(r(308));qs=n,_o.dependencies={lanes:0,firstContext:n}}else qs=qs.next=n;return a}var Jn=null;function Xc(n){Jn===null?Jn=[n]:Jn.push(n)}function Rf(n,a,d,f){var g=a.interleaved;return g===null?(d.next=d,Xc(a)):(d.next=g.next,g.next=d),a.interleaved=d,Yr(n,f)}function Yr(n,a){n.lanes|=a;var d=n.alternate;for(d!==null&&(d.lanes|=a),d=n,n=n.return;n!==null;)n.childLanes|=a,d=n.alternate,d!==null&&(d.childLanes|=a),d=n,n=n.return;return d.tag===3?d.stateNode:null}var Sn=!1;function Jc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Af(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Kr(n,a){return{eventTime:n,lane:a,tag:0,payload:null,callback:null,next:null}}function _n(n,a,d){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(Fe&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,Yr(n,d)}return g=f.interleaved,g===null?(a.next=a,Xc(f)):(a.next=g.next,g.next=a),f.interleaved=a,Yr(n,d)}function Co(n,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var f=a.lanes;f&=n.pendingLanes,d|=f,a.lanes=d,uc(n,d)}}function Lf(n,a){var d=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var g=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var N={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?g=b=N:b=b.next=N,d=d.next}while(d!==null);b===null?g=b=a:b=b.next=a}else g=b=a;d={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:f.shared,effects:f.effects},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=a:n.next=a,d.lastBaseUpdate=a}function Eo(n,a,d,f){var g=n.updateQueue;Sn=!1;var b=g.firstBaseUpdate,N=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var A=C,K=A.next;A.next=null,N===null?b=K:N.next=K,N=A;var se=n.alternate;se!==null&&(se=se.updateQueue,C=se.lastBaseUpdate,C!==N&&(C===null?se.firstBaseUpdate=K:C.next=K,se.lastBaseUpdate=A))}if(b!==null){var oe=g.baseState;N=0,se=K=A=null,C=b;do{var ne=C.lane,me=C.eventTime;if((f&ne)===ne){se!==null&&(se=se.next={eventTime:me,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ye=n,ve=C;switch(ne=a,me=d,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){oe=ye.call(me,oe,ne);break e}oe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,ne=typeof ye=="function"?ye.call(me,oe,ne):ye,ne==null)break e;oe=Z({},oe,ne);break e;case 2:Sn=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,ne=g.effects,ne===null?g.effects=[C]:ne.push(C))}else me={eventTime:me,lane:ne,tag:C.tag,payload:C.payload,callback:C.callback,next:null},se===null?(K=se=me,A=oe):se=se.next=me,N|=ne;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;ne=C,C=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(se===null&&(A=oe),g.baseState=A,g.firstBaseUpdate=K,g.lastBaseUpdate=se,a=g.shared.interleaved,a!==null){g=a;do N|=g.lane,g=g.next;while(g!==a)}else b===null&&(g.shared.lanes=0);es|=N,n.lanes=N,n.memoizedState=oe}}function Tf(n,a,d){if(n=a.effects,a.effects=null,n!==null)for(a=0;a<n.length;a++){var f=n[a],g=f.callback;if(g!==null){if(f.callback=null,f=d,typeof g!="function")throw Error(r(191,g));g.call(f)}}}var Ga={},Ar=kn(Ga),Xa=kn(Ga),Ja=kn(Ga);function Qn(n){if(n===Ga)throw Error(r(174));return n}function Qc(n,a){switch(Ke(Ja,a),Ke(Xa,n),Ke(Ar,Ga),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:pe(null,"");break;default:n=n===8?a.parentNode:a,a=n.namespaceURI||null,n=n.tagName,a=pe(a,n)}Je(Ar),Ke(Ar,a)}function Ks(){Je(Ar),Je(Xa),Je(Ja)}function Df(n){Qn(Ja.current);var a=Qn(Ar.current),d=pe(a,n.type);a!==d&&(Ke(Xa,n),Ke(Ar,d))}function Zc(n){Xa.current===n&&(Je(Ar),Je(Xa))}var rt=kn(0);function Mo(n){for(var a=n;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ed=[];function td(){for(var n=0;n<ed.length;n++)ed[n]._workInProgressVersionPrimary=null;ed.length=0}var Po=L.ReactCurrentDispatcher,rd=L.ReactCurrentBatchConfig,Zn=0,nt=null,bt=null,St=null,Ro=!1,Qa=!1,Za=0,yy=0;function At(){throw Error(r(321))}function nd(n,a){if(a===null)return!1;for(var d=0;d<a.length&&d<n.length;d++)if(!jr(n[d],a[d]))return!1;return!0}function sd(n,a,d,f,g,b){if(Zn=b,nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Po.current=n===null||n.memoizedState===null?jy:Ny,n=d(f,g),Qa){b=0;do{if(Qa=!1,Za=0,25<=b)throw Error(r(301));b+=1,St=bt=null,a.updateQueue=null,Po.current=Sy,n=d(f,g)}while(Qa)}if(Po.current=To,a=bt!==null&&bt.next!==null,Zn=0,St=bt=nt=null,Ro=!1,a)throw Error(r(300));return n}function ad(){var n=Za!==0;return Za=0,n}function Lr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?nt.memoizedState=St=n:St=St.next=n,St}function pr(){if(bt===null){var n=nt.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var a=St===null?nt.memoizedState:St.next;if(a!==null)St=a,bt=n;else{if(n===null)throw Error(r(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},St===null?nt.memoizedState=St=n:St=St.next=n}return St}function ei(n,a){return typeof a=="function"?a(n):a}function id(n){var a=pr(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=n;var f=bt,g=f.baseQueue,b=d.pending;if(b!==null){if(g!==null){var N=g.next;g.next=b.next,b.next=N}f.baseQueue=g=b,d.pending=null}if(g!==null){b=g.next,f=f.baseState;var C=N=null,A=null,K=b;do{var se=K.lane;if((Zn&se)===se)A!==null&&(A=A.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:n(f,K.action);else{var oe={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};A===null?(C=A=oe,N=f):A=A.next=oe,nt.lanes|=se,es|=se}K=K.next}while(K!==null&&K!==b);A===null?N=f:A.next=C,jr(f,a.memoizedState)||(Kt=!0),a.memoizedState=f,a.baseState=N,a.baseQueue=A,d.lastRenderedState=f}if(n=d.interleaved,n!==null){g=n;do b=g.lane,nt.lanes|=b,es|=b,g=g.next;while(g!==n)}else g===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function od(n){var a=pr(),d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=n;var f=d.dispatch,g=d.pending,b=a.memoizedState;if(g!==null){d.pending=null;var N=g=g.next;do b=n(b,N.action),N=N.next;while(N!==g);jr(b,a.memoizedState)||(Kt=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),d.lastRenderedState=b}return[b,f]}function Of(){}function Ff(n,a){var d=nt,f=pr(),g=a(),b=!jr(f.memoizedState,g);if(b&&(f.memoizedState=g,Kt=!0),f=f.queue,ld($f.bind(null,d,f,n),[n]),f.getSnapshot!==a||b||St!==null&&St.memoizedState.tag&1){if(d.flags|=2048,ti(9,zf.bind(null,d,f,g,a),void 0,null),_t===null)throw Error(r(349));(Zn&30)!==0||If(d,a,g)}return g}function If(n,a,d){n.flags|=16384,n={getSnapshot:a,value:d},a=nt.updateQueue,a===null?(a={lastEffect:null,stores:null},nt.updateQueue=a,a.stores=[n]):(d=a.stores,d===null?a.stores=[n]:d.push(n))}function zf(n,a,d,f){a.value=d,a.getSnapshot=f,Bf(a)&&Wf(n)}function $f(n,a,d){return d(function(){Bf(a)&&Wf(n)})}function Bf(n){var a=n.getSnapshot;n=n.value;try{var d=a();return!jr(n,d)}catch{return!0}}function Wf(n){var a=Yr(n,1);a!==null&&Er(a,n,1,-1)}function Hf(n){var a=Lr();return typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:n},a.queue=n,n=n.dispatch=ky.bind(null,nt,n),[a.memoizedState,n]}function ti(n,a,d,f){return n={tag:n,create:a,destroy:d,deps:f,next:null},a=nt.updateQueue,a===null?(a={lastEffect:null,stores:null},nt.updateQueue=a,a.lastEffect=n.next=n):(d=a.lastEffect,d===null?a.lastEffect=n.next=n:(f=d.next,d.next=n,n.next=f,a.lastEffect=n)),n}function Vf(){return pr().memoizedState}function Ao(n,a,d,f){var g=Lr();nt.flags|=n,g.memoizedState=ti(1|a,d,void 0,f===void 0?null:f)}function Lo(n,a,d,f){var g=pr();f=f===void 0?null:f;var b=void 0;if(bt!==null){var N=bt.memoizedState;if(b=N.destroy,f!==null&&nd(f,N.deps)){g.memoizedState=ti(a,d,b,f);return}}nt.flags|=n,g.memoizedState=ti(1|a,d,b,f)}function Uf(n,a){return Ao(8390656,8,n,a)}function ld(n,a){return Lo(2048,8,n,a)}function qf(n,a){return Lo(4,2,n,a)}function Yf(n,a){return Lo(4,4,n,a)}function Kf(n,a){if(typeof a=="function")return n=n(),a(n),function(){a(null)};if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Gf(n,a,d){return d=d!=null?d.concat([n]):null,Lo(4,4,Kf.bind(null,a,n),d)}function cd(){}function Xf(n,a){var d=pr();a=a===void 0?null:a;var f=d.memoizedState;return f!==null&&a!==null&&nd(a,f[1])?f[0]:(d.memoizedState=[n,a],n)}function Jf(n,a){var d=pr();a=a===void 0?null:a;var f=d.memoizedState;return f!==null&&a!==null&&nd(a,f[1])?f[0]:(n=n(),d.memoizedState=[n,a],n)}function Qf(n,a,d){return(Zn&21)===0?(n.baseState&&(n.baseState=!1,Kt=!0),n.memoizedState=d):(jr(d,a)||(d=Ch(),nt.lanes|=d,es|=d,n.baseState=!0),a)}function vy(n,a){var d=We;We=d!==0&&4>d?d:4,n(!0);var f=rd.transition;rd.transition={};try{n(!1),a()}finally{We=d,rd.transition=f}}function Zf(){return pr().memoizedState}function wy(n,a,d){var f=Pn(n);if(d={lane:f,action:d,hasEagerState:!1,eagerState:null,next:null},e0(n))t0(a,d);else if(d=Rf(n,a,d,f),d!==null){var g=Wt();Er(d,n,f,g),r0(d,a,f)}}function ky(n,a,d){var f=Pn(n),g={lane:f,action:d,hasEagerState:!1,eagerState:null,next:null};if(e0(n))t0(a,g);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var N=a.lastRenderedState,C=b(N,d);if(g.hasEagerState=!0,g.eagerState=C,jr(C,N)){var A=a.interleaved;A===null?(g.next=g,Xc(a)):(g.next=A.next,A.next=g),a.interleaved=g;return}}catch{}d=Rf(n,a,g,f),d!==null&&(g=Wt(),Er(d,n,f,g),r0(d,a,f))}}function e0(n){var a=n.alternate;return n===nt||a!==null&&a===nt}function t0(n,a){Qa=Ro=!0;var d=n.pending;d===null?a.next=a:(a.next=d.next,d.next=a),n.pending=a}function r0(n,a,d){if((d&4194240)!==0){var f=a.lanes;f&=n.pendingLanes,d|=f,a.lanes=d,uc(n,d)}}var To={readContext:fr,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},jy={readContext:fr,useCallback:function(n,a){return Lr().memoizedState=[n,a===void 0?null:a],n},useContext:fr,useEffect:Uf,useImperativeHandle:function(n,a,d){return d=d!=null?d.concat([n]):null,Ao(4194308,4,Kf.bind(null,a,n),d)},useLayoutEffect:function(n,a){return Ao(4194308,4,n,a)},useInsertionEffect:function(n,a){return Ao(4,2,n,a)},useMemo:function(n,a){var d=Lr();return a=a===void 0?null:a,n=n(),d.memoizedState=[n,a],n},useReducer:function(n,a,d){var f=Lr();return a=d!==void 0?d(a):a,f.memoizedState=f.baseState=a,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:a},f.queue=n,n=n.dispatch=wy.bind(null,nt,n),[f.memoizedState,n]},useRef:function(n){var a=Lr();return n={current:n},a.memoizedState=n},useState:Hf,useDebugValue:cd,useDeferredValue:function(n){return Lr().memoizedState=n},useTransition:function(){var n=Hf(!1),a=n[0];return n=vy.bind(null,n[1]),Lr().memoizedState=n,[a,n]},useMutableSource:function(){},useSyncExternalStore:function(n,a,d){var f=nt,g=Lr();if(et){if(d===void 0)throw Error(r(407));d=d()}else{if(d=a(),_t===null)throw Error(r(349));(Zn&30)!==0||If(f,a,d)}g.memoizedState=d;var b={value:d,getSnapshot:a};return g.queue=b,Uf($f.bind(null,f,b,n),[n]),f.flags|=2048,ti(9,zf.bind(null,f,b,d,a),void 0,null),d},useId:function(){var n=Lr(),a=_t.identifierPrefix;if(et){var d=qr,f=Ur;d=(f&~(1<<32-kr(f)-1)).toString(32)+d,a=":"+a+"R"+d,d=Za++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=yy++,a=":"+a+"r"+d.toString(32)+":";return n.memoizedState=a},unstable_isNewReconciler:!1},Ny={readContext:fr,useCallback:Xf,useContext:fr,useEffect:ld,useImperativeHandle:Gf,useInsertionEffect:qf,useLayoutEffect:Yf,useMemo:Jf,useReducer:id,useRef:Vf,useState:function(){return id(ei)},useDebugValue:cd,useDeferredValue:function(n){var a=pr();return Qf(a,bt.memoizedState,n)},useTransition:function(){var n=id(ei)[0],a=pr().memoizedState;return[n,a]},useMutableSource:Of,useSyncExternalStore:Ff,useId:Zf,unstable_isNewReconciler:!1},Sy={readContext:fr,useCallback:Xf,useContext:fr,useEffect:ld,useImperativeHandle:Gf,useInsertionEffect:qf,useLayoutEffect:Yf,useMemo:Jf,useReducer:od,useRef:Vf,useState:function(){return od(ei)},useDebugValue:cd,useDeferredValue:function(n){var a=pr();return bt===null?a.memoizedState=n:Qf(a,bt.memoizedState,n)},useTransition:function(){var n=od(ei)[0],a=pr().memoizedState;return[n,a]},useMutableSource:Of,useSyncExternalStore:Ff,useId:Zf,unstable_isNewReconciler:!1};function Sr(n,a){if(n&&n.defaultProps){a=Z({},a),n=n.defaultProps;for(var d in n)a[d]===void 0&&(a[d]=n[d]);return a}return a}function dd(n,a,d,f){a=n.memoizedState,d=d(f,a),d=d==null?a:Z({},a,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var Do={isMounted:function(n){return(n=n._reactInternals)?qn(n)===n:!1},enqueueSetState:function(n,a,d){n=n._reactInternals;var f=Wt(),g=Pn(n),b=Kr(f,g);b.payload=a,d!=null&&(b.callback=d),a=_n(n,b,g),a!==null&&(Er(a,n,g,f),Co(a,n,g))},enqueueReplaceState:function(n,a,d){n=n._reactInternals;var f=Wt(),g=Pn(n),b=Kr(f,g);b.tag=1,b.payload=a,d!=null&&(b.callback=d),a=_n(n,b,g),a!==null&&(Er(a,n,g,f),Co(a,n,g))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var d=Wt(),f=Pn(n),g=Kr(d,f);g.tag=2,a!=null&&(g.callback=a),a=_n(n,g,f),a!==null&&(Er(a,n,f,d),Co(a,n,f))}};function n0(n,a,d,f,g,b,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,b,N):a.prototype&&a.prototype.isPureReactComponent?!Ba(d,f)||!Ba(g,b):!0}function s0(n,a,d){var f=!1,g=jn,b=a.contextType;return typeof b=="object"&&b!==null?b=fr(b):(g=Yt(a)?Kn:Rt.current,f=a.contextTypes,b=(f=f!=null)?Bs(n,g):jn),a=new a(d,b),n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Do,n.stateNode=a,a._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=b),a}function a0(n,a,d,f){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,f),a.state!==n&&Do.enqueueReplaceState(a,a.state,null)}function ud(n,a,d,f){var g=n.stateNode;g.props=d,g.state=n.memoizedState,g.refs={},Jc(n);var b=a.contextType;typeof b=="object"&&b!==null?g.context=fr(b):(b=Yt(a)?Kn:Rt.current,g.context=Bs(n,b)),g.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(dd(n,a,b,d),g.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Do.enqueueReplaceState(g,g.state,null),Eo(n,d,g,f),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function Gs(n,a){try{var d="",f=a;do d+=fe(f),f=f.return;while(f);var g=d}catch(b){g=`
Error generating stack: `+b.message+`
`+b.stack}return{value:n,source:a,stack:g,digest:null}}function hd(n,a,d){return{value:n,source:null,stack:d??null,digest:a??null}}function fd(n,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var _y=typeof WeakMap=="function"?WeakMap:Map;function i0(n,a,d){d=Kr(-1,d),d.tag=3,d.payload={element:null};var f=a.value;return d.callback=function(){Wo||(Wo=!0,Ed=f),fd(n,a)},d}function o0(n,a,d){d=Kr(-1,d),d.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;d.payload=function(){return f(g)},d.callback=function(){fd(n,a)}}var b=n.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){fd(n,a),typeof f!="function"&&(En===null?En=new Set([this]):En.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})}),d}function l0(n,a,d){var f=n.pingCache;if(f===null){f=n.pingCache=new _y;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(d)||(g.add(d),n=$y.bind(null,n,a,d),a.then(n,n))}function c0(n){do{var a;if((a=n.tag===13)&&(a=n.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return n;n=n.return}while(n!==null);return null}function d0(n,a,d,f,g){return(n.mode&1)===0?(n===a?n.flags|=65536:(n.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Kr(-1,1),a.tag=2,_n(d,a,1))),d.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var Cy=L.ReactCurrentOwner,Kt=!1;function Bt(n,a,d,f){a.child=n===null?Pf(a,null,d,f):Us(a,n.child,d,f)}function u0(n,a,d,f,g){d=d.render;var b=a.ref;return Ys(a,g),f=sd(n,a,d,f,b,g),d=ad(),n!==null&&!Kt?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~g,Gr(n,a,g)):(et&&d&&Bc(a),a.flags|=1,Bt(n,a,f,g),a.child)}function h0(n,a,d,f,g){if(n===null){var b=d.type;return typeof b=="function"&&!Dd(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=b,f0(n,a,b,f,g)):(n=Ko(d.type,null,f,a,a.mode,g),n.ref=a.ref,n.return=a,a.child=n)}if(b=n.child,(n.lanes&g)===0){var N=b.memoizedProps;if(d=d.compare,d=d!==null?d:Ba,d(N,f)&&n.ref===a.ref)return Gr(n,a,g)}return a.flags|=1,n=An(b,f),n.ref=a.ref,n.return=a,a.child=n}function f0(n,a,d,f,g){if(n!==null){var b=n.memoizedProps;if(Ba(b,f)&&n.ref===a.ref)if(Kt=!1,a.pendingProps=f=b,(n.lanes&g)!==0)(n.flags&131072)!==0&&(Kt=!0);else return a.lanes=n.lanes,Gr(n,a,g)}return pd(n,a,d,f,g)}function p0(n,a,d){var f=a.pendingProps,g=f.children,b=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Js,ir),ir|=d;else{if((d&1073741824)===0)return n=b!==null?b.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:n,cachePool:null,transitions:null},a.updateQueue=null,Ke(Js,ir),ir|=n,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=b!==null?b.baseLanes:d,Ke(Js,ir),ir|=f}else b!==null?(f=b.baseLanes|d,a.memoizedState=null):f=d,Ke(Js,ir),ir|=f;return Bt(n,a,g,d),a.child}function m0(n,a){var d=a.ref;(n===null&&d!==null||n!==null&&n.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function pd(n,a,d,f,g){var b=Yt(d)?Kn:Rt.current;return b=Bs(a,b),Ys(a,g),d=sd(n,a,d,f,b,g),f=ad(),n!==null&&!Kt?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~g,Gr(n,a,g)):(et&&f&&Bc(a),a.flags|=1,Bt(n,a,d,g),a.child)}function g0(n,a,d,f,g){if(Yt(d)){var b=!0;yo(a)}else b=!1;if(Ys(a,g),a.stateNode===null)Fo(n,a),s0(a,d,f),ud(a,d,f,g),f=!0;else if(n===null){var N=a.stateNode,C=a.memoizedProps;N.props=C;var A=N.context,K=d.contextType;typeof K=="object"&&K!==null?K=fr(K):(K=Yt(d)?Kn:Rt.current,K=Bs(a,K));var se=d.getDerivedStateFromProps,oe=typeof se=="function"||typeof N.getSnapshotBeforeUpdate=="function";oe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(C!==f||A!==K)&&a0(a,N,f,K),Sn=!1;var ne=a.memoizedState;N.state=ne,Eo(a,f,N,g),A=a.memoizedState,C!==f||ne!==A||qt.current||Sn?(typeof se=="function"&&(dd(a,d,se,f),A=a.memoizedState),(C=Sn||n0(a,d,C,f,ne,A,K))?(oe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=A),N.props=f,N.state=A,N.context=K,f=C):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{N=a.stateNode,Af(n,a),C=a.memoizedProps,K=a.type===a.elementType?C:Sr(a.type,C),N.props=K,oe=a.pendingProps,ne=N.context,A=d.contextType,typeof A=="object"&&A!==null?A=fr(A):(A=Yt(d)?Kn:Rt.current,A=Bs(a,A));var me=d.getDerivedStateFromProps;(se=typeof me=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(C!==oe||ne!==A)&&a0(a,N,f,A),Sn=!1,ne=a.memoizedState,N.state=ne,Eo(a,f,N,g);var ye=a.memoizedState;C!==oe||ne!==ye||qt.current||Sn?(typeof me=="function"&&(dd(a,d,me,f),ye=a.memoizedState),(K=Sn||n0(a,d,K,f,ne,ye,A)||!1)?(se||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(f,ye,A),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(f,ye,A)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||C===n.memoizedProps&&ne===n.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&ne===n.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ye),N.props=f,N.state=ye,N.context=A,f=K):(typeof N.componentDidUpdate!="function"||C===n.memoizedProps&&ne===n.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&ne===n.memoizedState||(a.flags|=1024),f=!1)}return md(n,a,d,f,b,g)}function md(n,a,d,f,g,b){m0(n,a);var N=(a.flags&128)!==0;if(!f&&!N)return g&&wf(a,d,!1),Gr(n,a,b);f=a.stateNode,Cy.current=a;var C=N&&typeof d.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,n!==null&&N?(a.child=Us(a,n.child,null,b),a.child=Us(a,null,C,b)):Bt(n,a,C,b),a.memoizedState=f.state,g&&wf(a,d,!0),a.child}function x0(n){var a=n.stateNode;a.pendingContext?yf(n,a.pendingContext,a.pendingContext!==a.context):a.context&&yf(n,a.context,!1),Qc(n,a.containerInfo)}function b0(n,a,d,f,g){return Vs(),Uc(g),a.flags|=256,Bt(n,a,d,f),a.child}var gd={dehydrated:null,treeContext:null,retryLane:0};function xd(n){return{baseLanes:n,cachePool:null,transitions:null}}function y0(n,a,d){var f=a.pendingProps,g=rt.current,b=!1,N=(a.flags&128)!==0,C;if((C=N)||(C=n!==null&&n.memoizedState===null?!1:(g&2)!==0),C?(b=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),Ke(rt,g&1),n===null)return Vc(a),n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((a.mode&1)===0?a.lanes=1:n.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(N=f.children,n=f.fallback,b?(f=a.mode,b=a.child,N={mode:"hidden",children:N},(f&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=N):b=Go(N,f,0,null),n=ss(n,f,d,null),b.return=a,n.return=a,b.sibling=n,a.child=b,a.child.memoizedState=xd(d),a.memoizedState=gd,n):bd(a,N));if(g=n.memoizedState,g!==null&&(C=g.dehydrated,C!==null))return Ey(n,a,N,f,C,g,d);if(b){b=f.fallback,N=a.mode,g=n.child,C=g.sibling;var A={mode:"hidden",children:f.children};return(N&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=A,a.deletions=null):(f=An(g,A),f.subtreeFlags=g.subtreeFlags&14680064),C!==null?b=An(C,b):(b=ss(b,N,d,null),b.flags|=2),b.return=a,f.return=a,f.sibling=b,a.child=f,f=b,b=a.child,N=n.child.memoizedState,N=N===null?xd(d):{baseLanes:N.baseLanes|d,cachePool:null,transitions:N.transitions},b.memoizedState=N,b.childLanes=n.childLanes&~d,a.memoizedState=gd,f}return b=n.child,n=b.sibling,f=An(b,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=d),f.return=a,f.sibling=null,n!==null&&(d=a.deletions,d===null?(a.deletions=[n],a.flags|=16):d.push(n)),a.child=f,a.memoizedState=null,f}function bd(n,a){return a=Go({mode:"visible",children:a},n.mode,0,null),a.return=n,n.child=a}function Oo(n,a,d,f){return f!==null&&Uc(f),Us(a,n.child,null,d),n=bd(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Ey(n,a,d,f,g,b,N){if(d)return a.flags&256?(a.flags&=-257,f=hd(Error(r(422))),Oo(n,a,N,f)):a.memoizedState!==null?(a.child=n.child,a.flags|=128,null):(b=f.fallback,g=a.mode,f=Go({mode:"visible",children:f.children},g,0,null),b=ss(b,g,N,null),b.flags|=2,f.return=a,b.return=a,f.sibling=b,a.child=f,(a.mode&1)!==0&&Us(a,n.child,null,N),a.child.memoizedState=xd(N),a.memoizedState=gd,b);if((a.mode&1)===0)return Oo(n,a,N,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var C=f.dgst;return f=C,b=Error(r(419)),f=hd(b,f,void 0),Oo(n,a,N,f)}if(C=(N&n.childLanes)!==0,Kt||C){if(f=_t,f!==null){switch(N&-N){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|N))!==0?0:g,g!==0&&g!==b.retryLane&&(b.retryLane=g,Yr(n,g),Er(f,n,g,-1))}return Td(),f=hd(Error(r(421))),Oo(n,a,N,f)}return g.data==="$?"?(a.flags|=128,a.child=n.child,a=By.bind(null,n),g._reactRetry=a,null):(n=b.treeContext,ar=wn(g.nextSibling),sr=a,et=!0,Nr=null,n!==null&&(ur[hr++]=Ur,ur[hr++]=qr,ur[hr++]=Gn,Ur=n.id,qr=n.overflow,Gn=a),a=bd(a,f.children),a.flags|=4096,a)}function v0(n,a,d){n.lanes|=a;var f=n.alternate;f!==null&&(f.lanes|=a),Gc(n.return,a,d)}function yd(n,a,d,f,g){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:g}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=d,b.tailMode=g)}function w0(n,a,d){var f=a.pendingProps,g=f.revealOrder,b=f.tail;if(Bt(n,a,f.children,d),f=rt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&v0(n,d,a);else if(n.tag===19)v0(n,d,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(Ke(rt,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(d=a.child,g=null;d!==null;)n=d.alternate,n!==null&&Mo(n)===null&&(g=d),d=d.sibling;d=g,d===null?(g=a.child,a.child=null):(g=d.sibling,d.sibling=null),yd(a,!1,g,d,b);break;case"backwards":for(d=null,g=a.child,a.child=null;g!==null;){if(n=g.alternate,n!==null&&Mo(n)===null){a.child=g;break}n=g.sibling,g.sibling=d,d=g,g=n}yd(a,!0,d,null,b);break;case"together":yd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Fo(n,a){(a.mode&1)===0&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=2)}function Gr(n,a,d){if(n!==null&&(a.dependencies=n.dependencies),es|=a.lanes,(d&a.childLanes)===0)return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,d=An(n,n.pendingProps),a.child=d,d.return=a;n.sibling!==null;)n=n.sibling,d=d.sibling=An(n,n.pendingProps),d.return=a;d.sibling=null}return a.child}function My(n,a,d){switch(a.tag){case 3:x0(a),Vs();break;case 5:Df(a);break;case 1:Yt(a.type)&&yo(a);break;case 4:Qc(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;Ke(So,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Ke(rt,rt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?y0(n,a,d):(Ke(rt,rt.current&1),n=Gr(n,a,d),n!==null?n.sibling:null);Ke(rt,rt.current&1);break;case 19:if(f=(d&a.childLanes)!==0,(n.flags&128)!==0){if(f)return w0(n,a,d);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ke(rt,rt.current),f)break;return null;case 22:case 23:return a.lanes=0,p0(n,a,d)}return Gr(n,a,d)}var k0,vd,j0,N0;k0=function(n,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},vd=function(){},j0=function(n,a,d,f){var g=n.memoizedProps;if(g!==f){n=a.stateNode,Qn(Ar.current);var b=null;switch(d){case"input":g=$t(n,g),f=$t(n,f),b=[];break;case"select":g=Z({},g,{value:void 0}),f=Z({},f,{value:void 0}),b=[];break;case"textarea":g=Ut(n,g),f=Ut(n,f),b=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=go)}ke(d,f);var N;d=null;for(K in g)if(!f.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var C=g[K];for(N in C)C.hasOwnProperty(N)&&(d||(d={}),d[N]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?b||(b=[]):(b=b||[]).push(K,null));for(K in f){var A=f[K];if(C=g?.[K],f.hasOwnProperty(K)&&A!==C&&(A!=null||C!=null))if(K==="style")if(C){for(N in C)!C.hasOwnProperty(N)||A&&A.hasOwnProperty(N)||(d||(d={}),d[N]="");for(N in A)A.hasOwnProperty(N)&&C[N]!==A[N]&&(d||(d={}),d[N]=A[N])}else d||(b||(b=[]),b.push(K,d)),d=A;else K==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,C=C?C.__html:void 0,A!=null&&C!==A&&(b=b||[]).push(K,A)):K==="children"?typeof A!="string"&&typeof A!="number"||(b=b||[]).push(K,""+A):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(A!=null&&K==="onScroll"&&Xe("scroll",n),b||C===A||(b=[])):(b=b||[]).push(K,A))}d&&(b=b||[]).push("style",d);var K=b;(a.updateQueue=K)&&(a.flags|=4)}},N0=function(n,a,d,f){d!==f&&(a.flags|=4)};function ri(n,a){if(!et)switch(n.tailMode){case"hidden":a=n.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Lt(n){var a=n.alternate!==null&&n.alternate.child===n.child,d=0,f=0;if(a)for(var g=n.child;g!==null;)d|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)d|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=d,a}function Py(n,a,d){var f=a.pendingProps;switch(Wc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(a),null;case 1:return Yt(a.type)&&bo(),Lt(a),null;case 3:return f=a.stateNode,Ks(),Je(qt),Je(Rt),td(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(jo(a)?a.flags|=4:n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nr!==null&&(Rd(Nr),Nr=null))),vd(n,a),Lt(a),null;case 5:Zc(a);var g=Qn(Ja.current);if(d=a.type,n!==null&&a.stateNode!=null)j0(n,a,d,f,g),n.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Lt(a),null}if(n=Qn(Ar.current),jo(a)){f=a.stateNode,d=a.type;var b=a.memoizedProps;switch(f[Rr]=a,f[qa]=b,n=(a.mode&1)!==0,d){case"dialog":Xe("cancel",f),Xe("close",f);break;case"iframe":case"object":case"embed":Xe("load",f);break;case"video":case"audio":for(g=0;g<Ha.length;g++)Xe(Ha[g],f);break;case"source":Xe("error",f);break;case"img":case"image":case"link":Xe("error",f),Xe("load",f);break;case"details":Xe("toggle",f);break;case"input":Et(f,b),Xe("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!b.multiple},Xe("invalid",f);break;case"textarea":jt(f,b),Xe("invalid",f)}ke(d,b),g=null;for(var N in b)if(b.hasOwnProperty(N)){var C=b[N];N==="children"?typeof C=="string"?f.textContent!==C&&(b.suppressHydrationWarning!==!0&&mo(f.textContent,C,n),g=["children",C]):typeof C=="number"&&f.textContent!==""+C&&(b.suppressHydrationWarning!==!0&&mo(f.textContent,C,n),g=["children",""+C]):o.hasOwnProperty(N)&&C!=null&&N==="onScroll"&&Xe("scroll",f)}switch(d){case"input":Be(f),be(f,b,!0);break;case"textarea":Be(f),he(f);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(f.onclick=go)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{N=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=V(d)),n==="http://www.w3.org/1999/xhtml"?d==="script"?(n=N.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=N.createElement(d,{is:f.is}):(n=N.createElement(d),d==="select"&&(N=n,f.multiple?N.multiple=!0:f.size&&(N.size=f.size))):n=N.createElementNS(n,d),n[Rr]=a,n[qa]=f,k0(n,a,!1,!1),a.stateNode=n;e:{switch(N=dr(d,f),d){case"dialog":Xe("cancel",n),Xe("close",n),g=f;break;case"iframe":case"object":case"embed":Xe("load",n),g=f;break;case"video":case"audio":for(g=0;g<Ha.length;g++)Xe(Ha[g],n);g=f;break;case"source":Xe("error",n),g=f;break;case"img":case"image":case"link":Xe("error",n),Xe("load",n),g=f;break;case"details":Xe("toggle",n),g=f;break;case"input":Et(n,f),g=$t(n,f),Xe("invalid",n);break;case"option":g=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},g=Z({},f,{value:void 0}),Xe("invalid",n);break;case"textarea":jt(n,f),g=Ut(n,f),Xe("invalid",n);break;default:g=f}ke(d,g),C=g;for(b in C)if(C.hasOwnProperty(b)){var A=C[b];b==="style"?Yi(n,A):b==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Ze(n,A)):b==="children"?typeof A=="string"?(d!=="textarea"||A!=="")&&ft(n,A):typeof A=="number"&&ft(n,""+A):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(o.hasOwnProperty(b)?A!=null&&b==="onScroll"&&Xe("scroll",n):A!=null&&T(n,b,A,N))}switch(d){case"input":Be(n),be(n,f,!1);break;case"textarea":Be(n),he(n);break;case"option":f.value!=null&&n.setAttribute("value",""+de(f.value));break;case"select":n.multiple=!!f.multiple,b=f.value,b!=null?Ye(n,!!f.multiple,b,!1):f.defaultValue!=null&&Ye(n,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=go)}switch(d){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Lt(a),null;case 6:if(n&&a.stateNode!=null)N0(n,a,n.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(d=Qn(Ja.current),Qn(Ar.current),jo(a)){if(f=a.stateNode,d=a.memoizedProps,f[Rr]=a,(b=f.nodeValue!==d)&&(n=sr,n!==null))switch(n.tag){case 3:mo(f.nodeValue,d,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&mo(f.nodeValue,d,(n.mode&1)!==0)}b&&(a.flags|=4)}else f=(d.nodeType===9?d:d.ownerDocument).createTextNode(f),f[Rr]=a,a.stateNode=f}return Lt(a),null;case 13:if(Je(rt),f=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(et&&ar!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Cf(),Vs(),a.flags|=98560,b=!1;else if(b=jo(a),f!==null&&f.dehydrated!==null){if(n===null){if(!b)throw Error(r(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Rr]=a}else Vs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Lt(a),b=!1}else Nr!==null&&(Rd(Nr),Nr=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(n===null||(rt.current&1)!==0?yt===0&&(yt=3):Td())),a.updateQueue!==null&&(a.flags|=4),Lt(a),null);case 4:return Ks(),vd(n,a),n===null&&Va(a.stateNode.containerInfo),Lt(a),null;case 10:return Kc(a.type._context),Lt(a),null;case 17:return Yt(a.type)&&bo(),Lt(a),null;case 19:if(Je(rt),b=a.memoizedState,b===null)return Lt(a),null;if(f=(a.flags&128)!==0,N=b.rendering,N===null)if(f)ri(b,!1);else{if(yt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(N=Mo(n),N!==null){for(a.flags|=128,ri(b,!1),f=N.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=d,d=a.child;d!==null;)b=d,n=f,b.flags&=14680066,N=b.alternate,N===null?(b.childLanes=0,b.lanes=n,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=N.childLanes,b.lanes=N.lanes,b.child=N.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=N.memoizedProps,b.memoizedState=N.memoizedState,b.updateQueue=N.updateQueue,b.type=N.type,n=N.dependencies,b.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),d=d.sibling;return Ke(rt,rt.current&1|2),a.child}n=n.sibling}b.tail!==null&&ct()>Qs&&(a.flags|=128,f=!0,ri(b,!1),a.lanes=4194304)}else{if(!f)if(n=Mo(N),n!==null){if(a.flags|=128,f=!0,d=n.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),ri(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!et)return Lt(a),null}else 2*ct()-b.renderingStartTime>Qs&&d!==1073741824&&(a.flags|=128,f=!0,ri(b,!1),a.lanes=4194304);b.isBackwards?(N.sibling=a.child,a.child=N):(d=b.last,d!==null?d.sibling=N:a.child=N,b.last=N)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=ct(),a.sibling=null,d=rt.current,Ke(rt,f?d&1|2:d&1),a):(Lt(a),null);case 22:case 23:return Ld(),f=a.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(ir&1073741824)!==0&&(Lt(a),a.subtreeFlags&6&&(a.flags|=8192)):Lt(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function Ry(n,a){switch(Wc(a),a.tag){case 1:return Yt(a.type)&&bo(),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Ks(),Je(qt),Je(Rt),td(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 5:return Zc(a),null;case 13:if(Je(rt),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Vs()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return Je(rt),null;case 4:return Ks(),null;case 10:return Kc(a.type._context),null;case 22:case 23:return Ld(),null;case 24:return null;default:return null}}var Io=!1,Tt=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Xs(n,a){var d=n.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(f){lt(n,a,f)}else d.current=null}function wd(n,a,d){try{d()}catch(f){lt(n,a,f)}}var S0=!1;function Ly(n,a){if(Lc=no,n=rf(),Sc(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var g=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var N=0,C=-1,A=-1,K=0,se=0,oe=n,ne=null;t:for(;;){for(var me;oe!==d||g!==0&&oe.nodeType!==3||(C=N+g),oe!==b||f!==0&&oe.nodeType!==3||(A=N+f),oe.nodeType===3&&(N+=oe.nodeValue.length),(me=oe.firstChild)!==null;)ne=oe,oe=me;for(;;){if(oe===n)break t;if(ne===d&&++K===g&&(C=N),ne===b&&++se===f&&(A=N),(me=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=me}d=C===-1||A===-1?null:{start:C,end:A}}else d=null}d=d||{start:0,end:0}}else d=null;for(Tc={focusedElem:n,selectionRange:d},no=!1,xe=a;xe!==null;)if(a=xe,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,xe=n;else for(;xe!==null;){a=xe;try{var ye=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,dt=ye.memoizedState,$=a.stateNode,O=$.getSnapshotBeforeUpdate(a.elementType===a.type?ve:Sr(a.type,ve),dt);$.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var B=a.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ue){lt(a,a.return,ue)}if(n=a.sibling,n!==null){n.return=a.return,xe=n;break}xe=a.return}return ye=S0,S0=!1,ye}function ni(n,a,d){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&n)===n){var b=g.destroy;g.destroy=void 0,b!==void 0&&wd(a,d,b)}g=g.next}while(g!==f)}}function zo(n,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&n)===n){var f=d.create;d.destroy=f()}d=d.next}while(d!==a)}}function kd(n){var a=n.ref;if(a!==null){var d=n.stateNode;n.tag,n=d,typeof a=="function"?a(n):a.current=n}}function _0(n){var a=n.alternate;a!==null&&(n.alternate=null,_0(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&(delete a[Rr],delete a[qa],delete a[Ic],delete a[my],delete a[gy])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function C0(n){return n.tag===5||n.tag===3||n.tag===4}function E0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||C0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function jd(n,a,d){var f=n.tag;if(f===5||f===6)n=n.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(n,a):d.insertBefore(n,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(n,d)):(a=d,a.appendChild(n)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=go));else if(f!==4&&(n=n.child,n!==null))for(jd(n,a,d),n=n.sibling;n!==null;)jd(n,a,d),n=n.sibling}function Nd(n,a,d){var f=n.tag;if(f===5||f===6)n=n.stateNode,a?d.insertBefore(n,a):d.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(Nd(n,a,d),n=n.sibling;n!==null;)Nd(n,a,d),n=n.sibling}var Mt=null,_r=!1;function Cn(n,a,d){for(d=d.child;d!==null;)M0(n,a,d),d=d.sibling}function M0(n,a,d){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Ji,d)}catch{}switch(d.tag){case 5:Tt||Xs(d,a);case 6:var f=Mt,g=_r;Mt=null,Cn(n,a,d),Mt=f,_r=g,Mt!==null&&(_r?(n=Mt,d=d.stateNode,n.nodeType===8?n.parentNode.removeChild(d):n.removeChild(d)):Mt.removeChild(d.stateNode));break;case 18:Mt!==null&&(_r?(n=Mt,d=d.stateNode,n.nodeType===8?Fc(n.parentNode,d):n.nodeType===1&&Fc(n,d),Da(n)):Fc(Mt,d.stateNode));break;case 4:f=Mt,g=_r,Mt=d.stateNode.containerInfo,_r=!0,Cn(n,a,d),Mt=f,_r=g;break;case 0:case 11:case 14:case 15:if(!Tt&&(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var b=g,N=b.destroy;b=b.tag,N!==void 0&&((b&2)!==0||(b&4)!==0)&&wd(d,a,N),g=g.next}while(g!==f)}Cn(n,a,d);break;case 1:if(!Tt&&(Xs(d,a),f=d.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch(C){lt(d,a,C)}Cn(n,a,d);break;case 21:Cn(n,a,d);break;case 22:d.mode&1?(Tt=(f=Tt)||d.memoizedState!==null,Cn(n,a,d),Tt=f):Cn(n,a,d);break;default:Cn(n,a,d)}}function P0(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var d=n.stateNode;d===null&&(d=n.stateNode=new Ay),a.forEach(function(f){var g=Wy.bind(null,n,f);d.has(f)||(d.add(f),f.then(g,g))})}}function Cr(n,a){var d=a.deletions;if(d!==null)for(var f=0;f<d.length;f++){var g=d[f];try{var b=n,N=a,C=N;e:for(;C!==null;){switch(C.tag){case 5:Mt=C.stateNode,_r=!1;break e;case 3:Mt=C.stateNode.containerInfo,_r=!0;break e;case 4:Mt=C.stateNode.containerInfo,_r=!0;break e}C=C.return}if(Mt===null)throw Error(r(160));M0(b,N,g),Mt=null,_r=!1;var A=g.alternate;A!==null&&(A.return=null),g.return=null}catch(K){lt(g,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)R0(a,n),a=a.sibling}function R0(n,a){var d=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Cr(a,n),Tr(n),f&4){try{ni(3,n,n.return),zo(3,n)}catch(ve){lt(n,n.return,ve)}try{ni(5,n,n.return)}catch(ve){lt(n,n.return,ve)}}break;case 1:Cr(a,n),Tr(n),f&512&&d!==null&&Xs(d,d.return);break;case 5:if(Cr(a,n),Tr(n),f&512&&d!==null&&Xs(d,d.return),n.flags&32){var g=n.stateNode;try{ft(g,"")}catch(ve){lt(n,n.return,ve)}}if(f&4&&(g=n.stateNode,g!=null)){var b=n.memoizedProps,N=d!==null?d.memoizedProps:b,C=n.type,A=n.updateQueue;if(n.updateQueue=null,A!==null)try{C==="input"&&b.type==="radio"&&b.name!=null&&lr(g,b),dr(C,N);var K=dr(C,b);for(N=0;N<A.length;N+=2){var se=A[N],oe=A[N+1];se==="style"?Yi(g,oe):se==="dangerouslySetInnerHTML"?Ze(g,oe):se==="children"?ft(g,oe):T(g,se,oe,K)}switch(C){case"input":ie(g,b);break;case"textarea":cr(g,b);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!b.multiple;var me=b.value;me!=null?Ye(g,!!b.multiple,me,!1):ne!==!!b.multiple&&(b.defaultValue!=null?Ye(g,!!b.multiple,b.defaultValue,!0):Ye(g,!!b.multiple,b.multiple?[]:"",!1))}g[qa]=b}catch(ve){lt(n,n.return,ve)}}break;case 6:if(Cr(a,n),Tr(n),f&4){if(n.stateNode===null)throw Error(r(162));g=n.stateNode,b=n.memoizedProps;try{g.nodeValue=b}catch(ve){lt(n,n.return,ve)}}break;case 3:if(Cr(a,n),Tr(n),f&4&&d!==null&&d.memoizedState.isDehydrated)try{Da(a.containerInfo)}catch(ve){lt(n,n.return,ve)}break;case 4:Cr(a,n),Tr(n);break;case 13:Cr(a,n),Tr(n),g=n.child,g.flags&8192&&(b=g.memoizedState!==null,g.stateNode.isHidden=b,!b||g.alternate!==null&&g.alternate.memoizedState!==null||(Cd=ct())),f&4&&P0(n);break;case 22:if(se=d!==null&&d.memoizedState!==null,n.mode&1?(Tt=(K=Tt)||se,Cr(a,n),Tt=K):Cr(a,n),Tr(n),f&8192){if(K=n.memoizedState!==null,(n.stateNode.isHidden=K)&&!se&&(n.mode&1)!==0)for(xe=n,se=n.child;se!==null;){for(oe=xe=se;xe!==null;){switch(ne=xe,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:ni(4,ne,ne.return);break;case 1:Xs(ne,ne.return);var ye=ne.stateNode;if(typeof ye.componentWillUnmount=="function"){f=ne,d=ne.return;try{a=f,ye.props=a.memoizedProps,ye.state=a.memoizedState,ye.componentWillUnmount()}catch(ve){lt(f,d,ve)}}break;case 5:Xs(ne,ne.return);break;case 22:if(ne.memoizedState!==null){T0(oe);continue}}me!==null?(me.return=ne,xe=me):T0(oe)}se=se.sibling}e:for(se=null,oe=n;;){if(oe.tag===5){if(se===null){se=oe;try{g=oe.stateNode,K?(b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(C=oe.stateNode,A=oe.memoizedProps.style,N=A!=null&&A.hasOwnProperty("display")?A.display:null,C.style.display=Sa("display",N))}catch(ve){lt(n,n.return,ve)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(ve){lt(n,n.return,ve)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===n)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===n)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===n)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Cr(a,n),Tr(n),f&4&&P0(n);break;case 21:break;default:Cr(a,n),Tr(n)}}function Tr(n){var a=n.flags;if(a&2){try{e:{for(var d=n.return;d!==null;){if(C0(d)){var f=d;break e}d=d.return}throw Error(r(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(ft(g,""),f.flags&=-33);var b=E0(n);Nd(n,b,g);break;case 3:case 4:var N=f.stateNode.containerInfo,C=E0(n);jd(n,C,N);break;default:throw Error(r(161))}}catch(A){lt(n,n.return,A)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Ty(n,a,d){xe=n,A0(n)}function A0(n,a,d){for(var f=(n.mode&1)!==0;xe!==null;){var g=xe,b=g.child;if(g.tag===22&&f){var N=g.memoizedState!==null||Io;if(!N){var C=g.alternate,A=C!==null&&C.memoizedState!==null||Tt;C=Io;var K=Tt;if(Io=N,(Tt=A)&&!K)for(xe=g;xe!==null;)N=xe,A=N.child,N.tag===22&&N.memoizedState!==null?D0(g):A!==null?(A.return=N,xe=A):D0(g);for(;b!==null;)xe=b,A0(b),b=b.sibling;xe=g,Io=C,Tt=K}L0(n)}else(g.subtreeFlags&8772)!==0&&b!==null?(b.return=g,xe=b):L0(n)}}function L0(n){for(;xe!==null;){var a=xe;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Tt||zo(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Tt)if(d===null)f.componentDidMount();else{var g=a.elementType===a.type?d.memoizedProps:Sr(a.type,d.memoizedProps);f.componentDidUpdate(g,d.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&Tf(a,b,f);break;case 3:var N=a.updateQueue;if(N!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Tf(a,N,d)}break;case 5:var C=a.stateNode;if(d===null&&a.flags&4){d=C;var A=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&d.focus();break;case"img":A.src&&(d.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&Da(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Tt||a.flags&512&&kd(a)}catch(ne){lt(a,a.return,ne)}}if(a===n){xe=null;break}if(d=a.sibling,d!==null){d.return=a.return,xe=d;break}xe=a.return}}function T0(n){for(;xe!==null;){var a=xe;if(a===n){xe=null;break}var d=a.sibling;if(d!==null){d.return=a.return,xe=d;break}xe=a.return}}function D0(n){for(;xe!==null;){var a=xe;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{zo(4,a)}catch(A){lt(a,d,A)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(A){lt(a,g,A)}}var b=a.return;try{kd(a)}catch(A){lt(a,b,A)}break;case 5:var N=a.return;try{kd(a)}catch(A){lt(a,N,A)}}}catch(A){lt(a,a.return,A)}if(a===n){xe=null;break}var C=a.sibling;if(C!==null){C.return=a.return,xe=C;break}xe=a.return}}var Dy=Math.ceil,$o=L.ReactCurrentDispatcher,Sd=L.ReactCurrentOwner,mr=L.ReactCurrentBatchConfig,Fe=0,_t=null,pt=null,Pt=0,ir=0,Js=kn(0),yt=0,si=null,es=0,Bo=0,_d=0,ai=null,Gt=null,Cd=0,Qs=1/0,Xr=null,Wo=!1,Ed=null,En=null,Ho=!1,Mn=null,Vo=0,ii=0,Md=null,Uo=-1,qo=0;function Wt(){return(Fe&6)!==0?ct():Uo!==-1?Uo:Uo=ct()}function Pn(n){return(n.mode&1)===0?1:(Fe&2)!==0&&Pt!==0?Pt&-Pt:by.transition!==null?(qo===0&&(qo=Ch()),qo):(n=We,n!==0||(n=window.event,n=n===void 0?16:Oh(n.type)),n)}function Er(n,a,d,f){if(50<ii)throw ii=0,Md=null,Error(r(185));Pa(n,d,f),((Fe&2)===0||n!==_t)&&(n===_t&&((Fe&2)===0&&(Bo|=d),yt===4&&Rn(n,Pt)),Xt(n,f),d===1&&Fe===0&&(a.mode&1)===0&&(Qs=ct()+500,vo&&Nn()))}function Xt(n,a){var d=n.callbackNode;bb(n,a);var f=eo(n,n===_t?Pt:0);if(f===0)d!==null&&Nh(d),n.callbackNode=null,n.callbackPriority=0;else if(a=f&-f,n.callbackPriority!==a){if(d!=null&&Nh(d),a===1)n.tag===0?xy(F0.bind(null,n)):kf(F0.bind(null,n)),fy(function(){(Fe&6)===0&&Nn()}),d=null;else{switch(Eh(f)){case 1:d=lc;break;case 4:d=Sh;break;case 16:d=Xi;break;case 536870912:d=_h;break;default:d=Xi}d=U0(d,O0.bind(null,n))}n.callbackPriority=a,n.callbackNode=d}}function O0(n,a){if(Uo=-1,qo=0,(Fe&6)!==0)throw Error(r(327));var d=n.callbackNode;if(Zs()&&n.callbackNode!==d)return null;var f=eo(n,n===_t?Pt:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||a)a=Yo(n,f);else{a=f;var g=Fe;Fe|=2;var b=z0();(_t!==n||Pt!==a)&&(Xr=null,Qs=ct()+500,rs(n,a));do try{Iy();break}catch(C){I0(n,C)}while(!0);Yc(),$o.current=b,Fe=g,pt!==null?a=0:(_t=null,Pt=0,a=yt)}if(a!==0){if(a===2&&(g=cc(n),g!==0&&(f=g,a=Pd(n,g))),a===1)throw d=si,rs(n,0),Rn(n,f),Xt(n,ct()),d;if(a===6)Rn(n,f);else{if(g=n.current.alternate,(f&30)===0&&!Oy(g)&&(a=Yo(n,f),a===2&&(b=cc(n),b!==0&&(f=b,a=Pd(n,b))),a===1))throw d=si,rs(n,0),Rn(n,f),Xt(n,ct()),d;switch(n.finishedWork=g,n.finishedLanes=f,a){case 0:case 1:throw Error(r(345));case 2:ns(n,Gt,Xr);break;case 3:if(Rn(n,f),(f&130023424)===f&&(a=Cd+500-ct(),10<a)){if(eo(n,0)!==0)break;if(g=n.suspendedLanes,(g&f)!==f){Wt(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=Oc(ns.bind(null,n,Gt,Xr),a);break}ns(n,Gt,Xr);break;case 4:if(Rn(n,f),(f&4194240)===f)break;for(a=n.eventTimes,g=-1;0<f;){var N=31-kr(f);b=1<<N,N=a[N],N>g&&(g=N),f&=~b}if(f=g,f=ct()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Dy(f/1960))-f,10<f){n.timeoutHandle=Oc(ns.bind(null,n,Gt,Xr),f);break}ns(n,Gt,Xr);break;case 5:ns(n,Gt,Xr);break;default:throw Error(r(329))}}}return Xt(n,ct()),n.callbackNode===d?O0.bind(null,n):null}function Pd(n,a){var d=ai;return n.current.memoizedState.isDehydrated&&(rs(n,a).flags|=256),n=Yo(n,a),n!==2&&(a=Gt,Gt=d,a!==null&&Rd(a)),n}function Rd(n){Gt===null?Gt=n:Gt.push.apply(Gt,n)}function Oy(n){for(var a=n;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var f=0;f<d.length;f++){var g=d[f],b=g.getSnapshot;g=g.value;try{if(!jr(b(),g))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Rn(n,a){for(a&=~_d,a&=~Bo,n.suspendedLanes|=a,n.pingedLanes&=~a,n=n.expirationTimes;0<a;){var d=31-kr(a),f=1<<d;n[d]=-1,a&=~f}}function F0(n){if((Fe&6)!==0)throw Error(r(327));Zs();var a=eo(n,0);if((a&1)===0)return Xt(n,ct()),null;var d=Yo(n,a);if(n.tag!==0&&d===2){var f=cc(n);f!==0&&(a=f,d=Pd(n,f))}if(d===1)throw d=si,rs(n,0),Rn(n,a),Xt(n,ct()),d;if(d===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=a,ns(n,Gt,Xr),Xt(n,ct()),null}function Ad(n,a){var d=Fe;Fe|=1;try{return n(a)}finally{Fe=d,Fe===0&&(Qs=ct()+500,vo&&Nn())}}function ts(n){Mn!==null&&Mn.tag===0&&(Fe&6)===0&&Zs();var a=Fe;Fe|=1;var d=mr.transition,f=We;try{if(mr.transition=null,We=1,n)return n()}finally{We=f,mr.transition=d,Fe=a,(Fe&6)===0&&Nn()}}function Ld(){ir=Js.current,Je(Js)}function rs(n,a){n.finishedWork=null,n.finishedLanes=0;var d=n.timeoutHandle;if(d!==-1&&(n.timeoutHandle=-1,hy(d)),pt!==null)for(d=pt.return;d!==null;){var f=d;switch(Wc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&bo();break;case 3:Ks(),Je(qt),Je(Rt),td();break;case 5:Zc(f);break;case 4:Ks();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:Kc(f.type._context);break;case 22:case 23:Ld()}d=d.return}if(_t=n,pt=n=An(n.current,null),Pt=ir=a,yt=0,si=null,_d=Bo=es=0,Gt=ai=null,Jn!==null){for(a=0;a<Jn.length;a++)if(d=Jn[a],f=d.interleaved,f!==null){d.interleaved=null;var g=f.next,b=d.pending;if(b!==null){var N=b.next;b.next=g,f.next=N}d.pending=f}Jn=null}return n}function I0(n,a){do{var d=pt;try{if(Yc(),Po.current=To,Ro){for(var f=nt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Ro=!1}if(Zn=0,St=bt=nt=null,Qa=!1,Za=0,Sd.current=null,d===null||d.return===null){yt=1,si=a,pt=null;break}e:{var b=n,N=d.return,C=d,A=a;if(a=Pt,C.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var K=A,se=C,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var me=c0(N);if(me!==null){me.flags&=-257,d0(me,N,C,b,a),me.mode&1&&l0(b,K,a),a=me,A=K;var ye=a.updateQueue;if(ye===null){var ve=new Set;ve.add(A),a.updateQueue=ve}else ye.add(A);break e}else{if((a&1)===0){l0(b,K,a),Td();break e}A=Error(r(426))}}else if(et&&C.mode&1){var dt=c0(N);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),d0(dt,N,C,b,a),Uc(Gs(A,C));break e}}b=A=Gs(A,C),yt!==4&&(yt=2),ai===null?ai=[b]:ai.push(b),b=N;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var $=i0(b,A,a);Lf(b,$);break e;case 1:C=A;var O=b.type,B=b.stateNode;if((b.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(En===null||!En.has(B)))){b.flags|=65536,a&=-a,b.lanes|=a;var ue=o0(b,C,a);Lf(b,ue);break e}}b=b.return}while(b!==null)}B0(d)}catch(we){a=we,pt===d&&d!==null&&(pt=d=d.return);continue}break}while(!0)}function z0(){var n=$o.current;return $o.current=To,n===null?To:n}function Td(){(yt===0||yt===3||yt===2)&&(yt=4),_t===null||(es&268435455)===0&&(Bo&268435455)===0||Rn(_t,Pt)}function Yo(n,a){var d=Fe;Fe|=2;var f=z0();(_t!==n||Pt!==a)&&(Xr=null,rs(n,a));do try{Fy();break}catch(g){I0(n,g)}while(!0);if(Yc(),Fe=d,$o.current=f,pt!==null)throw Error(r(261));return _t=null,Pt=0,yt}function Fy(){for(;pt!==null;)$0(pt)}function Iy(){for(;pt!==null&&!cb();)$0(pt)}function $0(n){var a=V0(n.alternate,n,ir);n.memoizedProps=n.pendingProps,a===null?B0(n):pt=a,Sd.current=null}function B0(n){var a=n;do{var d=a.alternate;if(n=a.return,(a.flags&32768)===0){if(d=Py(d,a,ir),d!==null){pt=d;return}}else{if(d=Ry(d,a),d!==null){d.flags&=32767,pt=d;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{yt=6,pt=null;return}}if(a=a.sibling,a!==null){pt=a;return}pt=a=n}while(a!==null);yt===0&&(yt=5)}function ns(n,a,d){var f=We,g=mr.transition;try{mr.transition=null,We=1,zy(n,a,d,f)}finally{mr.transition=g,We=f}return null}function zy(n,a,d,f){do Zs();while(Mn!==null);if((Fe&6)!==0)throw Error(r(327));d=n.finishedWork;var g=n.finishedLanes;if(d===null)return null;if(n.finishedWork=null,n.finishedLanes=0,d===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var b=d.lanes|d.childLanes;if(yb(n,b),n===_t&&(pt=_t=null,Pt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Ho||(Ho=!0,U0(Xi,function(){return Zs(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=mr.transition,mr.transition=null;var N=We;We=1;var C=Fe;Fe|=4,Sd.current=null,Ly(n,d),R0(d,n),ay(Tc),no=!!Lc,Tc=Lc=null,n.current=d,Ty(d),db(),Fe=C,We=N,mr.transition=b}else n.current=d;if(Ho&&(Ho=!1,Mn=n,Vo=g),b=n.pendingLanes,b===0&&(En=null),fb(d.stateNode),Xt(n,ct()),a!==null)for(f=n.onRecoverableError,d=0;d<a.length;d++)g=a[d],f(g.value,{componentStack:g.stack,digest:g.digest});if(Wo)throw Wo=!1,n=Ed,Ed=null,n;return(Vo&1)!==0&&n.tag!==0&&Zs(),b=n.pendingLanes,(b&1)!==0?n===Md?ii++:(ii=0,Md=n):ii=0,Nn(),null}function Zs(){if(Mn!==null){var n=Eh(Vo),a=mr.transition,d=We;try{if(mr.transition=null,We=16>n?16:n,Mn===null)var f=!1;else{if(n=Mn,Mn=null,Vo=0,(Fe&6)!==0)throw Error(r(331));var g=Fe;for(Fe|=4,xe=n.current;xe!==null;){var b=xe,N=b.child;if((xe.flags&16)!==0){var C=b.deletions;if(C!==null){for(var A=0;A<C.length;A++){var K=C[A];for(xe=K;xe!==null;){var se=xe;switch(se.tag){case 0:case 11:case 15:ni(8,se,b)}var oe=se.child;if(oe!==null)oe.return=se,xe=oe;else for(;xe!==null;){se=xe;var ne=se.sibling,me=se.return;if(_0(se),se===K){xe=null;break}if(ne!==null){ne.return=me,xe=ne;break}xe=me}}}var ye=b.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var dt=ve.sibling;ve.sibling=null,ve=dt}while(ve!==null)}}xe=b}}if((b.subtreeFlags&2064)!==0&&N!==null)N.return=b,xe=N;else e:for(;xe!==null;){if(b=xe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:ni(9,b,b.return)}var $=b.sibling;if($!==null){$.return=b.return,xe=$;break e}xe=b.return}}var O=n.current;for(xe=O;xe!==null;){N=xe;var B=N.child;if((N.subtreeFlags&2064)!==0&&B!==null)B.return=N,xe=B;else e:for(N=O;xe!==null;){if(C=xe,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:zo(9,C)}}catch(we){lt(C,C.return,we)}if(C===N){xe=null;break e}var ue=C.sibling;if(ue!==null){ue.return=C.return,xe=ue;break e}xe=C.return}}if(Fe=g,Nn(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Ji,n)}catch{}f=!0}return f}finally{We=d,mr.transition=a}}return!1}function W0(n,a,d){a=Gs(d,a),a=i0(n,a,1),n=_n(n,a,1),a=Wt(),n!==null&&(Pa(n,1,a),Xt(n,a))}function lt(n,a,d){if(n.tag===3)W0(n,n,d);else for(;a!==null;){if(a.tag===3){W0(a,n,d);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(En===null||!En.has(f))){n=Gs(d,n),n=o0(a,n,1),a=_n(a,n,1),n=Wt(),a!==null&&(Pa(a,1,n),Xt(a,n));break}}a=a.return}}function $y(n,a,d){var f=n.pingCache;f!==null&&f.delete(a),a=Wt(),n.pingedLanes|=n.suspendedLanes&d,_t===n&&(Pt&d)===d&&(yt===4||yt===3&&(Pt&130023424)===Pt&&500>ct()-Cd?rs(n,0):_d|=d),Xt(n,a)}function H0(n,a){a===0&&((n.mode&1)===0?a=1:(a=Zi,Zi<<=1,(Zi&130023424)===0&&(Zi=4194304)));var d=Wt();n=Yr(n,a),n!==null&&(Pa(n,a,d),Xt(n,d))}function By(n){var a=n.memoizedState,d=0;a!==null&&(d=a.retryLane),H0(n,d)}function Wy(n,a){var d=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(d=g.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(a),H0(n,d)}var V0;V0=function(n,a,d){if(n!==null)if(n.memoizedProps!==a.pendingProps||qt.current)Kt=!0;else{if((n.lanes&d)===0&&(a.flags&128)===0)return Kt=!1,My(n,a,d);Kt=(n.flags&131072)!==0}else Kt=!1,et&&(a.flags&1048576)!==0&&jf(a,ko,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Fo(n,a),n=a.pendingProps;var g=Bs(a,Rt.current);Ys(a,d),g=sd(null,a,f,n,g,d);var b=ad();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Yt(f)?(b=!0,yo(a)):b=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Jc(a),g.updater=Do,a.stateNode=g,g._reactInternals=a,ud(a,f,n,d),a=md(null,a,f,!0,b,d)):(a.tag=0,et&&b&&Bc(a),Bt(null,a,g,d),a=a.child),a;case 16:f=a.elementType;e:{switch(Fo(n,a),n=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=Vy(f),n=Sr(f,n),g){case 0:a=pd(null,a,f,n,d);break e;case 1:a=g0(null,a,f,n,d);break e;case 11:a=u0(null,a,f,n,d);break e;case 14:a=h0(null,a,f,Sr(f.type,n),d);break e}throw Error(r(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Sr(f,g),pd(n,a,f,g,d);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Sr(f,g),g0(n,a,f,g,d);case 3:e:{if(x0(a),n===null)throw Error(r(387));f=a.pendingProps,b=a.memoizedState,g=b.element,Af(n,a),Eo(a,f,null,d);var N=a.memoizedState;if(f=N.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){g=Gs(Error(r(423)),a),a=b0(n,a,f,d,g);break e}else if(f!==g){g=Gs(Error(r(424)),a),a=b0(n,a,f,d,g);break e}else for(ar=wn(a.stateNode.containerInfo.firstChild),sr=a,et=!0,Nr=null,d=Pf(a,null,f,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Vs(),f===g){a=Gr(n,a,d);break e}Bt(n,a,f,d)}a=a.child}return a;case 5:return Df(a),n===null&&Vc(a),f=a.type,g=a.pendingProps,b=n!==null?n.memoizedProps:null,N=g.children,Dc(f,g)?N=null:b!==null&&Dc(f,b)&&(a.flags|=32),m0(n,a),Bt(n,a,N,d),a.child;case 6:return n===null&&Vc(a),null;case 13:return y0(n,a,d);case 4:return Qc(a,a.stateNode.containerInfo),f=a.pendingProps,n===null?a.child=Us(a,null,f,d):Bt(n,a,f,d),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Sr(f,g),u0(n,a,f,g,d);case 7:return Bt(n,a,a.pendingProps,d),a.child;case 8:return Bt(n,a,a.pendingProps.children,d),a.child;case 12:return Bt(n,a,a.pendingProps.children,d),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,b=a.memoizedProps,N=g.value,Ke(So,f._currentValue),f._currentValue=N,b!==null)if(jr(b.value,N)){if(b.children===g.children&&!qt.current){a=Gr(n,a,d);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var C=b.dependencies;if(C!==null){N=b.child;for(var A=C.firstContext;A!==null;){if(A.context===f){if(b.tag===1){A=Kr(-1,d&-d),A.tag=2;var K=b.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?A.next=A:(A.next=se.next,se.next=A),K.pending=A}}b.lanes|=d,A=b.alternate,A!==null&&(A.lanes|=d),Gc(b.return,d,a),C.lanes|=d;break}A=A.next}}else if(b.tag===10)N=b.type===a.type?null:b.child;else if(b.tag===18){if(N=b.return,N===null)throw Error(r(341));N.lanes|=d,C=N.alternate,C!==null&&(C.lanes|=d),Gc(N,d,a),N=b.sibling}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===a){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}Bt(n,a,g.children,d),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Ys(a,d),g=fr(g),f=f(g),a.flags|=1,Bt(n,a,f,d),a.child;case 14:return f=a.type,g=Sr(f,a.pendingProps),g=Sr(f.type,g),h0(n,a,f,g,d);case 15:return f0(n,a,a.type,a.pendingProps,d);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Sr(f,g),Fo(n,a),a.tag=1,Yt(f)?(n=!0,yo(a)):n=!1,Ys(a,d),s0(a,f,g),ud(a,f,g,d),md(null,a,f,!0,n,d);case 19:return w0(n,a,d);case 22:return p0(n,a,d)}throw Error(r(156,a.tag))};function U0(n,a){return jh(n,a)}function Hy(n,a,d,f){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(n,a,d,f){return new Hy(n,a,d,f)}function Dd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vy(n){if(typeof n=="function")return Dd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===q)return 11;if(n===I)return 14}return 2}function An(n,a){var d=n.alternate;return d===null?(d=gr(n.tag,a,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=a,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&14680064,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,a=n.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d}function Ko(n,a,d,f,g,b){var N=2;if(f=n,typeof n=="function")Dd(n)&&(N=1);else if(typeof n=="string")N=5;else e:switch(n){case H:return ss(d.children,g,b,a);case G:N=8,g|=8;break;case F:return n=gr(12,d,a,g|2),n.elementType=F,n.lanes=b,n;case X:return n=gr(13,d,a,g),n.elementType=X,n.lanes=b,n;case R:return n=gr(19,d,a,g),n.elementType=R,n.lanes=b,n;case J:return Go(d,g,b,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case te:N=10;break e;case z:N=9;break e;case q:N=11;break e;case I:N=14;break e;case S:N=16,f=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return a=gr(N,d,a,g),a.elementType=n,a.type=f,a.lanes=b,a}function ss(n,a,d,f){return n=gr(7,n,f,a),n.lanes=d,n}function Go(n,a,d,f){return n=gr(22,n,f,a),n.elementType=J,n.lanes=d,n.stateNode={isHidden:!1},n}function Od(n,a,d){return n=gr(6,n,null,a),n.lanes=d,n}function Fd(n,a,d){return a=gr(4,n.children!==null?n.children:[],n.key,a),a.lanes=d,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function Uy(n,a,d,f,g){this.tag=a,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Id(n,a,d,f,g,b,N,C,A){return n=new Uy(n,a,d,C,A),a===1?(a=1,b===!0&&(a|=8)):a=0,b=gr(3,null,null,a),n.current=b,b.stateNode=n,b.memoizedState={element:f,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jc(b),n}function qy(n,a,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:f==null?null:""+f,children:n,containerInfo:a,implementation:d}}function q0(n){if(!n)return jn;n=n._reactInternals;e:{if(qn(n)!==n||n.tag!==1)throw Error(r(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Yt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(n.tag===1){var d=n.type;if(Yt(d))return vf(n,d,a)}return a}function Y0(n,a,d,f,g,b,N,C,A){return n=Id(d,f,!0,n,g,b,N,C,A),n.context=q0(null),d=n.current,f=Wt(),g=Pn(d),b=Kr(f,g),b.callback=a??null,_n(d,b,g),n.current.lanes=g,Pa(n,g,f),Xt(n,f),n}function Xo(n,a,d,f){var g=a.current,b=Wt(),N=Pn(g);return d=q0(d),a.context===null?a.context=d:a.pendingContext=d,a=Kr(b,N),a.payload={element:n},f=f===void 0?null:f,f!==null&&(a.callback=f),n=_n(g,a,N),n!==null&&(Er(n,g,N,b),Co(n,g,N)),N}function Jo(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function K0(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<a?d:a}}function zd(n,a){K0(n,a),(n=n.alternate)&&K0(n,a)}function Yy(){return null}var G0=typeof reportError=="function"?reportError:function(n){console.error(n)};function $d(n){this._internalRoot=n}Qo.prototype.render=$d.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));Xo(n,a,null,null)},Qo.prototype.unmount=$d.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;ts(function(){Xo(null,n,null,null)}),a[Hr]=null}};function Qo(n){this._internalRoot=n}Qo.prototype.unstable_scheduleHydration=function(n){if(n){var a=Rh();n={blockedOn:null,target:n,priority:a};for(var d=0;d<bn.length&&a!==0&&a<bn[d].priority;d++);bn.splice(d,0,n),d===0&&Th(n)}};function Bd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Zo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function X0(){}function Ky(n,a,d,f,g){if(g){if(typeof f=="function"){var b=f;f=function(){var K=Jo(N);b.call(K)}}var N=Y0(a,f,n,0,null,!1,!1,"",X0);return n._reactRootContainer=N,n[Hr]=N.current,Va(n.nodeType===8?n.parentNode:n),ts(),N}for(;g=n.lastChild;)n.removeChild(g);if(typeof f=="function"){var C=f;f=function(){var K=Jo(A);C.call(K)}}var A=Id(n,0,!1,null,null,!1,!1,"",X0);return n._reactRootContainer=A,n[Hr]=A.current,Va(n.nodeType===8?n.parentNode:n),ts(function(){Xo(a,A,d,f)}),A}function el(n,a,d,f,g){var b=d._reactRootContainer;if(b){var N=b;if(typeof g=="function"){var C=g;g=function(){var A=Jo(N);C.call(A)}}Xo(a,N,n,g)}else N=Ky(d,a,n,g,f);return Jo(N)}Mh=function(n){switch(n.tag){case 3:var a=n.stateNode;if(a.current.memoizedState.isDehydrated){var d=Ma(a.pendingLanes);d!==0&&(uc(a,d|1),Xt(a,ct()),(Fe&6)===0&&(Qs=ct()+500,Nn()))}break;case 13:ts(function(){var f=Yr(n,1);if(f!==null){var g=Wt();Er(f,n,1,g)}}),zd(n,1)}},hc=function(n){if(n.tag===13){var a=Yr(n,134217728);if(a!==null){var d=Wt();Er(a,n,134217728,d)}zd(n,134217728)}},Ph=function(n){if(n.tag===13){var a=Pn(n),d=Yr(n,a);if(d!==null){var f=Wt();Er(d,n,a,f)}zd(n,a)}},Rh=function(){return We},Ah=function(n,a){var d=We;try{return We=n,a()}finally{We=d}},Wr=function(n,a,d){switch(a){case"input":if(ie(n,d),a=d.name,d.type==="radio"&&a!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var f=d[a];if(f!==n&&f.form===n.form){var g=xo(f);if(!g)throw Error(r(90));Oe(f),ie(f,g)}}}break;case"textarea":cr(n,d);break;case"select":a=d.value,a!=null&&Ye(n,!!d.multiple,a,!1)}},gh=Ad,xh=ts;var Gy={usingClientEntryPoint:!1,Events:[Ya,zs,xo,ph,mh,Ad]},oi={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xy={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=wh(n),n===null?null:n.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||Yy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Ji=tl.inject(Xy),Pr=tl}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gy,Jt.createPortal=function(n,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bd(a))throw Error(r(200));return qy(n,a,null,d)},Jt.createRoot=function(n,a){if(!Bd(n))throw Error(r(299));var d=!1,f="",g=G0;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Id(n,1,!1,null,null,d,!1,f,g),n[Hr]=a.current,Va(n.nodeType===8?n.parentNode:n),new $d(a)},Jt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=wh(a),n=n===null?null:n.stateNode,n},Jt.flushSync=function(n){return ts(n)},Jt.hydrate=function(n,a,d){if(!Zo(a))throw Error(r(200));return el(null,n,a,!0,d)},Jt.hydrateRoot=function(n,a,d){if(!Bd(n))throw Error(r(405));var f=d!=null&&d.hydratedSources||null,g=!1,b="",N=G0;if(d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(N=d.onRecoverableError)),a=Y0(a,null,n,1,d??null,g,!1,b,N),n[Hr]=a.current,Va(n),f)for(n=0;n<f.length;n++)d=f[n],g=d._getVersion,g=g(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,g]:a.mutableSourceEagerHydrationData.push(d,g);return new Qo(a)},Jt.render=function(n,a,d){if(!Zo(a))throw Error(r(200));return el(null,n,a,!1,d)},Jt.unmountComponentAtNode=function(n){if(!Zo(n))throw Error(r(40));return n._reactRootContainer?(ts(function(){el(null,null,n,!1,function(){n._reactRootContainer=null,n[Hr]=null})}),!0):!1},Jt.unstable_batchedUpdates=Ad,Jt.unstable_renderSubtreeIntoContainer=function(n,a,d,f){if(!Zo(d))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return el(n,a,d,!1,f)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var sp;function hg(){if(sp)return Vd.exports;sp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vd.exports=av(),Vd.exports}var ap;function iv(){if(ap)return rl;ap=1;var t=hg();return rl.createRoot=t.createRoot,rl.hydrateRoot=t.hydrateRoot,rl}var ov=iv();const lv=ug(ov);hg();function Si(){return Si=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Si.apply(this,arguments)}var Dn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dn||(Dn={}));const ip="popstate";function cv(t){t===void 0&&(t={});function e(s,o){let{pathname:l,search:c,hash:u}=s.location;return pu("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:Cl(o)}return uv(e,r,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dv(){return Math.random().toString(36).substr(2,8)}function op(t,e){return{usr:t.state,key:t.key,idx:e}}function pu(t,e,r,s){return r===void 0&&(r=null),Si({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pa(e):e,{state:r,key:e&&e.key||s||dv()})}function Cl(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function pa(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function uv(t,e,r,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,u=Dn.Pop,h=null,p=m();p==null&&(p=0,c.replaceState(Si({},c.state,{idx:p}),""));function m(){return(c.state||{idx:null}).idx}function x(){u=Dn.Pop;let k=m(),_=k==null?null:k-p;p=k,h&&h({action:u,location:j.location,delta:_})}function y(k,_){u=Dn.Push;let P=pu(j.location,k,_);p=m()+1;let T=op(P,p),L=j.createHref(P);try{c.pushState(T,"",L)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(L)}l&&h&&h({action:u,location:j.location,delta:1})}function w(k,_){u=Dn.Replace;let P=pu(j.location,k,_);p=m();let T=op(P,p),L=j.createHref(P);c.replaceState(T,"",L),l&&h&&h({action:u,location:j.location,delta:0})}function v(k){let _=o.location.origin!=="null"?o.location.origin:o.location.href,P=typeof k=="string"?k:Cl(k);return P=P.replace(/ $/,"%20"),it(_,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,_)}let j={get action(){return u},get location(){return t(o,c)},listen(k){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(ip,x),h=k,()=>{o.removeEventListener(ip,x),h=null}},createHref(k){return e(o,k)},createURL:v,encodeLocation(k){let _=v(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:w,go(k){return c.go(k)}};return j}var lp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lp||(lp={}));function hv(t,e,r){return r===void 0&&(r="/"),fv(t,e,r)}function fv(t,e,r,s){let o=typeof e=="string"?pa(e):e,l=aa(o.pathname||"/",r);if(l==null)return null;let c=fg(t);pv(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let p=Sv(l);u=jv(c[h],p)}return u}function fg(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let o=(l,c,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(it(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let p=zn([s,h.relativePath]),m=r.concat(h);l.children&&l.children.length>0&&(it(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),fg(l.children,e,m,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:wv(p,l.index),routesMeta:m})};return t.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let h of pg(l.path))o(l,c,h)}),e}function pg(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=pg(s.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function pv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:kv(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const mv=/^:[\w-]+$/,gv=3,xv=2,bv=1,yv=10,vv=-2,cp=t=>t==="*";function wv(t,e){let r=t.split("/"),s=r.length;return r.some(cp)&&(s+=vv),e&&(s+=xv),r.filter(o=>!cp(o)).reduce((o,l)=>o+(mv.test(l)?gv:l===""?bv:yv),s)}function kv(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function jv(t,e,r){let{routesMeta:s}=t,o={},l="/",c=[];for(let u=0;u<s.length;++u){let h=s[u],p=u===s.length-1,m=l==="/"?e:e.slice(l.length)||"/",x=mu({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),y=h.route;if(!x)return null;Object.assign(o,x.params),c.push({params:o,pathname:zn([l,x.pathname]),pathnameBase:Pv(zn([l,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(l=zn([l,x.pathnameBase]))}return c}function mu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=Nv(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:s.reduce((p,m,x)=>{let{paramName:y,isOptional:w}=m;if(y==="*"){let j=u[x]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const v=u[x];return w&&!v?p[y]=void 0:p[y]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function Nv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Fu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(s.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Sv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function aa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}const _v=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cv=t=>_v.test(t);function Ev(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:o=""}=typeof t=="string"?pa(t):t,l;if(r)if(Cv(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Fu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?l=dp(r.substring(1),"/"):l=dp(r,e)}else l=e;return{pathname:l,search:Rv(s),hash:Av(o)}}function dp(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Yd(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mv(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Iu(t,e){let r=Mv(t);return e?r.map((s,o)=>o===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function zu(t,e,r,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=pa(t):(o=Si({},t),it(!o.pathname||!o.pathname.includes("?"),Yd("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Yd("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Yd("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=r;else{let x=e.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),x-=1;o.pathname=y.join("/")}u=x>=0?e[x]:"/"}let h=Ev(o,u),p=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}const zn=t=>t.join("/").replace(/\/\/+/g,"/"),Pv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Av=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Lv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mg=["post","put","patch","delete"];new Set(mg);const Tv=["get",...mg];new Set(Tv);function _i(){return _i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_i.apply(this,arguments)}const Hl=M.createContext(null),gg=M.createContext(null),cn=M.createContext(null),Vl=M.createContext(null),dn=M.createContext({outlet:null,matches:[],isDataRoute:!1}),xg=M.createContext(null);function Dv(t,e){let{relative:r}=e===void 0?{}:e;ma()||it(!1);let{basename:s,navigator:o}=M.useContext(cn),{hash:l,pathname:c,search:u}=Ul(t,{relative:r}),h=c;return s!=="/"&&(h=c==="/"?s:zn([s,c])),o.createHref({pathname:h,search:u,hash:l})}function ma(){return M.useContext(Vl)!=null}function Es(){return ma()||it(!1),M.useContext(Vl).location}function bg(t){M.useContext(cn).static||M.useLayoutEffect(t)}function $r(){let{isDataRoute:t}=M.useContext(dn);return t?Xv():Ov()}function Ov(){ma()||it(!1);let t=M.useContext(Hl),{basename:e,future:r,navigator:s}=M.useContext(cn),{matches:o}=M.useContext(dn),{pathname:l}=Es(),c=JSON.stringify(Iu(o,r.v7_relativeSplatPath)),u=M.useRef(!1);return bg(()=>{u.current=!0}),M.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){s.go(p);return}let x=zu(p,JSON.parse(c),l,m.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:zn([e,x.pathname])),(m.replace?s.replace:s.push)(x,m.state,m)},[e,s,c,l,t])}const Fv=M.createContext(null);function Iv(t){let e=M.useContext(dn).outlet;return e&&M.createElement(Fv.Provider,{value:t},e)}function Ul(t,e){let{relative:r}=e===void 0?{}:e,{future:s}=M.useContext(cn),{matches:o}=M.useContext(dn),{pathname:l}=Es(),c=JSON.stringify(Iu(o,s.v7_relativeSplatPath));return M.useMemo(()=>zu(t,JSON.parse(c),l,r==="path"),[t,c,l,r])}function zv(t,e){return $v(t,e)}function $v(t,e,r,s){ma()||it(!1);let{navigator:o}=M.useContext(cn),{matches:l}=M.useContext(dn),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let p=Es(),m;if(e){var x;let k=typeof e=="string"?pa(e):e;h==="/"||(x=k.pathname)!=null&&x.startsWith(h)||it(!1),m=k}else m=p;let y=m.pathname||"/",w=y;if(h!=="/"){let k=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=hv(t,{pathname:w}),j=Uv(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:zn([h,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:zn([h,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,r,s);return e&&j?M.createElement(Vl.Provider,{value:{location:_i({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Dn.Pop}},j):j}function Bv(){let t=Gv(),e=Lv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),r?M.createElement("pre",{style:o},r):null,null)}const Wv=M.createElement(Bv,null);class Hv extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?M.createElement(dn.Provider,{value:this.props.routeContext},M.createElement(xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vv(t){let{routeContext:e,match:r,children:s}=t,o=M.useContext(Hl);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(dn.Provider,{value:e},s)}function Uv(t,e,r,s){var o;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,u=(o=r)==null?void 0:o.errors;if(u!=null){let m=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);m>=0||it(!1),c=c.slice(0,Math.min(c.length,m+1))}let h=!1,p=-1;if(r&&s&&s.v7_partialHydration)for(let m=0;m<c.length;m++){let x=c[m];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=m),x.route.id){let{loaderData:y,errors:w}=r,v=x.route.loader&&y[x.route.id]===void 0&&(!w||w[x.route.id]===void 0);if(x.route.lazy||v){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((m,x,y)=>{let w,v=!1,j=null,k=null;r&&(w=u&&x.route.id?u[x.route.id]:void 0,j=x.route.errorElement||Wv,h&&(p<0&&y===0?(Jv("route-fallback"),v=!0,k=null):p===y&&(v=!0,k=x.route.hydrateFallbackElement||null)));let _=e.concat(c.slice(0,y+1)),P=()=>{let T;return w?T=j:v?T=k:x.route.Component?T=M.createElement(x.route.Component,null):x.route.element?T=x.route.element:T=m,M.createElement(Vv,{match:x,routeContext:{outlet:m,matches:_,isDataRoute:r!=null},children:T})};return r&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?M.createElement(Hv,{location:r.location,revalidation:r.revalidation,component:j,error:w,children:P(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):P()},null)}var yg=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(yg||{}),vg=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(vg||{});function qv(t){let e=M.useContext(Hl);return e||it(!1),e}function Yv(t){let e=M.useContext(gg);return e||it(!1),e}function Kv(t){let e=M.useContext(dn);return e||it(!1),e}function wg(t){let e=Kv(),r=e.matches[e.matches.length-1];return r.route.id||it(!1),r.route.id}function Gv(){var t;let e=M.useContext(xg),r=Yv(),s=wg();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function Xv(){let{router:t}=qv(yg.UseNavigateStable),e=wg(vg.UseNavigateStable),r=M.useRef(!1);return bg(()=>{r.current=!0}),M.useCallback(function(o,l){l===void 0&&(l={}),r.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,_i({fromRouteId:e},l)))},[t,e])}const up={};function Jv(t,e,r){up[t]||(up[t]=!0)}function Qv(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Ci(t){let{to:e,replace:r,state:s,relative:o}=t;ma()||it(!1);let{future:l,static:c}=M.useContext(cn),{matches:u}=M.useContext(dn),{pathname:h}=Es(),p=$r(),m=zu(e,Iu(u,l.v7_relativeSplatPath),h,o==="path"),x=JSON.stringify(m);return M.useEffect(()=>p(JSON.parse(x),{replace:r,state:s,relative:o}),[p,x,o,r,s]),null}function kg(t){return Iv(t.context)}function st(t){it(!1)}function Zv(t){let{basename:e="/",children:r=null,location:s,navigationType:o=Dn.Pop,navigator:l,static:c=!1,future:u}=t;ma()&&it(!1);let h=e.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:h,navigator:l,static:c,future:_i({v7_relativeSplatPath:!1},u)}),[h,u,l,c]);typeof s=="string"&&(s=pa(s));let{pathname:m="/",search:x="",hash:y="",state:w=null,key:v="default"}=s,j=M.useMemo(()=>{let k=aa(m,h);return k==null?null:{location:{pathname:k,search:x,hash:y,state:w,key:v},navigationType:o}},[h,m,x,y,w,v,o]);return j==null?null:M.createElement(cn.Provider,{value:p},M.createElement(Vl.Provider,{children:r,value:j}))}function e1(t){let{children:e,location:r}=t;return zv(gu(e),r)}new Promise(()=>{});function gu(t,e){e===void 0&&(e=[]);let r=[];return M.Children.forEach(t,(s,o)=>{if(!M.isValidElement(s))return;let l=[...e,o];if(s.type===M.Fragment){r.push.apply(r,gu(s.props.children,l));return}s.type!==st&&it(!1),!s.props.index||!s.props.children||it(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=gu(s.props.children,l)),r.push(c)}),r}function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},El.apply(this,arguments)}function jg(t,e){if(t==null)return{};var r={},s=Object.keys(t),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function t1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function r1(t,e){return t.button===0&&(!e||e==="_self")&&!t1(t)}const n1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],s1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],a1="6";try{window.__reactRouterVersion=a1}catch{}const i1=M.createContext({isTransitioning:!1}),o1="startTransition",hp=rv[o1];function l1(t){let{basename:e,children:r,future:s,window:o}=t,l=M.useRef();l.current==null&&(l.current=cv({window:o,v5Compat:!0}));let c=l.current,[u,h]=M.useState({action:c.action,location:c.location}),{v7_startTransition:p}=s||{},m=M.useCallback(x=>{p&&hp?hp(()=>h(x)):h(x)},[h,p]);return M.useLayoutEffect(()=>c.listen(m),[c,m]),M.useEffect(()=>Qv(s),[s]),M.createElement(Zv,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:c,future:s})}const c1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u1=M.forwardRef(function(e,r){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:u,target:h,to:p,preventScrollReset:m,viewTransition:x}=e,y=jg(e,n1),{basename:w}=M.useContext(cn),v,j=!1;if(typeof p=="string"&&d1.test(p)&&(v=p,c1))try{let T=new URL(window.location.href),L=p.startsWith("//")?new URL(T.protocol+p):new URL(p),D=aa(L.pathname,w);L.origin===T.origin&&D!=null?p=D+L.search+L.hash:j=!0}catch{}let k=Dv(p,{relative:o}),_=p1(p,{replace:c,state:u,target:h,preventScrollReset:m,relative:o,viewTransition:x});function P(T){s&&s(T),T.defaultPrevented||_(T)}return M.createElement("a",El({},y,{href:v||k,onClick:j||l?s:P,ref:r,target:h}))}),h1=M.forwardRef(function(e,r){let{"aria-current":s="page",caseSensitive:o=!1,className:l="",end:c=!1,style:u,to:h,viewTransition:p,children:m}=e,x=jg(e,s1),y=Ul(h,{relative:x.relative}),w=Es(),v=M.useContext(gg),{navigator:j,basename:k}=M.useContext(cn),_=v!=null&&m1(y)&&p===!0,P=j.encodeLocation?j.encodeLocation(y).pathname:y.pathname,T=w.pathname,L=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(T=T.toLowerCase(),L=L?L.toLowerCase():null,P=P.toLowerCase()),L&&k&&(L=aa(L,k)||L);const D=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let W=T===P||!c&&T.startsWith(P)&&T.charAt(D)==="/",H=L!=null&&(L===P||!c&&L.startsWith(P)&&L.charAt(P.length)==="/"),G={isActive:W,isPending:H,isTransitioning:_},F=W?s:void 0,te;typeof l=="function"?te=l(G):te=[l,W?"active":null,H?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let z=typeof u=="function"?u(G):u;return M.createElement(u1,El({},x,{"aria-current":F,className:te,ref:r,style:z,to:h,viewTransition:p}),typeof m=="function"?m(G):m)});var xu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xu||(xu={}));var fp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fp||(fp={}));function f1(t){let e=M.useContext(Hl);return e||it(!1),e}function p1(t,e){let{target:r,replace:s,state:o,preventScrollReset:l,relative:c,viewTransition:u}=e===void 0?{}:e,h=$r(),p=Es(),m=Ul(t,{relative:c});return M.useCallback(x=>{if(r1(x,r)){x.preventDefault();let y=s!==void 0?s:Cl(p)===Cl(m);h(t,{replace:y,state:o,preventScrollReset:l,relative:c,viewTransition:u})}},[p,h,m,s,o,r,t,l,c,u])}function m1(t,e){e===void 0&&(e={});let r=M.useContext(i1);r==null&&it(!1);let{basename:s}=f1(xu.useViewTransitionState),o=Ul(t,{relative:e.relative});if(!r.isTransitioning)return!1;let l=aa(r.currentLocation.pathname,s)||r.currentLocation.pathname,c=aa(r.nextLocation.pathname,s)||r.nextLocation.pathname;return mu(o.pathname,c)!=null||mu(o.pathname,l)!=null}function Ng(t,e){return function(){return t.apply(e,arguments)}}const{toString:g1}=Object.prototype,{getPrototypeOf:$u}=Object,{iterator:ql,toStringTag:Sg}=Symbol,Yl=(t=>e=>{const r=g1.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Mr=t=>(t=t.toLowerCase(),e=>Yl(e)===t),Kl=t=>e=>typeof e===t,{isArray:ga}=Array,ia=Kl("undefined");function zi(t){return t!==null&&!ia(t)&&t.constructor!==null&&!ia(t.constructor)&&tr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _g=Mr("ArrayBuffer");function x1(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_g(t.buffer),e}const b1=Kl("string"),tr=Kl("function"),Cg=Kl("number"),$i=t=>t!==null&&typeof t=="object",y1=t=>t===!0||t===!1,wl=t=>{if(Yl(t)!=="object")return!1;const e=$u(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Sg in t)&&!(ql in t)},v1=t=>{if(!$i(t)||zi(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},w1=Mr("Date"),k1=Mr("File"),j1=Mr("Blob"),N1=Mr("FileList"),S1=t=>$i(t)&&tr(t.pipe),_1=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tr(t.append)&&((e=Yl(t))==="formdata"||e==="object"&&tr(t.toString)&&t.toString()==="[object FormData]"))},C1=Mr("URLSearchParams"),[E1,M1,P1,R1]=["ReadableStream","Request","Response","Headers"].map(Mr),A1=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bi(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,o;if(typeof t!="object"&&(t=[t]),ga(t))for(s=0,o=t.length;s<o;s++)e.call(null,t[s],s,t);else{if(zi(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let u;for(s=0;s<c;s++)u=l[s],e.call(null,t[u],u,t)}}function Eg(t,e){if(zi(t))return null;e=e.toLowerCase();const r=Object.keys(t);let s=r.length,o;for(;s-- >0;)if(o=r[s],e===o.toLowerCase())return o;return null}const hs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mg=t=>!ia(t)&&t!==hs;function bu(){const{caseless:t,skipUndefined:e}=Mg(this)&&this||{},r={},s=(o,l)=>{if(l==="__proto__"||l==="constructor"||l==="prototype")return;const c=t&&Eg(r,l)||l;wl(r[c])&&wl(o)?r[c]=bu(r[c],o):wl(o)?r[c]=bu({},o):ga(o)?r[c]=o.slice():(!e||!ia(o))&&(r[c]=o)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&Bi(arguments[o],s);return r}const L1=(t,e,r,{allOwnKeys:s}={})=>(Bi(e,(o,l)=>{r&&tr(o)?Object.defineProperty(t,l,{value:Ng(o,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,l,{value:o,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:s}),t),T1=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),D1=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},O1=(t,e,r,s)=>{let o,l,c;const u={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),l=o.length;l-- >0;)c=o[l],(!s||s(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=r!==!1&&$u(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},F1=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const s=t.indexOf(e,r);return s!==-1&&s===r},I1=t=>{if(!t)return null;if(ga(t))return t;let e=t.length;if(!Cg(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},z1=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&$u(Uint8Array)),$1=(t,e)=>{const s=(t&&t[ql]).call(t);let o;for(;(o=s.next())&&!o.done;){const l=o.value;e.call(t,l[0],l[1])}},B1=(t,e)=>{let r;const s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},W1=Mr("HTMLFormElement"),H1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,o){return s.toUpperCase()+o}),pp=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),V1=Mr("RegExp"),Pg=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),s={};Bi(r,(o,l)=>{let c;(c=e(o,l,t))!==!1&&(s[l]=c||o)}),Object.defineProperties(t,s)},U1=t=>{Pg(t,(e,r)=>{if(tr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(tr(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},q1=(t,e)=>{const r={},s=o=>{o.forEach(l=>{r[l]=!0})};return ga(t)?s(t):s(String(t).split(e)),r},Y1=()=>{},K1=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function G1(t){return!!(t&&tr(t.append)&&t[Sg]==="FormData"&&t[ql])}const X1=t=>{const e=new Array(10),r=(s,o)=>{if($i(s)){if(e.indexOf(s)>=0)return;if(zi(s))return s;if(!("toJSON"in s)){e[o]=s;const l=ga(s)?[]:{};return Bi(s,(c,u)=>{const h=r(c,o+1);!ia(h)&&(l[u]=h)}),e[o]=void 0,l}}return s};return r(t,0)},J1=Mr("AsyncFunction"),Q1=t=>t&&($i(t)||tr(t))&&tr(t.then)&&tr(t.catch),Rg=((t,e)=>t?setImmediate:e?((r,s)=>(hs.addEventListener("message",({source:o,data:l})=>{o===hs&&l===r&&s.length&&s.shift()()},!1),o=>{s.push(o),hs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",tr(hs.postMessage)),Z1=typeof queueMicrotask<"u"?queueMicrotask.bind(hs):typeof process<"u"&&process.nextTick||Rg,e2=t=>t!=null&&tr(t[ql]),Q={isArray:ga,isArrayBuffer:_g,isBuffer:zi,isFormData:_1,isArrayBufferView:x1,isString:b1,isNumber:Cg,isBoolean:y1,isObject:$i,isPlainObject:wl,isEmptyObject:v1,isReadableStream:E1,isRequest:M1,isResponse:P1,isHeaders:R1,isUndefined:ia,isDate:w1,isFile:k1,isBlob:j1,isRegExp:V1,isFunction:tr,isStream:S1,isURLSearchParams:C1,isTypedArray:z1,isFileList:N1,forEach:Bi,merge:bu,extend:L1,trim:A1,stripBOM:T1,inherits:D1,toFlatObject:O1,kindOf:Yl,kindOfTest:Mr,endsWith:F1,toArray:I1,forEachEntry:$1,matchAll:B1,isHTMLForm:W1,hasOwnProperty:pp,hasOwnProp:pp,reduceDescriptors:Pg,freezeMethods:U1,toObjectSet:q1,toCamelCase:H1,noop:Y1,toFiniteNumber:K1,findKey:Eg,global:hs,isContextDefined:Mg,isSpecCompliantForm:G1,toJSONObject:X1,isAsyncFn:J1,isThenable:Q1,setImmediate:Rg,asap:Z1,isIterable:e2};let Ce=class Ag extends Error{static from(e,r,s,o,l,c){const u=new Ag(e.message,r||e.code,s,o,l);return u.cause=e,u.name=e.name,c&&Object.assign(u,c),u}constructor(e,r,s,o,l){super(e),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),s&&(this.config=s),o&&(this.request=o),l&&(this.response=l,this.status=l.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}};Ce.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ce.ERR_BAD_OPTION="ERR_BAD_OPTION";Ce.ECONNABORTED="ECONNABORTED";Ce.ETIMEDOUT="ETIMEDOUT";Ce.ERR_NETWORK="ERR_NETWORK";Ce.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ce.ERR_DEPRECATED="ERR_DEPRECATED";Ce.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ce.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ce.ERR_CANCELED="ERR_CANCELED";Ce.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ce.ERR_INVALID_URL="ERR_INVALID_URL";const t2=null;function yu(t){return Q.isPlainObject(t)||Q.isArray(t)}function Lg(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function mp(t,e,r){return t?t.concat(e).map(function(o,l){return o=Lg(o),!r&&l?"["+o+"]":o}).join(r?".":""):e}function r2(t){return Q.isArray(t)&&!t.some(yu)}const n2=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Gl(t,e,r){if(!Q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,k){return!Q.isUndefined(k[j])});const s=r.metaTokens,o=r.visitor||m,l=r.dots,c=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function p(v){if(v===null)return"";if(Q.isDate(v))return v.toISOString();if(Q.isBoolean(v))return v.toString();if(!h&&Q.isBlob(v))throw new Ce("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(v)||Q.isTypedArray(v)?h&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,j,k){let _=v;if(v&&!k&&typeof v=="object"){if(Q.endsWith(j,"{}"))j=s?j:j.slice(0,-2),v=JSON.stringify(v);else if(Q.isArray(v)&&r2(v)||(Q.isFileList(v)||Q.endsWith(j,"[]"))&&(_=Q.toArray(v)))return j=Lg(j),_.forEach(function(T,L){!(Q.isUndefined(T)||T===null)&&e.append(c===!0?mp([j],L,l):c===null?j:j+"[]",p(T))}),!1}return yu(v)?!0:(e.append(mp(k,j,l),p(v)),!1)}const x=[],y=Object.assign(n2,{defaultVisitor:m,convertValue:p,isVisitable:yu});function w(v,j){if(!Q.isUndefined(v)){if(x.indexOf(v)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(v),Q.forEach(v,function(_,P){(!(Q.isUndefined(_)||_===null)&&o.call(e,_,Q.isString(P)?P.trim():P,j,y))===!0&&w(_,j?j.concat(P):[P])}),x.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return w(t),e}function gp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Bu(t,e){this._pairs=[],t&&Gl(t,this,e)}const Tg=Bu.prototype;Tg.append=function(e,r){this._pairs.push([e,r])};Tg.toString=function(e){const r=e?function(s){return e.call(this,s,gp)}:gp;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function s2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Dg(t,e,r){if(!e)return t;const s=r&&r.encode||s2,o=Q.isFunction(r)?{serialize:r}:r,l=o&&o.serialize;let c;if(l?c=l(e,o):c=Q.isURLSearchParams(e)?e.toString():new Bu(e,o).toString(s),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class xp{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Wu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},a2=typeof URLSearchParams<"u"?URLSearchParams:Bu,i2=typeof FormData<"u"?FormData:null,o2=typeof Blob<"u"?Blob:null,l2={isBrowser:!0,classes:{URLSearchParams:a2,FormData:i2,Blob:o2},protocols:["http","https","file","blob","url","data"]},Hu=typeof window<"u"&&typeof document<"u",vu=typeof navigator=="object"&&navigator||void 0,c2=Hu&&(!vu||["ReactNative","NativeScript","NS"].indexOf(vu.product)<0),d2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",u2=Hu&&window.location.href||"http://localhost",h2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hu,hasStandardBrowserEnv:c2,hasStandardBrowserWebWorkerEnv:d2,navigator:vu,origin:u2},Symbol.toStringTag,{value:"Module"})),Ot={...h2,...l2};function f2(t,e){return Gl(t,new Ot.classes.URLSearchParams,{visitor:function(r,s,o,l){return Ot.isNode&&Q.isBuffer(r)?(this.append(s,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function p2(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function m2(t){const e={},r=Object.keys(t);let s;const o=r.length;let l;for(s=0;s<o;s++)l=r[s],e[l]=t[l];return e}function Og(t){function e(r,s,o,l){let c=r[l++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),h=l>=r.length;return c=!c&&Q.isArray(o)?o.length:c,h?(Q.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!u):((!o[c]||!Q.isObject(o[c]))&&(o[c]=[]),e(r,s,o[c],l)&&Q.isArray(o[c])&&(o[c]=m2(o[c])),!u)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const r={};return Q.forEachEntry(t,(s,o)=>{e(p2(s),o,r,0)}),r}return null}function g2(t,e,r){if(Q.isString(t))try{return(e||JSON.parse)(t),Q.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}const Wi={transitional:Wu,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const s=r.getContentType()||"",o=s.indexOf("application/json")>-1,l=Q.isObject(e);if(l&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(Og(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return f2(e,this.formSerializer).toString();if((u=Q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Gl(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return l||o?(r.setContentType("application/json",!1),g2(e)):e}],transformResponse:[function(e){const r=this.transitional||Wi.transitional,s=r&&r.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(s&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?Ce.from(u,Ce.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{Wi.headers[t]={}});const x2=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b2=t=>{const e={};let r,s,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!r||e[r]&&x2[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},bp=Symbol("internals");function ci(t){return t&&String(t).trim().toLowerCase()}function kl(t){return t===!1||t==null?t:Q.isArray(t)?t.map(kl):String(t)}function y2(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}const v2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Kd(t,e,r,s,o){if(Q.isFunction(s))return s.call(this,e,r);if(o&&(e=r),!!Q.isString(e)){if(Q.isString(s))return e.indexOf(s)!==-1;if(Q.isRegExp(s))return s.test(e)}}function w2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function k2(t,e){const r=Q.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(o,l,c){return this[s].call(this,e,o,l,c)},configurable:!0})})}let rr=class{constructor(e){e&&this.set(e)}set(e,r,s){const o=this;function l(u,h,p){const m=ci(h);if(!m)throw new Error("header name must be a non-empty string");const x=Q.findKey(o,m);(!x||o[x]===void 0||p===!0||p===void 0&&o[x]!==!1)&&(o[x||h]=kl(u))}const c=(u,h)=>Q.forEach(u,(p,m)=>l(p,m,h));if(Q.isPlainObject(e)||e instanceof this.constructor)c(e,r);else if(Q.isString(e)&&(e=e.trim())&&!v2(e))c(b2(e),r);else if(Q.isObject(e)&&Q.isIterable(e)){let u={},h,p;for(const m of e){if(!Q.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[p=m[0]]=(h=u[p])?Q.isArray(h)?[...h,m[1]]:[h,m[1]]:m[1]}c(u,r)}else e!=null&&l(r,e,s);return this}get(e,r){if(e=ci(e),e){const s=Q.findKey(this,e);if(s){const o=this[s];if(!r)return o;if(r===!0)return y2(o);if(Q.isFunction(r))return r.call(this,o,s);if(Q.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ci(e),e){const s=Q.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||Kd(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let o=!1;function l(c){if(c=ci(c),c){const u=Q.findKey(s,c);u&&(!r||Kd(s,s[u],u,r))&&(delete s[u],o=!0)}}return Q.isArray(e)?e.forEach(l):l(e),o}clear(e){const r=Object.keys(this);let s=r.length,o=!1;for(;s--;){const l=r[s];(!e||Kd(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const r=this,s={};return Q.forEach(this,(o,l)=>{const c=Q.findKey(s,l);if(c){r[c]=kl(o),delete r[l];return}const u=e?w2(l):String(l).trim();u!==l&&delete r[l],r[u]=kl(o),s[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Q.forEach(this,(s,o)=>{s!=null&&s!==!1&&(r[o]=e&&Q.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[bp]=this[bp]={accessors:{}}).accessors,o=this.prototype;function l(c){const u=ci(c);s[u]||(k2(o,c),s[u]=!0)}return Q.isArray(e)?e.forEach(l):l(e),this}};rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(rr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});Q.freezeMethods(rr);function Gd(t,e){const r=this||Wi,s=e||r,o=rr.from(s.headers);let l=s.data;return Q.forEach(t,function(u){l=u.call(r,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function Fg(t){return!!(t&&t.__CANCEL__)}let Hi=class extends Ce{constructor(e,r,s){super(e??"canceled",Ce.ERR_CANCELED,r,s),this.name="CanceledError",this.__CANCEL__=!0}};function Ig(t,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new Ce("Request failed with status code "+r.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function j2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function N2(t,e){t=t||10;const r=new Array(t),s=new Array(t);let o=0,l=0,c;return e=e!==void 0?e:1e3,function(h){const p=Date.now(),m=s[l];c||(c=p),r[o]=h,s[o]=p;let x=l,y=0;for(;x!==o;)y+=r[x++],x=x%t;if(o=(o+1)%t,o===l&&(l=(l+1)%t),p-c<e)return;const w=m&&p-m;return w?Math.round(y*1e3/w):void 0}}function S2(t,e){let r=0,s=1e3/e,o,l;const c=(p,m=Date.now())=>{r=m,o=null,l&&(clearTimeout(l),l=null),t(...p)};return[(...p)=>{const m=Date.now(),x=m-r;x>=s?c(p,m):(o=p,l||(l=setTimeout(()=>{l=null,c(o)},s-x)))},()=>o&&c(o)]}const Ml=(t,e,r=3)=>{let s=0;const o=N2(50,250);return S2(l=>{const c=l.loaded,u=l.lengthComputable?l.total:void 0,h=c-s,p=o(h),m=c<=u;s=c;const x={loaded:c,total:u,progress:u?c/u:void 0,bytes:h,rate:p||void 0,estimated:p&&u&&m?(u-c)/p:void 0,event:l,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(x)},r)},yp=(t,e)=>{const r=t!=null;return[s=>e[0]({lengthComputable:r,total:t,loaded:s}),e[1]]},vp=t=>(...e)=>Q.asap(()=>t(...e)),_2=Ot.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Ot.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,C2=Ot.hasStandardBrowserEnv?{write(t,e,r,s,o,l,c){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];Q.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),Q.isString(s)&&u.push(`path=${s}`),Q.isString(o)&&u.push(`domain=${o}`),l===!0&&u.push("secure"),Q.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function E2(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function M2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function zg(t,e,r){let s=!E2(e);return t&&(s||r==!1)?M2(t,e):e}const wp=t=>t instanceof rr?{...t}:t;function ys(t,e){e=e||{};const r={};function s(p,m,x,y){return Q.isPlainObject(p)&&Q.isPlainObject(m)?Q.merge.call({caseless:y},p,m):Q.isPlainObject(m)?Q.merge({},m):Q.isArray(m)?m.slice():m}function o(p,m,x,y){if(Q.isUndefined(m)){if(!Q.isUndefined(p))return s(void 0,p,x,y)}else return s(p,m,x,y)}function l(p,m){if(!Q.isUndefined(m))return s(void 0,m)}function c(p,m){if(Q.isUndefined(m)){if(!Q.isUndefined(p))return s(void 0,p)}else return s(void 0,m)}function u(p,m,x){if(x in e)return s(p,m);if(x in t)return s(void 0,p)}const h={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(p,m,x)=>o(wp(p),wp(m),x,!0)};return Q.forEach(Object.keys({...t,...e}),function(m){if(m==="__proto__"||m==="constructor"||m==="prototype")return;const x=Q.hasOwnProp(h,m)?h[m]:o,y=x(t[m],e[m],m);Q.isUndefined(y)&&x!==u||(r[m]=y)}),r}const $g=t=>{const e=ys({},t);let{data:r,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:u}=e;if(e.headers=c=rr.from(c),e.url=Dg(zg(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Q.isFormData(r)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Q.isFunction(r.getHeaders)){const h=r.getHeaders(),p=["content-type","content-length"];Object.entries(h).forEach(([m,x])=>{p.includes(m.toLowerCase())&&c.set(m,x)})}}if(Ot.hasStandardBrowserEnv&&(s&&Q.isFunction(s)&&(s=s(e)),s||s!==!1&&_2(e.url))){const h=o&&l&&C2.read(l);h&&c.set(o,h)}return e},P2=typeof XMLHttpRequest<"u",R2=P2&&function(t){return new Promise(function(r,s){const o=$g(t);let l=o.data;const c=rr.from(o.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:p}=o,m,x,y,w,v;function j(){w&&w(),v&&v(),o.cancelToken&&o.cancelToken.unsubscribe(m),o.signal&&o.signal.removeEventListener("abort",m)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function _(){if(!k)return;const T=rr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),D={data:!u||u==="text"||u==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:T,config:t,request:k};Ig(function(H){r(H),j()},function(H){s(H),j()},D),k=null}"onloadend"in k?k.onloadend=_:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(_)},k.onabort=function(){k&&(s(new Ce("Request aborted",Ce.ECONNABORTED,t,k)),k=null)},k.onerror=function(L){const D=L&&L.message?L.message:"Network Error",W=new Ce(D,Ce.ERR_NETWORK,t,k);W.event=L||null,s(W),k=null},k.ontimeout=function(){let L=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const D=o.transitional||Wu;o.timeoutErrorMessage&&(L=o.timeoutErrorMessage),s(new Ce(L,D.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,t,k)),k=null},l===void 0&&c.setContentType(null),"setRequestHeader"in k&&Q.forEach(c.toJSON(),function(L,D){k.setRequestHeader(D,L)}),Q.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),u&&u!=="json"&&(k.responseType=o.responseType),p&&([y,v]=Ml(p,!0),k.addEventListener("progress",y)),h&&k.upload&&([x,w]=Ml(h),k.upload.addEventListener("progress",x),k.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(m=T=>{k&&(s(!T||T.type?new Hi(null,t,k):T),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(m),o.signal&&(o.signal.aborted?m():o.signal.addEventListener("abort",m)));const P=j2(o.url);if(P&&Ot.protocols.indexOf(P)===-1){s(new Ce("Unsupported protocol "+P+":",Ce.ERR_BAD_REQUEST,t));return}k.send(l||null)})},A2=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let s=new AbortController,o;const l=function(p){if(!o){o=!0,u();const m=p instanceof Error?p:this.reason;s.abort(m instanceof Ce?m:new Hi(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,l(new Ce(`timeout of ${e}ms exceeded`,Ce.ETIMEDOUT))},e);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),t=null)};t.forEach(p=>p.addEventListener("abort",l));const{signal:h}=s;return h.unsubscribe=()=>Q.asap(u),h}},L2=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let s=0,o;for(;s<r;)o=s+e,yield t.slice(s,o),s=o},T2=async function*(t,e){for await(const r of D2(t))yield*L2(r,e)},D2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:s}=await e.read();if(r)break;yield s}}finally{await e.cancel()}},kp=(t,e,r,s)=>{const o=T2(t,e);let l=0,c,u=h=>{c||(c=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:p,value:m}=await o.next();if(p){u(),h.close();return}let x=m.byteLength;if(r){let y=l+=x;r(y)}h.enqueue(new Uint8Array(m))}catch(p){throw u(p),p}},cancel(h){return u(h),o.return()}},{highWaterMark:2})},jp=64*1024,{isFunction:nl}=Q,O2=(({Request:t,Response:e})=>({Request:t,Response:e}))(Q.global),{ReadableStream:Np,TextEncoder:Sp}=Q.global,_p=(t,...e)=>{try{return!!t(...e)}catch{return!1}},F2=t=>{t=Q.merge.call({skipUndefined:!0},O2,t);const{fetch:e,Request:r,Response:s}=t,o=e?nl(e):typeof fetch=="function",l=nl(r),c=nl(s);if(!o)return!1;const u=o&&nl(Np),h=o&&(typeof Sp=="function"?(v=>j=>v.encode(j))(new Sp):async v=>new Uint8Array(await new r(v).arrayBuffer())),p=l&&u&&_p(()=>{let v=!1;const j=new r(Ot.origin,{body:new Np,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!j}),m=c&&u&&_p(()=>Q.isReadableStream(new s("").body)),x={stream:m&&(v=>v.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!x[v]&&(x[v]=(j,k)=>{let _=j&&j[v];if(_)return _.call(j);throw new Ce(`Response type '${v}' is not supported`,Ce.ERR_NOT_SUPPORT,k)})});const y=async v=>{if(v==null)return 0;if(Q.isBlob(v))return v.size;if(Q.isSpecCompliantForm(v))return(await new r(Ot.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(v)||Q.isArrayBuffer(v))return v.byteLength;if(Q.isURLSearchParams(v)&&(v=v+""),Q.isString(v))return(await h(v)).byteLength},w=async(v,j)=>{const k=Q.toFiniteNumber(v.getContentLength());return k??y(j)};return async v=>{let{url:j,method:k,data:_,signal:P,cancelToken:T,timeout:L,onDownloadProgress:D,onUploadProgress:W,responseType:H,headers:G,withCredentials:F="same-origin",fetchOptions:te}=$g(v),z=e||fetch;H=H?(H+"").toLowerCase():"text";let q=A2([P,T&&T.toAbortSignal()],L),X=null;const R=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let I;try{if(W&&p&&k!=="get"&&k!=="head"&&(I=await w(G,_))!==0){let E=new r(j,{method:"POST",body:_,duplex:"half"}),Y;if(Q.isFormData(_)&&(Y=E.headers.get("content-type"))&&G.setContentType(Y),E.body){const[ce,le]=yp(I,Ml(vp(W)));_=kp(E.body,jp,ce,le)}}Q.isString(F)||(F=F?"include":"omit");const S=l&&"credentials"in r.prototype,J={...te,signal:q,method:k.toUpperCase(),headers:G.normalize().toJSON(),body:_,duplex:"half",credentials:S?F:void 0};X=l&&new r(j,J);let U=await(l?z(X,te):z(j,J));const re=m&&(H==="stream"||H==="response");if(m&&(D||re&&R)){const E={};["status","statusText","headers"].forEach(fe=>{E[fe]=U[fe]});const Y=Q.toFiniteNumber(U.headers.get("content-length")),[ce,le]=D&&yp(Y,Ml(vp(D),!0))||[];U=new s(kp(U.body,jp,ce,()=>{le&&le(),R&&R()}),E)}H=H||"text";let Z=await x[Q.findKey(x,H)||"text"](U,v);return!re&&R&&R(),await new Promise((E,Y)=>{Ig(E,Y,{data:Z,headers:rr.from(U.headers),status:U.status,statusText:U.statusText,config:v,request:X})})}catch(S){throw R&&R(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,v,X,S&&S.response),{cause:S.cause||S}):Ce.from(S,S&&S.code,v,X,S&&S.response)}}},I2=new Map,Bg=t=>{let e=t&&t.env||{};const{fetch:r,Request:s,Response:o}=e,l=[s,o,r];let c=l.length,u=c,h,p,m=I2;for(;u--;)h=l[u],p=m.get(h),p===void 0&&m.set(h,p=u?new Map:F2(e)),m=p;return p};Bg();const Vu={http:t2,xhr:R2,fetch:{get:Bg}};Q.forEach(Vu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Cp=t=>`- ${t}`,z2=t=>Q.isFunction(t)||t===null||t===!1;function $2(t,e){t=Q.isArray(t)?t:[t];const{length:r}=t;let s,o;const l={};for(let c=0;c<r;c++){s=t[c];let u;if(o=s,!z2(s)&&(o=Vu[(u=String(s)).toLowerCase()],o===void 0))throw new Ce(`Unknown adapter '${u}'`);if(o&&(Q.isFunction(o)||(o=o.get(e))))break;l[u||"#"+c]=o}if(!o){const c=Object.entries(l).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let u=r?c.length>1?`since :
`+c.map(Cp).join(`
`):" "+Cp(c[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o}const Wg={getAdapter:$2,adapters:Vu};function Xd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hi(null,t)}function Ep(t){return Xd(t),t.headers=rr.from(t.headers),t.data=Gd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Wg.getAdapter(t.adapter||Wi.adapter,t)(t).then(function(s){return Xd(t),s.data=Gd.call(t,t.transformResponse,s),s.headers=rr.from(s.headers),s},function(s){return Fg(s)||(Xd(t),s&&s.response&&(s.response.data=Gd.call(t,t.transformResponse,s.response),s.response.headers=rr.from(s.response.headers))),Promise.reject(s)})}const Hg="1.13.5",Xl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Xl[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Mp={};Xl.transitional=function(e,r,s){function o(l,c){return"[Axios v"+Hg+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,u)=>{if(e===!1)throw new Ce(o(c," has been removed"+(r?" in "+r:"")),Ce.ERR_DEPRECATED);return r&&!Mp[c]&&(Mp[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(l,c,u):!0}};Xl.spelling=function(e){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function B2(t,e,r){if(typeof t!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let o=s.length;for(;o-- >0;){const l=s[o],c=e[l];if(c){const u=t[l],h=u===void 0||c(u,l,t);if(h!==!0)throw new Ce("option "+l+" must be "+h,Ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ce("Unknown option "+l,Ce.ERR_BAD_OPTION)}}const jl={assertOptions:B2,validators:Xl},xr=jl.validators;let ms=class{constructor(e){this.defaults=e||{},this.interceptors={request:new xp,response:new xp}}async request(e,r){try{return await this._request(e,r)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ys(this.defaults,r);const{transitional:s,paramsSerializer:o,headers:l}=r;s!==void 0&&jl.assertOptions(s,{silentJSONParsing:xr.transitional(xr.boolean),forcedJSONParsing:xr.transitional(xr.boolean),clarifyTimeoutError:xr.transitional(xr.boolean),legacyInterceptorReqResOrdering:xr.transitional(xr.boolean)},!1),o!=null&&(Q.isFunction(o)?r.paramsSerializer={serialize:o}:jl.assertOptions(o,{encode:xr.function,serialize:xr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),jl.assertOptions(r,{baseUrl:xr.spelling("baseURL"),withXsrfToken:xr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=l&&Q.merge(l.common,l[r.method]);l&&Q.forEach(["delete","get","head","post","put","patch","common"],v=>{delete l[v]}),r.headers=rr.concat(c,l);const u=[];let h=!0;this.interceptors.request.forEach(function(j){if(typeof j.runWhen=="function"&&j.runWhen(r)===!1)return;h=h&&j.synchronous;const k=r.transitional||Wu;k&&k.legacyInterceptorReqResOrdering?u.unshift(j.fulfilled,j.rejected):u.push(j.fulfilled,j.rejected)});const p=[];this.interceptors.response.forEach(function(j){p.push(j.fulfilled,j.rejected)});let m,x=0,y;if(!h){const v=[Ep.bind(this),void 0];for(v.unshift(...u),v.push(...p),y=v.length,m=Promise.resolve(r);x<y;)m=m.then(v[x++],v[x++]);return m}y=u.length;let w=r;for(;x<y;){const v=u[x++],j=u[x++];try{w=v(w)}catch(k){j.call(this,k);break}}try{m=Ep.call(this,w)}catch(v){return Promise.reject(v)}for(x=0,y=p.length;x<y;)m=m.then(p[x++],p[x++]);return m}getUri(e){e=ys(this.defaults,e);const r=zg(e.baseURL,e.url,e.allowAbsoluteUrls);return Dg(r,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){ms.prototype[e]=function(r,s){return this.request(ys(s||{},{method:e,url:r,data:(s||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function r(s){return function(l,c,u){return this.request(ys(u||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}ms.prototype[e]=r(),ms.prototype[e+"Form"]=r(!0)});let W2=class Vg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(u=>{s.subscribe(u),l=u}).then(o);return c.cancel=function(){s.unsubscribe(l)},c},e(function(l,c,u){s.reason||(s.reason=new Hi(l,c,u),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=s=>{e.abort(s)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Vg(function(o){e=o}),cancel:e}}};function H2(t){return function(r){return t.apply(null,r)}}function V2(t){return Q.isObject(t)&&t.isAxiosError===!0}const wu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(wu).forEach(([t,e])=>{wu[e]=t});function Ug(t){const e=new ms(t),r=Ng(ms.prototype.request,e);return Q.extend(r,ms.prototype,e,{allOwnKeys:!0}),Q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return Ug(ys(t,o))},r}const ht=Ug(Wi);ht.Axios=ms;ht.CanceledError=Hi;ht.CancelToken=W2;ht.isCancel=Fg;ht.VERSION=Hg;ht.toFormData=Gl;ht.AxiosError=Ce;ht.Cancel=ht.CanceledError;ht.all=function(e){return Promise.all(e)};ht.spread=H2;ht.isAxiosError=V2;ht.mergeConfig=ys;ht.AxiosHeaders=rr;ht.formToJSON=t=>Og(Q.isHTMLForm(t)?new FormData(t):t);ht.getAdapter=Wg.getAdapter;ht.HttpStatusCode=wu;ht.default=ht;const{Axios:K4,AxiosError:G4,CanceledError:X4,isCancel:J4,CancelToken:Q4,VERSION:Z4,all:eS,Cancel:tS,isAxiosError:rS,spread:nS,toFormData:sS,AxiosHeaders:aS,HttpStatusCode:iS,formToJSON:oS,getAdapter:lS,mergeConfig:cS}=ht,U2="/api",Ie=ht.create({baseURL:U2,headers:{"Content-Type":"application/json"}});Ie.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});Ie.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)));const q2=(t,e)=>Ie.post("/auth/login",{email:t,password:e}),Y2=t=>Ie.post("/auth/register",t),K2=()=>Ie.get("/auth/me"),qg=()=>Ie.get("/settings/public"),xa=()=>Ie.get("/admin/dashboard"),Yg=t=>Ie.get(`/admin/cabinet/${t}`),G2=()=>Ie.get("/admin/statistics"),X2=()=>Ie.get("/admin/settings"),J2=t=>Ie.put("/admin/settings",t),Q2=t=>Ie.post("/admin/impersonate",{practitionerId:t}),Z2=t=>Ie.post("/admin/deactivate-send-code",{userId:t}),ew=(t,e)=>Ie.post("/admin/deactivate-confirm",{userId:t,code:e}),Pp=(t,e=!1)=>Ie.post("/admin/ai-toggle-send-code",{targetState:t,sendEmail:e}),Rp=(t,e="admin")=>Ie.post("/admin/ai-toggle-confirm",{code:t,type:e}),tw=t=>Ie.put("/auth/profile",t),rw=()=>Ie.get("/practitioner/dashboard"),Kg=()=>Ie.get("/practitioner/statistics"),nw=(t,e,r)=>Ie.post("/practitioner/manual-entry",{type:t,mois:e,data:r}),sw=(t,e)=>Ie.get(`/practitioner/manual-entry/${t}/${e}`),aw=t=>Ie.get("/practitioner/patients",{params:t}),iw=t=>Ie.post("/practitioner/patients",t),ow=(t,e)=>Ie.put(`/practitioner/patients/${t}`,e),lw=t=>Ie.delete(`/practitioner/patients/${t}`),cw=(t,e)=>{const r=new FormData;return r.append("file",e),Ie.post(`/data/import/${t}`,r,{headers:{"Content-Type":"multipart/form-data"}})},dw=(t,e)=>Ie.post("/reports/generate",{practitionerCode:t,mois:e}),uw=t=>Ie.post("/reports/generate-all",{mois:t}),hw=t=>Ie.post("/reports/send",{mois:t,force:!0}),fw=t=>Ie.post("/reports/send-now",{mois:t}),Uu=t=>Ie.get("/reports/list"),pw=()=>Ie.get("/reports/available-months"),Gg=t=>Ie.get(`/reports/download/${t}`,{responseType:"blob"}),Xg=M.createContext(null);function mw({children:t}){const[e,r]=M.useState(null),[s,o]=M.useState(!0);M.useEffect(()=>{localStorage.getItem("token")?K2().then(p=>{const m=p.data.user||p.data;localStorage.setItem("user",JSON.stringify(m)),r(m)}).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)}).finally(()=>{o(!1)}):(localStorage.removeItem("user"),r(null),o(!1))},[]);const l=(h,p)=>{localStorage.setItem("token",p),localStorage.setItem("user",JSON.stringify(h)),r(h)},c=h=>{const p={...e,...h};localStorage.setItem("user",JSON.stringify(p)),r(p)},u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)};return i.jsx(Xg.Provider,{value:{user:e,loading:s,loginUser:l,updateUser:c,logout:u},children:t})}const xt=()=>M.useContext(Xg),Jg=M.createContext();function gw({children:t}){const[e,r]=M.useState(()=>localStorage.getItem("efficience-dark-mode")==="true"),[s,o]=M.useState(!1);M.useEffect(()=>{const u=document.documentElement;e&&!s?u.classList.add("dark"):u.classList.remove("dark"),localStorage.setItem("efficience-dark-mode",e)},[e,s]);const l=()=>r(u=>!u),c=e&&!s;return i.jsx(Jg.Provider,{value:{dark:c,toggleDark:l,setForcedLight:o},children:t})}const Vn=()=>M.useContext(Jg),Qg=M.createContext();function xw({children:t}){const[e,r]=M.useState(!1),[s,o]=M.useState(null),[l,c]=M.useState(!0),u=M.useCallback(async()=>{try{const p=await qg(),m=p.data.dynamicActive===!0;r(m),o(p.data.dynamicExpiresAt||null),c(p.data.aiModelsEnabled!==!1),localStorage.setItem("efficience-dynamic-mode",String(m))}catch{}},[]);M.useEffect(()=>{u()},[u]);const h=M.useCallback(p=>{r(p),localStorage.setItem("efficience-dynamic-mode",String(p))},[]);return i.jsx(Qg.Provider,{value:{isDynamic:e,dynamicExpiresAt:s,dataAccessEnabled:l,setDynamic:h,refreshDynamic:u},children:t})}const un=()=>M.useContext(Qg);let Br=!0;function Pl(t){Br=!!t}const ku=" Les analyses IA sont actuellement dsactives par l'administrateur.";function vs(t){if(!Br)return{slope:0,intercept:0,r2:0,predict:()=>0};const e=t.length;if(e<2)return{slope:0,intercept:t[0]||0,r2:0,predict:()=>t[0]||0};let r=0,s=0,o=0,l=0,c=0;for(let v=0;v<e;v++)r+=v,s+=t[v],o+=v*t[v],l+=v*v,c+=t[v]*t[v];const u=(e*o-r*s)/(e*l-r*r),h=(s-u*r)/e,p=s/e;let m=0,x=0;for(let v=0;v<e;v++){const j=u*v+h;m+=(t[v]-j)**2,x+=(t[v]-p)**2}const y=x>0?1-m/x:0;return{slope:u,intercept:h,r2:y,predict:v=>u*v+h}}function bw(t,e=.3,r=.1){if(!Br)return{smoothed:[...t],forecast:()=>0};if(t.length<2)return{smoothed:[...t],forecast:u=>t[0]||0};let s=t[0],o=t[1]-t[0];const l=[t[0]];for(let u=1;u<t.length;u++){const h=s;s=e*t[u]+(1-e)*(h+o),o=r*(s-h)+(1-r)*o,l.push(s)}return{smoothed:l,forecast:u=>s+u*o,level:s,trend:o}}function ln(t,e=2){if(!Br)return t.map(()=>({isAnomaly:!1,zScore:0,direction:"normal"}));const r=t.length;if(r<3)return t.map(()=>({isAnomaly:!1,zScore:0}));const s=t.reduce((c,u)=>c+u,0)/r,o=t.reduce((c,u)=>c+(u-s)**2,0)/r,l=Math.sqrt(o);return l===0?t.map(()=>({isAnomaly:!1,zScore:0})):t.map(c=>{const u=(c-s)/l;return{isAnomaly:Math.abs(u)>e,zScore:parseFloat(u.toFixed(2)),direction:u>e?"high":u<-e?"low":"normal"}})}function ws(t,e=3){if(!Br)return new Array(e).fill(0);if(t.length<2)return new Array(e).fill(t[0]||0);const r=vs(t),s=bw(t,.4,.15),o=t.length,l=Math.max(.3,Math.min(.7,r.r2)),c=[];for(let u=1;u<=e;u++){const h=r.predict(o-1+u),p=s.forecast(u),m=l*h+(1-l)*p;c.push(Math.max(0,Math.round(m*100)/100))}return c}function on(t,e=[]){if(!Br)return{trend:"disabled",text:ku,confidence:0,mean:0,lastValue:0,slope:0,r2:0,pctChange:0,nbAnomalies:0,severity:"neutral"};if(!t||t.length===0)return{trend:"insufficient",text:"Aucune donne disponible.",confidence:0,mean:0,lastValue:0,slope:0,r2:0,pctChange:0,nbAnomalies:0,severity:"neutral"};const r=t.reduce((w,v)=>w+v,0)/t.length;if(t.length<2)return{trend:"insufficient",text:"Donnes insuffisantes pour l'analyse.",confidence:0,mean:Math.round(r),lastValue:t[t.length-1]||0,slope:0,r2:0,pctChange:0,nbAnomalies:0,severity:"neutral"};const s=vs(t),l=ln(t).filter(w=>w.isAnomaly).length,c=t[t.length-1],u=t[0],h=t.reduce((w,v)=>w+v,0)/t.length,p=u>0?((c-u)/u*100).toFixed(1):0;let m,x;s.slope>h*.02?(m="upward",x=s.slope>h*.05?"strong":"moderate"):s.slope<-h*.02?(m="downward",x=s.slope<-h*.05?"strong":"moderate"):(m="stable",x="neutral");const y=Math.round(Math.abs(s.r2)*100);return{trend:m,severity:x,slope:s.slope,r2:s.r2,confidence:y,pctChange:parseFloat(p),nbAnomalies:l,mean:Math.round(h),lastValue:c}}function Vi({tauxEncaissement:t=0,evolutionCA:e=0,tauxAbsence:r=0,productionHoraire:s=0,tauxNouveauxPatients:o=0}){if(!Br)return{globalScore:0,score:0,scores:{},weights:{},level:"disabled",label:"IA dsactive"};const l={encaissement:Math.min(100,Math.max(0,t)),evolution:Math.min(100,Math.max(0,50+e*2)),absence:Math.min(100,Math.max(0,100-r*5)),production:Math.min(100,Math.max(0,s/400*100)),nouveaux:Math.min(100,Math.max(0,o*5))},c={encaissement:.3,evolution:.25,absence:.15,production:.2,nouveaux:.1},u=Object.keys(l).reduce((p,m)=>p+l[m]*c[m],0);let h;return u>=80?h="excellent":u>=65?h="bon":u>=50?h="moyen":h="critique",{globalScore:Math.round(u),score:Math.round(u),scores:l,weights:c,level:h,label:h}}function ju(t,e=3,r="#8b5cf6"){if(!Br)return{trendData:[],forecastData:[],r2:0,slope:0,dataset:{label:"Tendance IA",data:[],borderColor:r,borderDash:[6,4],borderWidth:2,pointRadius:0,fill:!1,tension:0},forecastDataset:{label:"Prvision IA",data:[],borderColor:r,borderDash:[3,3],borderWidth:2.5,pointRadius:0,fill:!1,tension:0}};const s=vs(t),o=t.length,l=[];for(let u=0;u<o;u++)l.push(Math.max(0,Math.round(s.predict(u)*100)/100));const c=ws(t,e);return{trendData:l,forecastData:[...new Array(o).fill(null),...c],r2:s.r2,slope:s.slope,dataset:{label:"Tendance IA",data:l,borderColor:r,borderDash:[6,4],borderWidth:2,pointRadius:0,fill:!1,tension:0},forecastDataset:{label:"Prvision IA",data:[...new Array(o).fill(null),...c],borderColor:r,borderDash:[3,3],borderWidth:2.5,pointRadius:5,pointBackgroundColor:"#ffffff",pointBorderColor:r,pointBorderWidth:2,pointStyle:"triangle",fill:!1,tension:.3}}}function oa(t,e="indicateur"){if(!Br)return{text:ku,parts:[ku],trend:"disabled",confidence:0,forecast:[],nbAnomalies:0};const r=on(t),s=ws(t,3),o=ln(t),l=o.filter(y=>y.isAnomaly).length,c=t[t.length-1]||0,u=[],h=r.mean!=null?r.mean:0,p=r.r2!=null?r.r2:0,m=r.confidence!=null?r.confidence:0,x=r.pctChange!=null?r.pctChange:0;if(r.trend==="insufficient"?u.push(` Le ${e} dispose de trop peu de donnes pour une analyse approfondie (moyenne : ${h.toLocaleString("fr-FR")}).`):r.trend==="upward"?u.push(` Le ${e} montre une tendance haussire (${r.severity==="strong"?"forte":"modre"}) avec une variation de ${x>0?"+":""}${x}% sur la priode.`):r.trend==="downward"?u.push(` Le ${e} est en baisse ${r.severity==="strong"?"significative":"lgre"} (${x}% sur la priode).`):u.push(` Le ${e} est globalement stable autour de ${h.toLocaleString("fr-FR")}.`),u.push(` Fiabilit du modle : ${m}% (R = ${p.toFixed(2)}).`),s.length>0){const y=Math.round(s.reduce((v,j)=>v+j,0)/s.length),w=y>c?"hausse":y<c?"baisse":"stabilisation";u.push(` Prvision IA (3 prochaines priodes) : tendance  la ${w}, valeur estime ~${y.toLocaleString("fr-FR")}.`)}if(l>0){const y=o.map((w,v)=>w.isAnomaly?v+1:null).filter(Boolean);u.push(` ${l} anomalie(s) dtecte(s) aux priodes : ${y.join(", ")}.`)}return{text:u.join(`
`),parts:u,trend:r.trend,confidence:r.confidence,forecast:s,nbAnomalies:l}}function ra(t,e="indicateur"){if(!Br)return{parts:["Les analyses sont actuellement dsactives."],trend:"disabled",trendLabel:"Dsactiv",trendIcon:"",confidence:0,forecast:[],nbAnomalies:0};const r=on(t),s=ws(t,3),l=ln(t).filter(w=>w.isAnomaly).length,c=t[t.length-1]||0,u=r.confidence!=null?r.confidence:0,h=r.mean!=null?r.mean:0,p=r.pctChange!=null?r.pctChange:0,m=[];if(r.trend==="insufficient"?m.push(`Pas encore assez de donnes pour analyser votre ${e}. Continuez  saisir vos donnes mensuelles pour obtenir des insights pertinents.`):r.trend==="upward"?r.severity==="strong"?m.push(`Excellente nouvelle ! Votre ${e} est en forte progression (${p>0?"+":""}${p}%). Continuez sur cette lance.`):m.push(`Bonne tendance : votre ${e} progresse lgrement (${p>0?"+":""}${p}%). Le cabinet est sur la bonne voie.`):r.trend==="downward"?r.severity==="strong"?m.push(`Attention : votre ${e} est en baisse importante (${p}%). Il serait utile d'en identifier les causes.`):m.push(`Votre ${e} montre un lger recul (${p}%). Rien d'alarmant, mais  surveiller.`):m.push(`Votre ${e} est stable autour de ${h.toLocaleString("fr-FR")}. L'activit du cabinet est rgulire.`),u>=70?m.push(" Cette analyse est fiable : les donnes sont suffisamment cohrentes."):u>=40?m.push(" Analyse modrment fiable. Plus vous ajoutez de mois, plus les rsultats seront prcis."):t.length>=2&&m.push(" Analyse prliminaire. Les rsultats gagneront en prcision avec plus de donnes."),s.length>0&&r.trend!=="insufficient"){const w=Math.round(s.reduce((v,j)=>v+j,0)/s.length);w>c*1.05?m.push(` Prvision : tendance  la hausse pour les prochains mois (estimation ~${w.toLocaleString("fr-FR")}).`):w<c*.95?m.push(` Prvision : risque de baisse dans les prochains mois (estimation ~${w.toLocaleString("fr-FR")}).`):m.push(" Prvision : stabilit attendue pour les prochains mois.")}l>0&&m.push(` ${l} mois inhabituel(s) dtect(s) : des variations sortant de l'ordinaire ont t repres.`);let x,y;return r.trend==="upward"?(x="En hausse",y=""):r.trend==="downward"?(x="En baisse",y=""):r.trend==="stable"?(x="Stable",y=""):(x="En attente",y=""),{parts:m,trend:r.trend,trendLabel:x,trendIcon:y,confidence:u,forecast:s,nbAnomalies:l}}function Nl(t){return t>=80?{label:"Excellent",emoji:"",advice:"Votre cabinet se porte trs bien ! Maintenez cette dynamique."}:t>=65?{label:"Bon",emoji:"",advice:"Le cabinet fonctionne bien. Quelques optimisations sont possibles."}:t>=50?{label:"Correct",emoji:"",advice:"Des amliorations sont possibles, notamment sur l'encaissement et le planning."}:{label:" amliorer",emoji:"",advice:"Plusieurs points mritent votre attention. Consultez les dtails ci-dessous."}}const Zg=M.createContext(null);function yw({children:t}){const[e,r]=M.useState({maintenanceMode:!1,aiModelsEnabled:!0,importEnabled:!0,loaded:!1}),s=async()=>{try{const c=(await qg()).data;r({maintenanceMode:c.maintenanceMode||!1,aiModelsEnabled:c.aiModelsEnabled!==!1,importEnabled:c.importEnabled!==!1,loaded:!0}),Pl(c.aiModelsEnabled!==!1)}catch{r(c=>({...c,loaded:!0})),Pl(!0)}};M.useEffect(()=>{s()},[]);const o=()=>s();return i.jsx(Zg.Provider,{value:{...e,refreshSettings:o},children:t})}function qu(){return M.useContext(Zg)}var ex={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ap=an.createContext&&an.createContext(ex),vw=["attr","size","title"];function ww(t,e){if(t==null)return{};var r=kw(t,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function kw(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Rl.apply(this,arguments)}function Lp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,s)}return r}function Al(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lp(Object(r),!0).forEach(function(s){jw(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function jw(t,e,r){return e=Nw(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nw(t){var e=Sw(t,"string");return typeof e=="symbol"?e:e+""}function Sw(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tx(t){return t&&t.map((e,r)=>an.createElement(e.tag,Al({key:r},e.attr),tx(e.child)))}function je(t){return e=>an.createElement(_w,Rl({attr:Al({},t.attr)},e),tx(t.child))}function _w(t){var e=r=>{var{attr:s,size:o,title:l}=t,c=ww(t,vw),u=o||r.size||"1em",h;return r.className&&(h=r.className),t.className&&(h=(h?h+" ":"")+t.className),an.createElement("svg",Rl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,c,{className:h,style:Al(Al({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&an.createElement("title",null,l),t.children)};return Ap!==void 0?an.createElement(Ap.Consumer,null,r=>e(r)):e(ex)}function la(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function er(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function $n(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function rx(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function fs(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function ks(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function sl(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function Yu(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(t)}function js(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function rn(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Ht(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Ll(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Tp(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function Ir(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function qe(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(t)}function Ku(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function mt(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function nx(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function Ei(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function Cw(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function Dp(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function kt(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function Ew(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function sx(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"path",attr:{d:"M6 21V9a9 9 0 0 0 9 9"},child:[]}]})(t)}function Mw(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function Pw(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function ca(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function Rw(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function tn(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function da(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function al(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(t)}function Ns(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function ax(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function Aw(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function Lw(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(t)}function Op(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function ix(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(t)}function yi(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function Tw(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function Tl(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Mi(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function ox(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Ss(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function Dw(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function Ow(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function Nu(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(t)}function lx(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function vi(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Pi(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(t)}function yr(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function Jd(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function us(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function Su(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function vt(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function gs(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function xs(t){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}function Fp({allowedRoles:t}){const{user:e,loading:r}=xt(),s=qu(),{dataAccessEnabled:o}=un(),l=Es(),c=e?.email==="maarzoukrayan3@gmail.com";if(r)return i.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-500",children:"Chargement..."})]})});if(!e)return i.jsx(Ci,{to:"/login",replace:!0});if(t&&!t.includes(e.role))return i.jsx(Ci,{to:e.role==="admin"?"/admin":"/dashboard",replace:!0});if(s?.maintenanceMode&&e.role!=="admin"&&!c)return i.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900",children:i.jsxs("div",{className:"text-center max-w-md p-8",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-amber-500/20 flex items-center justify-center animate-pulse",children:i.jsx(lx,{className:"w-10 h-10 text-amber-400"})}),i.jsx("h1",{className:"text-3xl font-black text-white mb-3",children:"Maintenance en cours"}),i.jsx("p",{className:"text-blue-200 text-sm leading-relaxed mb-6",children:"La plateforme Efficience Analytics est temporairement indisponible pour maintenance. Veuillez ressayer ultrieurement."}),i.jsx("div",{className:"w-16 h-1 bg-amber-500/50 rounded-full mx-auto mb-6"}),i.jsx("p",{className:"text-slate-500 text-xs",children:"Si le problme persiste, contactez votre administrateur."})]})});const u=l.pathname==="/admin/settings";return!o&&!c&&!u&&e.role!=="admin"?i.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900",children:i.jsxs("div",{className:"text-center max-w-md p-8",children:[i.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-blue-500/20 flex items-center justify-center",children:i.jsx(da,{className:"w-10 h-10 text-blue-400"})}),i.jsx("h1",{className:"text-3xl font-black text-white mb-3",children:"Donnes non disponibles"}),i.jsx("p",{className:"text-blue-200 text-sm leading-relaxed mb-6",children:"L'accs aux donnes est actuellement dsactiv par l'administrateur. Les informations seront disponibles une fois l'accs ractiv."}),i.jsx("div",{className:"w-16 h-1 bg-blue-500/50 rounded-full mx-auto mb-6"}),i.jsx("p",{className:"text-slate-500 text-xs",children:"Contactez votre administrateur pour plus d'informations."})]})}):i.jsx(kg,{})}function Fw(){const{user:t,logout:e}=xt(),r=$r(),s=()=>{e(),r("/login")},o=[{to:"/admin",icon:ca,label:"DASHBOARD DENTAIRE",end:!0},{to:"/admin/cabinets",icon:ks,label:"ANALYSE DES CABINETS"},{to:"/admin/comparison",icon:sx,label:"COMPARAISON CABINETS"},{to:"/admin/gestion",icon:Yu,label:"GESTION CABINETS"},{to:"/admin/reports",icon:kt,label:"RAPPORTS CABINET"},{to:"/admin/statistics",icon:ix,label:"STATISTIQUES DES CABINETS"},{to:"/admin/settings",icon:ox,label:"RGLAGES"}],l=[{to:"/dashboard",icon:ca,label:"MON TABLEAU DE BORD",end:!0},{to:"/dashboard/stats",icon:ks,label:"MES STATISTIQUES"},{to:"/dashboard/saisie",icon:Ei,label:"SAISIE MANUELLE"},{to:"/dashboard/patients",icon:vt,label:"MES PATIENTS"},{to:"/dashboard/data",icon:Ku,label:"GESTION DONNES"},{to:"/dashboard/ai",icon:qe,label:"BILAN DU CABINET"},{to:"/dashboard/reports",icon:kt,label:"MES RAPPORTS"}],c=t?.role==="admin"?o:l,u=({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-xs font-bold tracking-wide transition-all duration-200 ${h?"bg-[#2563eb] text-white":"text-gray-400 hover:bg-white/5 hover:text-gray-200"}`;return i.jsxs("aside",{className:"fixed left-0 top-0 h-screen w-56 flex flex-col z-50",style:{backgroundColor:"#0f172a"},children:[i.jsxs("div",{className:"px-5 py-6",children:[i.jsx("h1",{className:"text-xl font-black text-white tracking-wider",style:{fontFamily:"monospace",letterSpacing:"0.15em"},children:"FFICINC"}),i.jsx("p",{className:"text-[10px] font-semibold text-gray-500 tracking-[0.2em] mt-1 uppercase",children:"Cabinet Source"})]}),i.jsx("nav",{className:"flex-1 px-3 space-y-1 overflow-y-auto mt-2",children:c.map(h=>i.jsxs(h1,{to:h.to,end:h.end,className:u,children:[i.jsx(h.icon,{className:"w-4 h-4 flex-shrink-0"}),i.jsx("span",{className:"leading-tight",children:h.label})]},h.to))}),i.jsx("div",{className:"px-3 py-4",children:i.jsxs("button",{onClick:s,className:"flex items-center gap-2 w-full px-4 py-3 text-xs font-bold text-red-400 hover:text-red-300 hover:bg-white/5 rounded-xl transition-colors tracking-wide",children:[i.jsx("div",{className:"w-7 h-7 rounded-full bg-gray-700 flex items-center justify-center text-white text-xs font-bold",children:t?.name?.charAt(0)||"N"}),i.jsx("span",{children:"DCONNEXION"})]})})]})}function Ip(){const{user:t}=xt(),{setForcedLight:e}=Vn(),r=t?.email==="maarzoukrayan3@gmail.com";return M.useEffect(()=>(e(!!r),()=>e(!1)),[r,e]),i.jsxs("div",{className:`flex min-h-screen transition-colors duration-300 ${r?"bg-[#0a1628]":"bg-[#f8fafc] dark:bg-[#0f172a]"}`,children:[i.jsx(Fw,{}),i.jsx("main",{className:"flex-1 ml-56",children:i.jsx(kg,{})})]})}function Iw(){const[t,e]=M.useState(""),[r,s]=M.useState(""),[o,l]=M.useState(""),[c,u]=M.useState(!1),h=$r(),{user:p,loginUser:m}=xt(),y=qu()?.maintenanceMode,w=async v=>{v.preventDefault(),l(""),u(!0);try{const j=await q2(t,r);m(j.data.user,j.data.token),j.data.user.role==="admin"?h("/admin",{replace:!0}):h("/dashboard",{replace:!0})}catch(j){l(j.response?.data?.message||"Erreur de connexion. Vrifiez vos identifiants.")}finally{u(!1)}};return i.jsxs("div",{className:"min-h-screen flex",style:{backgroundColor:"#0a0f1e"},children:[i.jsxs("div",{className:"hidden lg:flex lg:w-[45%] flex-col justify-center px-16 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0a0f1e] via-[#111827] to-[#0a0f1e]"}),i.jsx("div",{className:"absolute bottom-1/4 right-0 w-56 h-56 bg-blue-500 rounded-full opacity-5 blur-3xl"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("h1",{className:"text-5xl xl:text-6xl font-black text-white leading-tight mb-6",style:{fontStyle:"italic"},children:["EFFICIENCE",i.jsx("br",{}),i.jsx("span",{className:"text-blue-400",children:"DENTAIRE"}),"."]}),i.jsx("p",{className:"text-gray-400 text-base leading-relaxed mb-10 max-w-sm",children:"L'excellence oprationnelle de votre cabinet augmente par l'intelligence artificielle gnrative."}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"relative group inline-flex items-center gap-2 px-4 py-2.5 border border-blue-500/30 rounded-full w-fit bg-blue-500/5 cursor-default",children:[i.jsx(Ss,{className:"w-4 h-4 text-blue-400"}),i.jsx("span",{className:"text-blue-400 text-xs font-medium tracking-wide uppercase",children:"Protection nos certifies"}),i.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-4 py-2.5 bg-gray-900 text-white text-xs rounded-xl shadow-xl opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none whitespace-nowrap z-50",children:["Vos donnes sont chiffres et protges selon les normes de scurit en vigueur.",i.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),i.jsxs("div",{className:"relative group inline-flex items-center gap-2 px-4 py-2.5 border border-blue-500/30 rounded-full w-fit bg-blue-500/5 cursor-default",children:[i.jsx(rn,{className:"w-4 h-4 text-blue-400"}),i.jsx("span",{className:"text-blue-400 text-xs font-medium tracking-wide uppercase",children:"Vrification par email"}),i.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-4 py-2.5 bg-gray-900 text-white text-xs rounded-xl shadow-xl opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none whitespace-nowrap z-50",children:["Chaque action sensible ncessite une confirmation par code envoy  votre email.",i.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})]})]})]}),i.jsx("div",{className:"w-full lg:w-[55%] flex items-center justify-center bg-white lg:rounded-l-[40px] relative",children:i.jsxs("div",{className:"w-full max-w-md px-8 py-12",children:[i.jsxs("div",{className:"mb-10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"28",height:"28",rx:"8",fill:"#1a56db"}),i.jsx("path",{d:"M7 14l4 4 10-10",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),i.jsx("span",{className:"text-sm font-black tracking-[0.12em] text-gray-800 uppercase",style:{fontFamily:"monospace"},children:"RM PROD"})]}),i.jsxs("h2",{className:"text-3xl font-black text-gray-900 tracking-tight",children:["CONNEXION",i.jsx("br",{}),"AU COMPTE",i.jsx("span",{className:"text-blue-500",children:" ."})]})]}),y&&i.jsxs("div",{className:"mb-6 p-3 bg-amber-50 border border-amber-200 rounded-xl flex items-center gap-2 text-amber-700 text-sm",children:[i.jsx($n,{className:"w-4 h-4 flex-shrink-0"}),"Mode maintenance actif  seul l'administrateur peut se connecter."]}),o&&i.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2 text-red-600 text-sm",children:[i.jsx(er,{className:"w-4 h-4 flex-shrink-0"}),o]}),i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-bold tracking-[0.15em] text-gray-400 uppercase mb-2",children:"Email professionnel"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ns,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"email",value:t,onChange:v=>e(v.target.value),placeholder:"votre@adresse-email.fr",required:!0,className:"w-full pl-12 pr-4 py-4 rounded-xl text-gray-900 text-sm placeholder-gray-400 outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-gray-50 border border-gray-200"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-bold tracking-[0.15em] text-gray-400 uppercase mb-2",children:"Mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx(da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"password",value:r,onChange:v=>s(v.target.value),placeholder:"",required:!0,className:"w-full pl-12 pr-4 py-4 rounded-xl text-gray-900 text-sm placeholder-gray-400 outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-gray-50 border border-gray-200"})]})]}),i.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 rounded-full font-bold text-sm tracking-wider text-white flex items-center justify-center gap-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 bg-[#1e293b]",children:c?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):i.jsxs(i.Fragment,{children:["CONNEXION",i.jsx(fs,{className:"w-4 h-4"})]})})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("p",{className:"text-xs text-gray-400",children:["PAS ENCORE MEMBRE ?"," ",i.jsx("span",{onClick:()=>h("/register"),className:"font-bold text-gray-800 underline cursor-pointer hover:text-blue-600 tracking-wide",children:"S'INSCRIRE"})]})})]})})]})}function zw(){const[t,e]=M.useState({name:"",email:"",password:"",confirmPassword:"",cabinetName:"",practitionerCode:""}),[r,s]=M.useState(""),[o,l]=M.useState(""),[c,u]=M.useState(!1),h=$r(),{user:p,loginUser:m}=xt();if(p)return i.jsx(Ci,{to:p.role==="admin"?"/admin":"/dashboard",replace:!0});const x=w=>{e({...t,[w.target.name]:w.target.value})},y=async w=>{if(w.preventDefault(),s(""),l(""),t.password!==t.confirmPassword){s("Les mots de passe ne correspondent pas.");return}if(t.password.length<6){s("Le mot de passe doit contenir au moins 6 caractres.");return}u(!0);try{const v=await Y2({name:t.name,email:t.email,password:t.password,cabinetName:t.cabinetName,practitionerCode:t.practitionerCode||void 0});l(" Flicitations ! Votre compte a t cr avec succs."),e({name:"",email:"",password:"",confirmPassword:"",cabinetName:"",practitionerCode:""}),setTimeout(()=>{h("/login",{replace:!0})},3e3)}catch(v){s(v.response?.data?.message||"Erreur lors de l'inscription. Veuillez ressayer.")}finally{u(!1)}};return i.jsxs("div",{className:"min-h-screen flex",style:{backgroundColor:"#0a0f1e"},children:[i.jsxs("div",{className:"hidden lg:flex lg:w-[45%] flex-col justify-center px-16 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0a0f1e] via-[#111827] to-[#0a0f1e]"}),i.jsx("div",{className:"absolute top-1/4 -left-20 w-72 h-72 bg-blue-600 rounded-full opacity-10 blur-3xl"}),i.jsx("div",{className:"absolute bottom-1/4 right-0 w-56 h-56 bg-emerald-500 rounded-full opacity-5 blur-3xl"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex items-center gap-3 mb-12",children:i.jsx("img",{src:"/efficience-logo.svg",alt:"Efficience",className:"h-12 w-auto drop-shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}),i.jsxs("h1",{className:"text-5xl xl:text-6xl font-black text-white leading-tight mb-6",style:{fontStyle:"italic"},children:["EFFICIENCE",i.jsx("br",{}),i.jsx("span",{className:"text-blue-400",children:"DENTAIRE"}),"."]}),i.jsx("p",{className:"text-gray-400 text-base leading-relaxed mb-10 max-w-sm",children:"Rejoignez la plateforme d'analyse de performance dentaire la plus avance."}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2.5 border border-emerald-500/30 rounded-full w-fit bg-emerald-500/5",children:[i.jsx(Ss,{className:"w-4 h-4 text-emerald-400"}),i.jsx("span",{className:"text-emerald-400 text-xs font-medium tracking-wide uppercase",children:"Protection nos certifies"})]}),i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2.5 border border-emerald-500/30 rounded-full w-fit bg-emerald-500/5",children:[i.jsx(rn,{className:"w-4 h-4 text-emerald-400"}),i.jsx("span",{className:"text-emerald-400 text-xs font-medium tracking-wide uppercase",children:"Vrification par email"})]})]})]})]}),i.jsx("div",{className:"w-full lg:w-[55%] flex items-center justify-center bg-white lg:rounded-l-[40px] relative",children:i.jsxs("div",{className:"w-full max-w-md px-8 py-10",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Su,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-xs font-semibold tracking-[0.2em] text-gray-400 uppercase",children:"Nouveau praticien"})]}),i.jsxs("h2",{className:"text-4xl font-black text-gray-900 tracking-tight",children:["INSCRIPTION",i.jsx("span",{className:"text-blue-500",children:" ."})]})]}),o&&i.jsxs("div",{className:"mb-6 p-6 bg-emerald-50 border border-emerald-200 rounded-xl text-center",children:[i.jsx(rn,{className:"w-12 h-12 text-emerald-500 mx-auto mb-3"}),i.jsx("p",{className:"font-bold text-emerald-700 text-lg mb-2",children:"Inscription russie !"}),i.jsx("p",{className:"text-emerald-600 text-sm mb-4",children:o}),i.jsx("p",{className:"text-gray-500 text-xs",children:"Redirection vers la page de connexion dans quelques secondes..."}),i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"w-full bg-emerald-100 rounded-full h-1.5 overflow-hidden",children:i.jsx("div",{className:"bg-emerald-500 h-1.5 rounded-full animate-[shrink_3s_linear_forwards]",style:{width:"100%"}})})})]}),r&&i.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2 text-red-600 text-sm",children:[i.jsx(er,{className:"w-4 h-4 flex-shrink-0"}),r]}),!o&&i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-bold tracking-[0.15em] text-gray-400 uppercase mb-2",children:"Nom complet"}),i.jsxs("div",{className:"relative",children:[i.jsx(Su,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",name:"name",value:t.name,onChange:x,placeholder:"Dr. Jean Dupont",required:!0,className:"w-full pl-12 pr-4 py-3.5 rounded-xl text-gray-900 text-sm placeholder-gray-400 outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-gray-50 border border-gray-200"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-bold tracking-[0.15em] text-gray-400 uppercase mb-2",children:"Email professionnel"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ns,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"email",name:"email",value:t.email,onChange:x,placeholder:"praticien@cabinet.fr",required:!0,className:"w-full pl-12 pr-4 py-3.5 rounded-xl text-gray-900 text-sm placeholder-gray-400 outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-gray-50 border border-gray-200"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-bold tracking-[0.15em] text-gray-400 uppercase mb-2",children:"Nom du cabinet"}),i.jsxs("div",{className:"relative",children:[i.jsx(ca,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",name:"cabinetName",value:t.cabinetName,onChange:x,placeholder:"Cabinet Dentaire Sourire",className:"w-full pl-12 pr-4 py-3.5 rounded-xl text-gray-900 text-sm placeholder-gray-400 outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-gray-50 border border-gray-200"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-[10px] font-bold tracking-[0.15em] text-gray-400 uppercase mb-2",children:["Code praticien ",i.jsx("span",{className:"text-gray-300 normal-case",children:"(ex: JC, DV  votre identifiant LogosW)"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ss,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",name:"practitionerCode",value:t.practitionerCode,onChange:x,placeholder:"JC",maxLength:10,className:"w-full pl-12 pr-4 py-3.5 rounded-xl text-gray-900 text-sm placeholder-gray-400 outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-gray-50 border border-gray-200 uppercase"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-bold tracking-[0.15em] text-gray-400 uppercase mb-2",children:"Mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx(da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"password",name:"password",value:t.password,onChange:x,placeholder:"",required:!0,className:"w-full pl-12 pr-4 py-3.5 rounded-xl text-gray-900 text-sm placeholder-gray-400 outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-gray-50 border border-gray-200"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[10px] font-bold tracking-[0.15em] text-gray-400 uppercase mb-2",children:"Confirmer"}),i.jsxs("div",{className:"relative",children:[i.jsx(da,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:x,placeholder:"",required:!0,className:"w-full pl-12 pr-4 py-3.5 rounded-xl text-gray-900 text-sm placeholder-gray-400 outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-gray-50 border border-gray-200"})]})]})]}),i.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 rounded-full font-bold text-sm tracking-wider text-white flex items-center justify-center gap-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 bg-[#1e293b] mt-2",children:c?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):i.jsxs(i.Fragment,{children:["CRER MON COMPTE",i.jsx(fs,{className:"w-4 h-4"})]})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-xs text-gray-400",children:["DJ MEMBRE ?"," ",i.jsxs("span",{onClick:()=>h("/login"),className:"font-bold text-gray-800 underline cursor-pointer hover:text-blue-600 tracking-wide inline-flex items-center gap-1",children:[i.jsx(rx,{className:"w-3 h-3"}),"SE CONNECTER"]})]})})]})})]})}const $w=[{path:"/admin",label:"Dashboard Dentaire",Icon:ca,desc:"Vue d'ensemble",keywords:["dashboard","tableau de bord","accueil","home","vue ensemble"]},{path:"/admin/cabinets",label:"Analyse des Cabinets",Icon:ks,desc:"Performances et IA",keywords:["analyse","cabinets","patients","performance","ia","tendance","scoring"]},{path:"/admin/comparison",label:"Comparaison Cabinets",Icon:sx,desc:"Comparer les praticiens",keywords:["comparaison","comparer","versus","absences","presences","praticiens"]},{path:"/admin/gestion",label:"Gestion Cabinets",Icon:Yu,desc:"Suivi et dtails",keywords:["gestion","management","suivi","cabinets","details","score"]},{path:"/admin/reports",label:"Rapports Cabinet",Icon:kt,desc:"Gnrer et envoyer",keywords:["rapports","reports","pdf","email","envoyer","generer","mensuel"]},{path:"/admin/statistics",label:"Statistiques des Cabinets",Icon:ix,desc:"Graphiques et donnes",keywords:["statistiques","stats","graphiques","donnees","evolution","chiffre"]},{path:"/admin/settings",label:"Rglages",Icon:ox,desc:"Configuration systme",keywords:["reglages","settings","parametres","configuration","cron","automatique"]}],Bw=[{path:"/dashboard",label:"Mon Tableau de Bord",Icon:ca,desc:"Vue d'ensemble",keywords:["dashboard","tableau de bord","accueil"]},{path:"/dashboard/stats",label:"Mes Statistiques",Icon:ks,desc:"Performances",keywords:["statistiques","stats","graphiques","performance"]},{path:"/dashboard/data",label:"Gestion Donnes",Icon:Ku,desc:"Import de donnes",keywords:["donnees","data","import","fichier","csv"]},{path:"/dashboard/ai",label:"Bilan du Cabinet",Icon:qe,desc:"Analyse et prvisions",keywords:["bilan","cabinet","analyse","prevision","tendance","sante"]},{path:"/dashboard/patients",label:"Mes Patients",Icon:ca,desc:"Gestion des patients",keywords:["patients","patientele","ajouter","patient","fiche","contact"]},{path:"/dashboard/reports",label:"Mes Rapports",Icon:kt,desc:"Rapports mensuels",keywords:["rapports","reports","pdf","mensuel"]}],il=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");function Ww(t){if(!t)return"";const e=Date.now()-new Date(t).getTime(),r=Math.floor(e/6e4);if(r<1)return" l'instant";if(r<60)return`Il y a ${r} min`;const s=Math.floor(r/60);if(s<24)return`Il y a ${s}h`;const o=Math.floor(s/24);return o<30?`Il y a ${o}j`:new Date(t).toLocaleDateString("fr-FR")}function Vt({title:t,subtitle:e}){const{user:r}=xt(),{dark:s,toggleDark:o}=Vn(),l=$r(),[c,u]=M.useState(""),[h,p]=M.useState(!1),m=M.useRef(null),[x,y]=M.useState(!1),[w,v]=M.useState([]),[j,k]=M.useState(!1),[_,P]=M.useState(!1),T=M.useRef(null);M.useEffect(()=>{const X=R=>{m.current&&!m.current.contains(R.target)&&p(!1),T.current&&!T.current.contains(R.target)&&y(!1)};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]);const L=r?.role==="admin"?$w:Bw,D=c.trim().length>0?L.filter(X=>{const R=il(c);return il(X.label).includes(R)||il(X.desc).includes(R)||X.keywords.some(I=>il(I).includes(R))}):[],W=X=>{l(X),u(""),p(!1)},H=X=>{X.key==="Escape"&&(u(""),p(!1)),X.key==="Enter"&&D.length>0&&W(D[0].path)},G=M.useCallback(async()=>{k(!0);try{const X=[];if(r?.role==="admin"){const[R,I]=await Promise.all([Uu(),xa()]),S=R.data||[],J=I.data||{},U=J.practitioners||[],re=J.caByPractitioner||[],Z=["Jan","Fv","Mar","Avr","Mai","Juin","Juil","Aot","Sep","Oct","Nov","Dc"];S.slice(0,5).forEach(E=>{const Y=E.mois?`${Z[parseInt(E.mois.substring(4,6))-1]} ${E.mois.substring(0,4)}`:"";X.push({id:E._id,type:E.emailEnvoye?"success":"info",iconKey:E.emailEnvoye?"send":"file",title:E.emailEnvoye?`Rapport envoy  ${E.praticien}`:`Rapport gnr  ${E.praticien}`,message:Y+(E.contenu?.caMensuel?`  CA: ${new Intl.NumberFormat("fr-FR").format(E.contenu.caMensuel)} `:""),time:E.dateEnvoi||E.createdAt,action:"/admin/reports"})}),U.forEach(E=>{const Y=re.find(ge=>ge._id===E.code),ce=Y?.totalFacture||0,le=Y?.totalEncaisse||0,fe=ce>0?Math.round(le/ce*100):0;fe<30&&X.push({id:`perf-${E.code}`,type:fe<30?"error":"warning",iconKey:"alert",title:fe<30?` Alerte  ${E.name}`:` vrifier  ${E.name}`,message:`Taux encaissement: ${fe}% (${E.code})`,time:new Date().toISOString(),action:"/admin/gestion"})}),X.push({id:"sys",type:"success",iconKey:"check",title:"Systme oprationnel",message:`${U.length} praticiens actifs  ${S.length} rapports`,time:new Date().toISOString()})}else X.push({id:"n1",type:"info",iconKey:"file",title:"Rapports disponibles",message:"Consultez vos rapports mensuels",time:new Date().toISOString(),action:"/dashboard/reports"},{id:"n2",type:"success",iconKey:"check",title:"Donnes  jour",message:"Votre tableau de bord est actif",time:new Date().toISOString(),action:"/dashboard"});v(X)}catch{v([{id:"err",type:"error",iconKey:"alert",title:"Erreur",message:"Impossible de charger les notifications",time:new Date().toISOString()}])}finally{k(!1)}},[r]),F=()=>{const X=!x;y(X),X&&(P(!0),G())},te={send:Mi,file:kt,alert:$n,check:rn},z={success:{icon:"text-green-600",bg:"bg-green-50 dark:bg-green-900/30"},info:{icon:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/30"},warning:{icon:"text-amber-600",bg:"bg-amber-50 dark:bg-amber-900/30"},error:{icon:"text-red-600",bg:"bg-red-50 dark:bg-red-900/30"}},q=r?.email==="maarzoukrayan3@gmail.com";return i.jsx("header",{className:`px-8 py-4 transition-colors duration-300 ${q?"bg-[#0f1d2f] border-b border-[#1e3a5f]/50":"bg-white dark:bg-[#1e293b] border-b border-gray-200 dark:border-gray-700"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:`text-2xl font-bold ${q?"text-white":"text-gray-900 dark:text-gray-100"}`,children:t}),e&&i.jsx("p",{className:`text-sm mt-0.5 ${q?"text-gray-400":"text-gray-500 dark:text-gray-400"}`,children:e})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative hidden md:block",ref:m,children:[i.jsx(Tl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500"}),i.jsx("input",{type:"text",value:c,onChange:X=>{u(X.target.value),p(!0)},onFocus:()=>p(!0),onKeyDown:H,placeholder:"Rechercher...",className:`pl-10 pr-8 py-2 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64 transition-colors ${q?"bg-[#0a1628] border border-[#1e3a5f] text-gray-200 placeholder-gray-500":"bg-gray-50 dark:bg-[#0f172a] border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"}`}),c&&i.jsx("button",{onClick:()=>u(""),className:`absolute right-3 top-1/2 -translate-y-1/2 ${q?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,children:i.jsx(gs,{className:"w-3.5 h-3.5"})}),h&&c.trim().length>0&&i.jsx("div",{className:`absolute top-full left-0 right-0 mt-2 rounded-xl shadow-xl z-[60] overflow-hidden ${q?"bg-[#1e293b] border border-[#1e3a5f]":"bg-white dark:bg-[#1e293b] border border-gray-200 dark:border-gray-700"}`,children:D.length>0?i.jsxs("div",{className:"py-1",children:[i.jsx("p",{className:`px-4 py-1.5 text-[10px] font-bold uppercase tracking-wider ${q?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:"Pages"}),D.map(X=>i.jsxs("button",{onClick:()=>W(X.path),className:`w-full flex items-center gap-3 px-4 py-2.5 transition-colors text-left group ${q?"hover:bg-blue-900/20":"hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,children:[i.jsx("div",{className:`p-1.5 rounded-lg transition-colors ${q?"bg-blue-900/30 group-hover:bg-blue-900/50":"bg-blue-50 dark:bg-blue-900/30 group-hover:bg-blue-100 dark:group-hover:bg-blue-900/50"}`,children:i.jsx(X.Icon,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:`text-sm font-medium truncate ${q?"text-white":"text-gray-900 dark:text-white"}`,children:X.label}),i.jsx("p",{className:`text-[11px] ${q?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:X.desc})]}),i.jsx(fs,{className:`w-3.5 h-3.5 opacity-0 group-hover:opacity-100 transition-opacity ${q?"text-gray-600":"text-gray-300 dark:text-gray-600"}`})]},X.path))]}):i.jsxs("div",{className:"px-4 py-6 text-center",children:[i.jsx(Tl,{className:`w-8 h-8 mx-auto mb-2 ${q?"text-gray-600":"text-gray-300 dark:text-gray-600"}`}),i.jsxs("p",{className:`text-sm ${q?"text-gray-400":"text-gray-500 dark:text-gray-400"}`,children:["Aucun rsultat pour  ",c," "]}),i.jsx("p",{className:`text-[11px] mt-1 ${q?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:"Essayez : dashboard, rapports, statistiques"})]})})]}),i.jsx("button",{onClick:o,className:"relative p-2.5 rounded-xl transition-all duration-300 group",style:{background:s?"linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%)":"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",boxShadow:s?"0 0 12px rgba(99, 102, 241, 0.3), inset 0 1px 0 rgba(255,255,255,0.05)":"0 0 12px rgba(251, 191, 36, 0.3), inset 0 1px 0 rgba(255,255,255,0.5)"},title:s?"Mode clair":"Mode sombre",children:i.jsxs("div",{className:"relative w-5 h-5",children:[i.jsx(Ow,{className:`w-5 h-5 absolute inset-0 transition-all duration-300 ${s?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100"}`,style:{color:"#d97706"}}),i.jsx(Aw,{className:`w-5 h-5 absolute inset-0 transition-all duration-300 ${s?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-0"}`,style:{color:"#818cf8"}})]})}),i.jsxs("div",{className:"relative",ref:T,children:[i.jsxs("button",{onClick:F,className:`relative p-2 rounded-xl transition-colors ${q?"text-gray-400 hover:bg-white/10":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[i.jsx(sl,{className:"w-5 h-5"}),!_&&i.jsxs("span",{className:"absolute top-1 right-1 flex h-2 w-2",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]})]}),x&&i.jsxs("div",{className:`absolute right-0 top-full mt-2 w-96 rounded-xl shadow-2xl z-[60] overflow-hidden ${q?"bg-[#1e293b] border border-[#1e3a5f]":"bg-white dark:bg-[#1e293b] border border-gray-200 dark:border-gray-700"}`,children:[i.jsxs("div",{className:`px-4 py-3 flex items-center justify-between ${q?"border-b border-[#1e3a5f] bg-gradient-to-r from-blue-900/20 to-violet-900/20":"border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-blue-50 to-violet-50 dark:from-blue-900/20 dark:to-violet-900/20"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sl,{className:"w-4 h-4 text-blue-600"}),i.jsx("h3",{className:`text-sm font-bold ${q?"text-white":"text-gray-900 dark:text-white"}`,children:"Notifications"})]}),w.length>0&&i.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${q?"text-blue-400 bg-blue-900/50":"text-blue-600 bg-blue-100 dark:bg-blue-900/50"}`,children:w.length})]}),i.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:j?i.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[i.jsx("div",{className:"animate-spin rounded-full h-7 w-7 border-b-2 border-blue-600 mb-3"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Chargement"})]}):w.length===0?i.jsxs("div",{className:"px-4 py-10 text-center",children:[i.jsx(sl,{className:`w-10 h-10 mx-auto mb-3 ${q?"text-gray-700":"text-gray-200 dark:text-gray-700"}`}),i.jsx("p",{className:"text-sm text-gray-400",children:"Aucune notification"})]}):w.map(X=>{const R=te[X.iconKey]||sl,I=z[X.type]||z.info;return i.jsx("div",{className:`px-4 py-3 transition-colors ${X.action?"cursor-pointer":""} ${q?"border-b border-gray-800 hover:bg-gray-800/50":"border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,onClick:()=>{X.action&&(l(X.action),y(!1))},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${I.bg} flex-shrink-0`,children:i.jsx(R,{className:`w-4 h-4 ${I.icon}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:`text-[13px] font-semibold leading-tight ${q?"text-white":"text-gray-900 dark:text-white"}`,children:X.title}),i.jsx("p",{className:`text-[11px] mt-0.5 ${q?"text-gray-400":"text-gray-500 dark:text-gray-400"}`,children:X.message})]}),i.jsx("span",{className:`text-[10px] whitespace-nowrap flex-shrink-0 mt-0.5 ${q?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:Ww(X.time)})]})},X.id)})}),w.length>0&&!j&&i.jsx("div",{className:`px-4 py-2.5 border-t text-center ${q?"border-[#1e3a5f]":"border-gray-100 dark:border-gray-700"}`,children:i.jsx("button",{onClick:()=>{l(r?.role==="admin"?"/admin/reports":"/dashboard/reports"),y(!1)},className:`text-xs font-semibold transition-colors ${q?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"}`,children:"Voir tous les rapports "})})]})]}),i.jsxs("div",{className:`flex items-center gap-3 pl-4 border-l ${q?"border-[#1e3a5f]":"border-gray-200 dark:border-gray-600"}`,children:[i.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-white text-sm font-semibold ${q?"bg-blue-600":"bg-primary-600"}`,children:r?.name?.charAt(0)||"U"}),i.jsxs("div",{className:"hidden md:block",children:[i.jsx("p",{className:`text-sm font-medium ${q?"text-gray-300":"text-gray-700 dark:text-gray-300"}`,children:r?.email}),i.jsx("p",{className:`text-xs capitalize ${q?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:r?.role==="admin"?"Administrateur":"Cabinet"})]})]})]})]})})}function De(t,e=1500,r=!0){const[s,o]=M.useState(r?0:t),l=M.useRef(r?0:t);return M.useEffect(()=>{if(!r){o(t),l.current=t;return}const c=l.current,u=t-c;if(u===0){o(t);return}const h=performance.now();let p;const m=x=>{const y=x-h,w=Math.min(y/e,1),v=w===1?1:1-Math.pow(2,-10*w);o(Math.round(c+u*v)),w<1&&(p=requestAnimationFrame(m))};return p=requestAnimationFrame(m),l.current=t,()=>cancelAnimationFrame(p)},[t,e,r]),s}function Ui(t){return t+.5|0}const On=(t,e,r)=>Math.max(Math.min(t,r),e);function gi(t){return On(Ui(t*2.55),0,255)}function Bn(t){return On(Ui(t*255),0,255)}function en(t){return On(Ui(t/2.55)/100,0,1)}function zp(t){return On(Ui(t*100),0,100)}const br={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_u=[..."0123456789ABCDEF"],Hw=t=>_u[t&15],Vw=t=>_u[(t&240)>>4]+_u[t&15],ol=t=>(t&240)>>4===(t&15),Uw=t=>ol(t.r)&&ol(t.g)&&ol(t.b)&&ol(t.a);function qw(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&br[t[1]]*17,g:255&br[t[2]]*17,b:255&br[t[3]]*17,a:e===5?br[t[4]]*17:255}:(e===7||e===9)&&(r={r:br[t[1]]<<4|br[t[2]],g:br[t[3]]<<4|br[t[4]],b:br[t[5]]<<4|br[t[6]],a:e===9?br[t[7]]<<4|br[t[8]]:255})),r}const Yw=(t,e)=>t<255?e(t):"";function Kw(t){var e=Uw(t)?Hw:Vw;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Yw(t.a,e):void 0}const Gw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cx(t,e,r){const s=e*Math.min(r,1-r),o=(l,c=(l+t/30)%12)=>r-s*Math.max(Math.min(c-3,9-c,1),-1);return[o(0),o(8),o(4)]}function Xw(t,e,r){const s=(o,l=(o+t/60)%6)=>r-r*e*Math.max(Math.min(l,4-l,1),0);return[s(5),s(3),s(1)]}function Jw(t,e,r){const s=cx(t,1,.5);let o;for(e+r>1&&(o=1/(e+r),e*=o,r*=o),o=0;o<3;o++)s[o]*=1-e-r,s[o]+=e;return s}function Qw(t,e,r,s,o){return t===o?(e-r)/s+(e<r?6:0):e===o?(r-t)/s+2:(t-e)/s+4}function Gu(t){const r=t.r/255,s=t.g/255,o=t.b/255,l=Math.max(r,s,o),c=Math.min(r,s,o),u=(l+c)/2;let h,p,m;return l!==c&&(m=l-c,p=u>.5?m/(2-l-c):m/(l+c),h=Qw(r,s,o,m,l),h=h*60+.5),[h|0,p||0,u]}function Xu(t,e,r,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,s)).map(Bn)}function Ju(t,e,r){return Xu(cx,t,e,r)}function Zw(t,e,r){return Xu(Jw,t,e,r)}function ek(t,e,r){return Xu(Xw,t,e,r)}function dx(t){return(t%360+360)%360}function tk(t){const e=Gw.exec(t);let r=255,s;if(!e)return;e[5]!==s&&(r=e[6]?gi(+e[5]):Bn(+e[5]));const o=dx(+e[2]),l=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?s=Zw(o,l,c):e[1]==="hsv"?s=ek(o,l,c):s=Ju(o,l,c),{r:s[0],g:s[1],b:s[2],a:r}}function rk(t,e){var r=Gu(t);r[0]=dx(r[0]+e),r=Ju(r),t.r=r[0],t.g=r[1],t.b=r[2]}function nk(t){if(!t)return;const e=Gu(t),r=e[0],s=zp(e[1]),o=zp(e[2]);return t.a<255?`hsla(${r}, ${s}%, ${o}%, ${en(t.a)})`:`hsl(${r}, ${s}%, ${o}%)`}const $p={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function sk(){const t={},e=Object.keys(Bp),r=Object.keys($p);let s,o,l,c,u;for(s=0;s<e.length;s++){for(c=u=e[s],o=0;o<r.length;o++)l=r[o],u=u.replace(l,$p[l]);l=parseInt(Bp[c],16),t[u]=[l>>16&255,l>>8&255,l&255]}return t}let ll;function ak(t){ll||(ll=sk(),ll.transparent=[0,0,0,0]);const e=ll[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ik=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ok(t){const e=ik.exec(t);let r=255,s,o,l;if(e){if(e[7]!==s){const c=+e[7];r=e[8]?gi(c):On(c*255,0,255)}return s=+e[1],o=+e[3],l=+e[5],s=255&(e[2]?gi(s):On(s,0,255)),o=255&(e[4]?gi(o):On(o,0,255)),l=255&(e[6]?gi(l):On(l,0,255)),{r:s,g:o,b:l,a:r}}}function lk(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${en(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Qd=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ea=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ck(t,e,r){const s=ea(en(t.r)),o=ea(en(t.g)),l=ea(en(t.b));return{r:Bn(Qd(s+r*(ea(en(e.r))-s))),g:Bn(Qd(o+r*(ea(en(e.g))-o))),b:Bn(Qd(l+r*(ea(en(e.b))-l))),a:t.a+r*(e.a-t.a)}}function cl(t,e,r){if(t){let s=Gu(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*r,e===0?360:1)),s=Ju(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function ux(t,e){return t&&Object.assign(e||{},t)}function Wp(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Bn(t[3]))):(e=ux(t,{r:0,g:0,b:0,a:1}),e.a=Bn(e.a)),e}function dk(t){return t.charAt(0)==="r"?ok(t):tk(t)}class Ri{constructor(e){if(e instanceof Ri)return e;const r=typeof e;let s;r==="object"?s=Wp(e):r==="string"&&(s=qw(e)||ak(e)||dk(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=ux(this._rgb);return e&&(e.a=en(e.a)),e}set rgb(e){this._rgb=Wp(e)}rgbString(){return this._valid?lk(this._rgb):void 0}hexString(){return this._valid?Kw(this._rgb):void 0}hslString(){return this._valid?nk(this._rgb):void 0}mix(e,r){if(e){const s=this.rgb,o=e.rgb;let l;const c=r===l?.5:r,u=2*c-1,h=s.a-o.a,p=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;l=1-p,s.r=255&p*s.r+l*o.r+.5,s.g=255&p*s.g+l*o.g+.5,s.b=255&p*s.b+l*o.b+.5,s.a=c*s.a+(1-c)*o.a,this.rgb=s}return this}interpolate(e,r){return e&&(this._rgb=ck(this._rgb,e._rgb,r)),this}clone(){return new Ri(this.rgb)}alpha(e){return this._rgb.a=Bn(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Ui(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return cl(this._rgb,2,e),this}darken(e){return cl(this._rgb,2,-e),this}saturate(e){return cl(this._rgb,1,e),this}desaturate(e){return cl(this._rgb,1,-e),this}rotate(e){return rk(this._rgb,e),this}}function Jr(){}const uk=(()=>{let t=0;return()=>t++})();function $e(t){return t==null}function gt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Te(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function zt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Dr(t,e){return zt(t)?t:e}function Pe(t,e){return typeof t>"u"?e:t}const hk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,hx=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Qe(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function He(t,e,r,s){let o,l,c;if(gt(t))for(l=t.length,o=0;o<l;o++)e.call(r,t[o],o);else if(Te(t))for(c=Object.keys(t),l=c.length,o=0;o<l;o++)e.call(r,t[c[o]],c[o])}function Dl(t,e){let r,s,o,l;if(!t||!e||t.length!==e.length)return!1;for(r=0,s=t.length;r<s;++r)if(o=t[r],l=e[r],o.datasetIndex!==l.datasetIndex||o.index!==l.index)return!1;return!0}function Ol(t){if(gt(t))return t.map(Ol);if(Te(t)){const e=Object.create(null),r=Object.keys(t),s=r.length;let o=0;for(;o<s;++o)e[r[o]]=Ol(t[r[o]]);return e}return t}function fx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function fk(t,e,r,s){if(!fx(t))return;const o=e[t],l=r[t];Te(o)&&Te(l)?Ai(o,l,s):e[t]=Ol(l)}function Ai(t,e,r){const s=gt(e)?e:[e],o=s.length;if(!Te(t))return t;r=r||{};const l=r.merger||fk;let c;for(let u=0;u<o;++u){if(c=s[u],!Te(c))continue;const h=Object.keys(c);for(let p=0,m=h.length;p<m;++p)l(h[p],t,c,r)}return t}function wi(t,e){return Ai(t,e,{merger:pk})}function pk(t,e,r){if(!fx(t))return;const s=e[t],o=r[t];Te(s)&&Te(o)?wi(s,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ol(o))}const Hp={"":t=>t,x:t=>t.x,y:t=>t.y};function mk(t){const e=t.split("."),r=[];let s="";for(const o of e)s+=o,s.endsWith("\\")?s=s.slice(0,-1)+".":(r.push(s),s="");return r}function gk(t){const e=mk(t);return r=>{for(const s of e){if(s==="")break;r=r&&r[s]}return r}}function _s(t,e){return(Hp[e]||(Hp[e]=gk(e)))(t)}function Qu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Li=t=>typeof t<"u",Wn=t=>typeof t=="function",Vp=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function xk(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ve=Math.PI,at=2*Ve,bk=at+Ve,Fl=Number.POSITIVE_INFINITY,yk=Ve/180,wt=Ve/2,as=Ve/4,Up=Ve*2/3,px=Math.log10,zr=Math.sign;function ki(t,e,r){return Math.abs(t-e)<r}function qp(t){const e=Math.round(t);t=ki(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(px(t))),s=t/r;return(s<=1?1:s<=2?2:s<=5?5:10)*r}function vk(t){const e=[],r=Math.sqrt(t);let s;for(s=1;s<r;s++)t%s===0&&(e.push(s),e.push(t/s));return r===(r|0)&&e.push(r),e.sort((o,l)=>o-l).pop(),e}function wk(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ti(t){return!wk(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function kk(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function jk(t,e,r){let s,o,l;for(s=0,o=t.length;s<o;s++)l=t[s][r],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function nn(t){return t*(Ve/180)}function Nk(t){return t*(180/Ve)}function Yp(t){if(!zt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function mx(t,e){const r=e.x-t.x,s=e.y-t.y,o=Math.sqrt(r*r+s*s);let l=Math.atan2(s,r);return l<-.5*Ve&&(l+=at),{angle:l,distance:o}}function Cu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Sk(t,e){return(t-e+bk)%at-Ve}function or(t){return(t%at+at)%at}function Di(t,e,r,s){const o=or(t),l=or(e),c=or(r),u=or(l-o),h=or(c-o),p=or(o-l),m=or(o-c);return o===l||o===c||s&&l===c||u>h&&p<m}function Ft(t,e,r){return Math.max(e,Math.min(r,t))}function _k(t){return Ft(t,-32768,32767)}function sn(t,e,r,s=1e-6){return t>=Math.min(e,r)-s&&t<=Math.max(e,r)+s}function Zu(t,e,r){r=r||(c=>t[c]<e);let s=t.length-1,o=0,l;for(;s-o>1;)l=o+s>>1,r(l)?o=l:s=l;return{lo:o,hi:s}}const ps=(t,e,r,s)=>Zu(t,r,s?o=>{const l=t[o][e];return l<r||l===r&&t[o+1][e]===r}:o=>t[o][e]<r),Ck=(t,e,r)=>Zu(t,r,s=>t[s][e]>=r);function Ek(t,e,r){let s=0,o=t.length;for(;s<o&&t[s]<e;)s++;for(;o>s&&t[o-1]>r;)o--;return s>0||o<t.length?t.slice(s,o):t}const gx=["push","pop","shift","splice","unshift"];function Mk(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),gx.forEach(r=>{const s="_onData"+Qu(r),o=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...l){const c=o.apply(this,l);return t._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...l)}),c}})})}function Kp(t,e){const r=t._chartjs;if(!r)return;const s=r.listeners,o=s.indexOf(e);o!==-1&&s.splice(o,1),!(s.length>0)&&(gx.forEach(l=>{delete t[l]}),delete t._chartjs)}function xx(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const bx=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function yx(t,e){let r=[],s=!1;return function(...o){r=o,s||(s=!0,bx.call(window,()=>{s=!1,t.apply(e,r)}))}}function Pk(t,e){let r;return function(...s){return e?(clearTimeout(r),r=setTimeout(t,e,s)):t.apply(this,s),e}}const eh=t=>t==="start"?"left":t==="end"?"right":"center",Dt=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Rk=(t,e,r,s)=>t===(s?"left":"right")?r:t==="center"?(e+r)/2:e;function Ak(t,e,r){const s=e.length;let o=0,l=s;if(t._sorted){const{iScale:c,vScale:u,_parsed:h}=t,p=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=c.axis,{min:x,max:y,minDefined:w,maxDefined:v}=c.getUserBounds();if(w){if(o=Math.min(ps(h,m,x).lo,r?s:ps(e,m,c.getPixelForValue(x)).lo),p){const j=h.slice(0,o+1).reverse().findIndex(k=>!$e(k[u.axis]));o-=Math.max(0,j)}o=Ft(o,0,s-1)}if(v){let j=Math.max(ps(h,c.axis,y,!0).hi+1,r?0:ps(e,m,c.getPixelForValue(y),!0).hi+1);if(p){const k=h.slice(j-1).findIndex(_=>!$e(_[u.axis]));j+=Math.max(0,k)}l=Ft(j,o,s)-o}else l=s-o}return{start:o,count:l}}function Lk(t){const{xScale:e,yScale:r,_scaleRanges:s}=t,o={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!s)return t._scaleRanges=o,!0;const l=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==r.min||s.ymax!==r.max;return Object.assign(s,o),l}const dl=t=>t===0||t===1,Gp=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*at/r)),Xp=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*at/r)+1,ji={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*wt)+1,easeOutSine:t=>Math.sin(t*wt),easeInOutSine:t=>-.5*(Math.cos(Ve*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>dl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>dl(t)?t:Gp(t,.075,.3),easeOutElastic:t=>dl(t)?t:Xp(t,.075,.3),easeInOutElastic(t){return dl(t)?t:t<.5?.5*Gp(t*2,.1125,.45):.5+.5*Xp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ji.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ji.easeInBounce(t*2)*.5:ji.easeOutBounce(t*2-1)*.5+.5};function th(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Jp(t){return th(t)?t:new Ri(t)}function Zd(t){return th(t)?t:new Ri(t).saturate(.5).darken(.1).hexString()}const Tk=["x","y","borderWidth","radius","tension"],Dk=["color","borderColor","backgroundColor"];function Ok(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Dk},numbers:{type:"number",properties:Tk}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Fk(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Qp=new Map;function Ik(t,e){e=e||{};const r=t+JSON.stringify(e);let s=Qp.get(r);return s||(s=new Intl.NumberFormat(t,e),Qp.set(r,s)),s}function rh(t,e,r){return Ik(e,r).format(t)}const zk={values(t){return gt(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const s=this.chart.options.locale;let o,l=t;if(r.length>1){const p=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(p<1e-4||p>1e15)&&(o="scientific"),l=$k(t,r)}const c=px(Math.abs(l)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:o,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),rh(t,s,h)}};function $k(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var vx={formatters:zk};function Bk(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Cs=Object.create(null),Eu=Object.create(null);function Ni(t,e){if(!e)return t;const r=e.split(".");for(let s=0,o=r.length;s<o;++s){const l=r[s];t=t[l]||(t[l]=Object.create(null))}return t}function eu(t,e,r){return typeof e=="string"?Ai(Ni(t,e),r):Ai(Ni(t,""),e)}class Wk{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,o)=>Zd(o.backgroundColor),this.hoverBorderColor=(s,o)=>Zd(o.borderColor),this.hoverColor=(s,o)=>Zd(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return eu(this,e,r)}get(e){return Ni(this,e)}describe(e,r){return eu(Eu,e,r)}override(e,r){return eu(Cs,e,r)}route(e,r,s,o){const l=Ni(this,e),c=Ni(this,s),u="_"+r;Object.defineProperties(l,{[u]:{value:l[r],writable:!0},[r]:{enumerable:!0,get(){const h=this[u],p=c[o];return Te(h)?Object.assign({},p,h):Pe(h,p)},set(h){this[u]=h}}})}apply(e){e.forEach(r=>r(this))}}var ut=new Wk({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ok,Fk,Bk]);function Hk(t){return!t||$e(t.size)||$e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Zp(t,e,r,s,o){let l=e[o];return l||(l=e[o]=t.measureText(o).width,r.push(o)),l>s&&(s=l),s}function is(t,e,r){const s=t.currentDevicePixelRatio,o=r!==0?Math.max(r/2,.5):0;return Math.round((e-o)*s)/s+o}function em(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Mu(t,e,r,s){wx(t,e,r,s,null)}function wx(t,e,r,s,o){let l,c,u,h,p,m,x,y;const w=e.pointStyle,v=e.rotation,j=e.radius;let k=(v||0)*yk;if(w&&typeof w=="object"&&(l=w.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){t.save(),t.translate(r,s),t.rotate(k),t.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),t.restore();return}if(!(isNaN(j)||j<=0)){switch(t.beginPath(),w){default:o?t.ellipse(r,s,o/2,j,0,0,at):t.arc(r,s,j,0,at),t.closePath();break;case"triangle":m=o?o/2:j,t.moveTo(r+Math.sin(k)*m,s-Math.cos(k)*j),k+=Up,t.lineTo(r+Math.sin(k)*m,s-Math.cos(k)*j),k+=Up,t.lineTo(r+Math.sin(k)*m,s-Math.cos(k)*j),t.closePath();break;case"rectRounded":p=j*.516,h=j-p,c=Math.cos(k+as)*h,x=Math.cos(k+as)*(o?o/2-p:h),u=Math.sin(k+as)*h,y=Math.sin(k+as)*(o?o/2-p:h),t.arc(r-x,s-u,p,k-Ve,k-wt),t.arc(r+y,s-c,p,k-wt,k),t.arc(r+x,s+u,p,k,k+wt),t.arc(r-y,s+c,p,k+wt,k+Ve),t.closePath();break;case"rect":if(!v){h=Math.SQRT1_2*j,m=o?o/2:h,t.rect(r-m,s-h,2*m,2*h);break}k+=as;case"rectRot":x=Math.cos(k)*(o?o/2:j),c=Math.cos(k)*j,u=Math.sin(k)*j,y=Math.sin(k)*(o?o/2:j),t.moveTo(r-x,s-u),t.lineTo(r+y,s-c),t.lineTo(r+x,s+u),t.lineTo(r-y,s+c),t.closePath();break;case"crossRot":k+=as;case"cross":x=Math.cos(k)*(o?o/2:j),c=Math.cos(k)*j,u=Math.sin(k)*j,y=Math.sin(k)*(o?o/2:j),t.moveTo(r-x,s-u),t.lineTo(r+x,s+u),t.moveTo(r+y,s-c),t.lineTo(r-y,s+c);break;case"star":x=Math.cos(k)*(o?o/2:j),c=Math.cos(k)*j,u=Math.sin(k)*j,y=Math.sin(k)*(o?o/2:j),t.moveTo(r-x,s-u),t.lineTo(r+x,s+u),t.moveTo(r+y,s-c),t.lineTo(r-y,s+c),k+=as,x=Math.cos(k)*(o?o/2:j),c=Math.cos(k)*j,u=Math.sin(k)*j,y=Math.sin(k)*(o?o/2:j),t.moveTo(r-x,s-u),t.lineTo(r+x,s+u),t.moveTo(r+y,s-c),t.lineTo(r-y,s+c);break;case"line":c=o?o/2:Math.cos(k)*j,u=Math.sin(k)*j,t.moveTo(r-c,s-u),t.lineTo(r+c,s+u);break;case"dash":t.moveTo(r,s),t.lineTo(r+Math.cos(k)*(o?o/2:j),s+Math.sin(k)*j);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Oi(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function Jl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ql(t){t.restore()}function Vk(t,e,r,s,o){if(!e)return t.lineTo(r.x,r.y);if(o==="middle"){const l=(e.x+r.x)/2;t.lineTo(l,e.y),t.lineTo(l,r.y)}else o==="after"!=!!s?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Uk(t,e,r,s){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?r.cp2x:r.cp1x,s?r.cp2y:r.cp1y,r.x,r.y)}function qk(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Yk(t,e,r,s,o){if(o.strikethrough||o.underline){const l=t.measureText(s),c=e-l.actualBoundingBoxLeft,u=e+l.actualBoundingBoxRight,h=r-l.actualBoundingBoxAscent,p=r+l.actualBoundingBoxDescent,m=o.strikethrough?(h+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(c,m),t.lineTo(u,m),t.stroke()}}function Kk(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Fi(t,e,r,s,o,l={}){const c=gt(e)?e:[e],u=l.strokeWidth>0&&l.strokeColor!=="";let h,p;for(t.save(),t.font=o.string,qk(t,l),h=0;h<c.length;++h)p=c[h],l.backdrop&&Kk(t,l.backdrop),u&&(l.strokeColor&&(t.strokeStyle=l.strokeColor),$e(l.strokeWidth)||(t.lineWidth=l.strokeWidth),t.strokeText(p,r,s,l.maxWidth)),t.fillText(p,r,s,l.maxWidth),Yk(t,r,s,p,l),s+=Number(o.lineHeight);t.restore()}function Il(t,e){const{x:r,y:s,w:o,h:l,radius:c}=e;t.arc(r+c.topLeft,s+c.topLeft,c.topLeft,1.5*Ve,Ve,!0),t.lineTo(r,s+l-c.bottomLeft),t.arc(r+c.bottomLeft,s+l-c.bottomLeft,c.bottomLeft,Ve,wt,!0),t.lineTo(r+o-c.bottomRight,s+l),t.arc(r+o-c.bottomRight,s+l-c.bottomRight,c.bottomRight,wt,0,!0),t.lineTo(r+o,s+c.topRight),t.arc(r+o-c.topRight,s+c.topRight,c.topRight,0,-wt,!0),t.lineTo(r+c.topLeft,s)}const Gk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Xk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jk(t,e){const r=(""+t).match(Gk);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Qk=t=>+t||0;function nh(t,e){const r={},s=Te(e),o=s?Object.keys(e):e,l=Te(t)?s?c=>Pe(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of o)r[c]=Qk(l(c));return r}function kx(t){return nh(t,{top:"y",right:"x",bottom:"y",left:"x"})}function na(t){return nh(t,["topLeft","topRight","bottomLeft","bottomRight"])}function wr(t){const e=kx(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function It(t,e){t=t||{},e=e||ut.font;let r=Pe(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let s=Pe(t.style,e.style);s&&!(""+s).match(Xk)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const o={family:Pe(t.family,e.family),lineHeight:Jk(Pe(t.lineHeight,e.lineHeight),r),size:r,style:s,weight:Pe(t.weight,e.weight),string:""};return o.string=Hk(o),o}function ul(t,e,r,s){let o,l,c;for(o=0,l=t.length;o<l;++o)if(c=t[o],c!==void 0&&c!==void 0)return c}function Zk(t,e,r){const{min:s,max:o}=t,l=hx(e,(o-s)/2),c=(u,h)=>r&&u===0?0:u+h;return{min:c(s,-Math.abs(l)),max:c(o,l)}}function Ms(t,e){return Object.assign(Object.create(t),e)}function sh(t,e=[""],r,s,o=()=>t[0]){const l=r||t;typeof s>"u"&&(s=_x("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:l,_fallback:s,_getTarget:o,override:u=>sh([u,...t],e,l,s)};return new Proxy(c,{deleteProperty(u,h){return delete u[h],delete u._keys,delete t[0][h],!0},get(u,h){return Nx(u,h,()=>oj(h,e,t,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,h){return rm(u).includes(h)},ownKeys(u){return rm(u)},set(u,h,p){const m=u._storage||(u._storage=o());return u[h]=m[h]=p,delete u._keys,!0}})}function ua(t,e,r,s){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:jx(t,s),setContext:l=>ua(t,l,r,s),override:l=>ua(t.override(l),e,r,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete t[c],!0},get(l,c,u){return Nx(l,c,()=>tj(l,c,u))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(l,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(l,c,u){return t[c]=u,delete l[c],!0}})}function jx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:s=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:r,indexable:s,isScriptable:Wn(r)?r:()=>r,isIndexable:Wn(s)?s:()=>s}}const ej=(t,e)=>t?t+Qu(e):e,ah=(t,e)=>Te(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Nx(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=r();return t[e]=s,s}function tj(t,e,r){const{_proxy:s,_context:o,_subProxy:l,_descriptors:c}=t;let u=s[e];return Wn(u)&&c.isScriptable(e)&&(u=rj(e,u,t,r)),gt(u)&&u.length&&(u=nj(e,u,t,c.isIndexable)),ah(e,u)&&(u=ua(u,o,l&&l[e],c)),u}function rj(t,e,r,s){const{_proxy:o,_context:l,_subProxy:c,_stack:u}=r;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let h=e(l,c||s);return u.delete(t),ah(t,h)&&(h=ih(o._scopes,o,t,h)),h}function nj(t,e,r,s){const{_proxy:o,_context:l,_subProxy:c,_descriptors:u}=r;if(typeof l.index<"u"&&s(t))return e[l.index%e.length];if(Te(e[0])){const h=e,p=o._scopes.filter(m=>m!==h);e=[];for(const m of h){const x=ih(p,o,t,m);e.push(ua(x,l,c&&c[t],u))}}return e}function Sx(t,e,r){return Wn(t)?t(e,r):t}const sj=(t,e)=>t===!0?e:typeof t=="string"?_s(e,t):void 0;function aj(t,e,r,s,o){for(const l of e){const c=sj(r,l);if(c){t.add(c);const u=Sx(c._fallback,r,o);if(typeof u<"u"&&u!==r&&u!==s)return u}else if(c===!1&&typeof s<"u"&&r!==s)return null}return!1}function ih(t,e,r,s){const o=e._rootScopes,l=Sx(e._fallback,r,s),c=[...t,...o],u=new Set;u.add(s);let h=tm(u,c,r,l||r,s);return h===null||typeof l<"u"&&l!==r&&(h=tm(u,c,l,h,s),h===null)?!1:sh(Array.from(u),[""],o,l,()=>ij(e,r,s))}function tm(t,e,r,s,o){for(;r;)r=aj(t,e,r,s,o);return r}function ij(t,e,r){const s=t._getTarget();e in s||(s[e]={});const o=s[e];return gt(o)&&Te(r)?r:o||{}}function oj(t,e,r,s){let o;for(const l of e)if(o=_x(ej(l,t),r),typeof o<"u")return ah(t,o)?ih(r,s,t,o):o}function _x(t,e){for(const r of e){if(!r)continue;const s=r[t];if(typeof s<"u")return s}}function rm(t){let e=t._keys;return e||(e=t._keys=lj(t._scopes)),e}function lj(t){const e=new Set;for(const r of t)for(const s of Object.keys(r).filter(o=>!o.startsWith("_")))e.add(s);return Array.from(e)}const cj=Number.EPSILON||1e-14,ha=(t,e)=>e<t.length&&!t[e].skip&&t[e],Cx=t=>t==="x"?"y":"x";function dj(t,e,r,s){const o=t.skip?e:t,l=e,c=r.skip?e:r,u=Cu(l,o),h=Cu(c,l);let p=u/(u+h),m=h/(u+h);p=isNaN(p)?0:p,m=isNaN(m)?0:m;const x=s*p,y=s*m;return{previous:{x:l.x-x*(c.x-o.x),y:l.y-x*(c.y-o.y)},next:{x:l.x+y*(c.x-o.x),y:l.y+y*(c.y-o.y)}}}function uj(t,e,r){const s=t.length;let o,l,c,u,h,p=ha(t,0);for(let m=0;m<s-1;++m)if(h=p,p=ha(t,m+1),!(!h||!p)){if(ki(e[m],0,cj)){r[m]=r[m+1]=0;continue}o=r[m]/e[m],l=r[m+1]/e[m],u=Math.pow(o,2)+Math.pow(l,2),!(u<=9)&&(c=3/Math.sqrt(u),r[m]=o*c*e[m],r[m+1]=l*c*e[m])}}function hj(t,e,r="x"){const s=Cx(r),o=t.length;let l,c,u,h=ha(t,0);for(let p=0;p<o;++p){if(c=u,u=h,h=ha(t,p+1),!u)continue;const m=u[r],x=u[s];c&&(l=(m-c[r])/3,u[`cp1${r}`]=m-l,u[`cp1${s}`]=x-l*e[p]),h&&(l=(h[r]-m)/3,u[`cp2${r}`]=m+l,u[`cp2${s}`]=x+l*e[p])}}function fj(t,e="x"){const r=Cx(e),s=t.length,o=Array(s).fill(0),l=Array(s);let c,u,h,p=ha(t,0);for(c=0;c<s;++c)if(u=h,h=p,p=ha(t,c+1),!!h){if(p){const m=p[e]-h[e];o[c]=m!==0?(p[r]-h[r])/m:0}l[c]=u?p?zr(o[c-1])!==zr(o[c])?0:(o[c-1]+o[c])/2:o[c-1]:o[c]}uj(t,o,l),hj(t,l,e)}function hl(t,e,r){return Math.max(Math.min(t,r),e)}function pj(t,e){let r,s,o,l,c,u=Oi(t[0],e);for(r=0,s=t.length;r<s;++r)c=l,l=u,u=r<s-1&&Oi(t[r+1],e),l&&(o=t[r],c&&(o.cp1x=hl(o.cp1x,e.left,e.right),o.cp1y=hl(o.cp1y,e.top,e.bottom)),u&&(o.cp2x=hl(o.cp2x,e.left,e.right),o.cp2y=hl(o.cp2y,e.top,e.bottom)))}function mj(t,e,r,s,o){let l,c,u,h;if(e.spanGaps&&(t=t.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")fj(t,o);else{let p=s?t[t.length-1]:t[0];for(l=0,c=t.length;l<c;++l)u=t[l],h=dj(p,u,t[Math.min(l+1,c-(s?0:1))%c],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,p=u}e.capBezierPoints&&pj(t,r)}function oh(){return typeof window<"u"&&typeof document<"u"}function lh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function zl(t,e,r){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[r])):s=t,s}const Zl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function gj(t,e){return Zl(t).getPropertyValue(e)}const xj=["top","right","bottom","left"];function bs(t,e,r){const s={};r=r?"-"+r:"";for(let o=0;o<4;o++){const l=xj[o];s[l]=parseFloat(t[e+"-"+l+r])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const bj=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function yj(t,e){const r=t.touches,s=r&&r.length?r[0]:t,{offsetX:o,offsetY:l}=s;let c=!1,u,h;if(bj(o,l,t.target))u=o,h=l;else{const p=e.getBoundingClientRect();u=s.clientX-p.left,h=s.clientY-p.top,c=!0}return{x:u,y:h,box:c}}function cs(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:s}=e,o=Zl(r),l=o.boxSizing==="border-box",c=bs(o,"padding"),u=bs(o,"border","width"),{x:h,y:p,box:m}=yj(t,r),x=c.left+(m&&u.left),y=c.top+(m&&u.top);let{width:w,height:v}=e;return l&&(w-=c.width+u.width,v-=c.height+u.height),{x:Math.round((h-x)/w*r.width/s),y:Math.round((p-y)/v*r.height/s)}}function vj(t,e,r){let s,o;if(e===void 0||r===void 0){const l=t&&lh(t);if(!l)e=t.clientWidth,r=t.clientHeight;else{const c=l.getBoundingClientRect(),u=Zl(l),h=bs(u,"border","width"),p=bs(u,"padding");e=c.width-p.width-h.width,r=c.height-p.height-h.height,s=zl(u.maxWidth,l,"clientWidth"),o=zl(u.maxHeight,l,"clientHeight")}}return{width:e,height:r,maxWidth:s||Fl,maxHeight:o||Fl}}const Fn=t=>Math.round(t*10)/10;function wj(t,e,r,s){const o=Zl(t),l=bs(o,"margin"),c=zl(o.maxWidth,t,"clientWidth")||Fl,u=zl(o.maxHeight,t,"clientHeight")||Fl,h=vj(t,e,r);let{width:p,height:m}=h;if(o.boxSizing==="content-box"){const y=bs(o,"border","width"),w=bs(o,"padding");p-=w.width+y.width,m-=w.height+y.height}return p=Math.max(0,p-l.width),m=Math.max(0,s?p/s:m-l.height),p=Fn(Math.min(p,c,h.maxWidth)),m=Fn(Math.min(m,u,h.maxHeight)),p&&!m&&(m=Fn(p/2)),(e!==void 0||r!==void 0)&&s&&h.height&&m>h.height&&(m=h.height,p=Fn(Math.floor(m*s))),{width:p,height:m}}function nm(t,e,r){const s=e||1,o=Fn(t.height*s),l=Fn(t.width*s);t.height=Fn(t.height),t.width=Fn(t.width);const c=t.canvas;return c.style&&(r||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||c.height!==o||c.width!==l?(t.currentDevicePixelRatio=s,c.height=o,c.width=l,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const kj=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};oh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function sm(t,e){const r=gj(t,e),s=r&&r.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ds(t,e,r,s){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function jj(t,e,r,s){return{x:t.x+r*(e.x-t.x),y:s==="middle"?r<.5?t.y:e.y:s==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function Nj(t,e,r,s){const o={x:t.cp2x,y:t.cp2y},l={x:e.cp1x,y:e.cp1y},c=ds(t,o,r),u=ds(o,l,r),h=ds(l,e,r),p=ds(c,u,r),m=ds(u,h,r);return ds(p,m,r)}const Sj=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,s){return r-s},leftForLtr(r,s){return r-s}}},_j=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function sa(t,e,r){return t?Sj(e,r):_j()}function Ex(t,e){let r,s;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,s=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Mx(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Px(t){return t==="angle"?{between:Di,compare:Sk,normalize:or}:{between:sn,compare:(e,r)=>e-r,normalize:e=>e}}function am({start:t,end:e,count:r,loop:s,style:o}){return{start:t%r,end:e%r,loop:s&&(e-t+1)%r===0,style:o}}function Cj(t,e,r){const{property:s,start:o,end:l}=r,{between:c,normalize:u}=Px(s),h=e.length;let{start:p,end:m,loop:x}=t,y,w;if(x){for(p+=h,m+=h,y=0,w=h;y<w&&c(u(e[p%h][s]),o,l);++y)p--,m--;p%=h,m%=h}return m<p&&(m+=h),{start:p,end:m,loop:x,style:t.style}}function Rx(t,e,r){if(!r)return[t];const{property:s,start:o,end:l}=r,c=e.length,{compare:u,between:h,normalize:p}=Px(s),{start:m,end:x,loop:y,style:w}=Cj(t,e,r),v=[];let j=!1,k=null,_,P,T;const L=()=>h(o,T,_)&&u(o,T)!==0,D=()=>u(l,_)===0||h(l,T,_),W=()=>j||L(),H=()=>!j||D();for(let G=m,F=m;G<=x;++G)P=e[G%c],!P.skip&&(_=p(P[s]),_!==T&&(j=h(_,o,l),k===null&&W()&&(k=u(_,o)===0?G:F),k!==null&&H()&&(v.push(am({start:k,end:G,loop:y,count:c,style:w})),k=null),F=G,T=_));return k!==null&&v.push(am({start:k,end:x,loop:y,count:c,style:w})),v}function Ax(t,e){const r=[],s=t.segments;for(let o=0;o<s.length;o++){const l=Rx(s[o],t.points,e);l.length&&r.push(...l)}return r}function Ej(t,e,r,s){let o=0,l=e-1;if(r&&!s)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,r&&(l+=o);l>o&&t[l%e].skip;)l--;return l%=e,{start:o,end:l}}function Mj(t,e,r,s){const o=t.length,l=[];let c=e,u=t[e],h;for(h=e+1;h<=r;++h){const p=t[h%o];p.skip||p.stop?u.skip||(s=!1,l.push({start:e%o,end:(h-1)%o,loop:s}),e=c=p.stop?h:null):(c=h,u.skip&&(e=h)),u=p}return c!==null&&l.push({start:e%o,end:c%o,loop:s}),l}function Pj(t,e){const r=t.points,s=t.options.spanGaps,o=r.length;if(!o)return[];const l=!!t._loop,{start:c,end:u}=Ej(r,o,l,s);if(s===!0)return im(t,[{start:c,end:u,loop:l}],r,e);const h=u<c?u+o:u,p=!!t._fullLoop&&c===0&&u===o-1;return im(t,Mj(r,c,h,p),r,e)}function im(t,e,r,s){return!s||!s.setContext||!r?e:Rj(t,e,r,s)}function Rj(t,e,r,s){const o=t._chart.getContext(),l=om(t.options),{_datasetIndex:c,options:{spanGaps:u}}=t,h=r.length,p=[];let m=l,x=e[0].start,y=x;function w(v,j,k,_){const P=u?-1:1;if(v!==j){for(v+=h;r[v%h].skip;)v-=P;for(;r[j%h].skip;)j+=P;v%h!==j%h&&(p.push({start:v%h,end:j%h,loop:k,style:_}),m=_,x=j%h)}}for(const v of e){x=u?x:v.start;let j=r[x%h],k;for(y=x+1;y<=v.end;y++){const _=r[y%h];k=om(s.setContext(Ms(o,{type:"segment",p0:j,p1:_,p0DataIndex:(y-1)%h,p1DataIndex:y%h,datasetIndex:c}))),Aj(k,m)&&w(x,y-1,v.loop,m),j=_,m=k}x<y-1&&w(x,y-1,v.loop,m)}return p}function om(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Aj(t,e){if(!e)return!1;const r=[],s=function(o,l){return th(l)?(r.includes(l)||r.push(l),r.indexOf(l)):l};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function fl(t,e,r){return t.options.clip?t[r]:e[r]}function Lj(t,e){const{xScale:r,yScale:s}=t;return r&&s?{left:fl(r,e,"left"),right:fl(r,e,"right"),top:fl(s,e,"top"),bottom:fl(s,e,"bottom")}:e}function Lx(t,e){const r=e._clip;if(r.disabled)return!1;const s=Lj(e,t.chartArea);return{left:r.left===!1?0:s.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:s.right+(r.right===!0?0:r.right),top:r.top===!1?0:s.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:s.bottom+(r.bottom===!0?0:r.bottom)}}class Tj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,s,o){const l=r.listeners[o],c=r.duration;l.forEach(u=>u({chart:e,initial:r.initial,numSteps:c,currentStep:Math.min(s-r.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=bx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((s,o)=>{if(!s.running||!s.items.length)return;const l=s.items;let c=l.length-1,u=!1,h;for(;c>=0;--c)h=l[c],h._active?(h._total>s.duration&&(s.duration=h._total),h.tick(e),u=!0):(l[c]=l[l.length-1],l.pop());u&&(o.draw(),this._notify(o,s,e,"progress")),l.length||(s.running=!1,this._notify(o,s,e,"complete"),s.initial=!1),r+=l.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let s=r.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,s)),s}listen(e,r,s){this._getAnims(e).listeners[r].push(s)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((s,o)=>Math.max(s,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const s=r.items;let o=s.length-1;for(;o>=0;--o)s[o].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qr=new Tj;const lm="transparent",Dj={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const s=Jp(t||lm),o=s.valid&&Jp(e||lm);return o&&o.valid?o.mix(s,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Oj{constructor(e,r,s,o){const l=r[s];o=ul([e.to,o,l,e.from]);const c=ul([e.from,l,o]);this._active=!0,this._fn=e.fn||Dj[e.type||typeof c],this._easing=ji[e.easing]||ji.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=s,this._from=c,this._to=o,this._promises=void 0}active(){return this._active}update(e,r,s){if(this._active){this._notify(!1);const o=this._target[this._prop],l=s-this._start,c=this._duration-l;this._start=s,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=ul([e.to,r,o,e.from]),this._from=ul([e.from,o,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,s=this._duration,o=this._prop,l=this._from,c=this._loop,u=this._to;let h;if(this._active=l!==u&&(c||r<s),!this._active){this._target[o]=u,this._notify(!0);return}if(r<0){this._target[o]=l;return}h=r/s%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(l,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,s)=>{e.push({res:r,rej:s})})}_notify(e){const r=e?"res":"rej",s=this._promises||[];for(let o=0;o<s.length;o++)s[o][r]()}}class Tx{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Te(e))return;const r=Object.keys(ut.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const l=e[o];if(!Te(l))return;const c={};for(const u of r)c[u]=l[u];(gt(l.properties)&&l.properties||[o]).forEach(u=>{(u===o||!s.has(u))&&s.set(u,c)})})}_animateOptions(e,r){const s=r.options,o=Ij(e,s);if(!o)return[];const l=this._createAnimations(o,s);return s.$shared&&Fj(e.options.$animations,s).then(()=>{e.options=s},()=>{}),l}_createAnimations(e,r){const s=this._properties,o=[],l=e.$animations||(e.$animations={}),c=Object.keys(r),u=Date.now();let h;for(h=c.length-1;h>=0;--h){const p=c[h];if(p.charAt(0)==="$")continue;if(p==="options"){o.push(...this._animateOptions(e,r));continue}const m=r[p];let x=l[p];const y=s.get(p);if(x)if(y&&x.active()){x.update(y,m,u);continue}else x.cancel();if(!y||!y.duration){e[p]=m;continue}l[p]=x=new Oj(y,e,p,m),o.push(x)}return o}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const s=this._createAnimations(e,r);if(s.length)return Qr.add(this._chart,s),!0}}function Fj(t,e){const r=[],s=Object.keys(e);for(let o=0;o<s.length;o++){const l=t[s[o]];l&&l.active()&&r.push(l.wait())}return Promise.all(r)}function Ij(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function cm(t,e){const r=t&&t.options||{},s=r.reverse,o=r.min===void 0?e:0,l=r.max===void 0?e:0;return{start:s?l:o,end:s?o:l}}function zj(t,e,r){if(r===!1)return!1;const s=cm(t,r),o=cm(e,r);return{top:o.end,right:s.end,bottom:o.start,left:s.start}}function $j(t){let e,r,s,o;return Te(t)?(e=t.top,r=t.right,s=t.bottom,o=t.left):e=r=s=o=t,{top:e,right:r,bottom:s,left:o,disabled:t===!1}}function Dx(t,e){const r=[],s=t._getSortedDatasetMetas(e);let o,l;for(o=0,l=s.length;o<l;++o)r.push(s[o].index);return r}function dm(t,e,r,s={}){const o=t.keys,l=s.mode==="single";let c,u,h,p;if(e===null)return;let m=!1;for(c=0,u=o.length;c<u;++c){if(h=+o[c],h===r){if(m=!0,s.all)continue;break}p=t.values[h],zt(p)&&(l||e===0||zr(e)===zr(p))&&(e+=p)}return!m&&!s.all?0:e}function Bj(t,e){const{iScale:r,vScale:s}=e,o=r.axis==="x"?"x":"y",l=s.axis==="x"?"x":"y",c=Object.keys(t),u=new Array(c.length);let h,p,m;for(h=0,p=c.length;h<p;++h)m=c[h],u[h]={[o]:m,[l]:t[m]};return u}function tu(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function Wj(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Hj(t){const{min:e,max:r,minDefined:s,maxDefined:o}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:o?r:Number.POSITIVE_INFINITY}}function Vj(t,e,r){const s=t[e]||(t[e]={});return s[r]||(s[r]={})}function um(t,e,r,s){for(const o of e.getMatchingVisibleMetas(s).reverse()){const l=t[o.index];if(r&&l>0||!r&&l<0)return o.index}return null}function hm(t,e){const{chart:r,_cachedMeta:s}=t,o=r._stacks||(r._stacks={}),{iScale:l,vScale:c,index:u}=s,h=l.axis,p=c.axis,m=Wj(l,c,s),x=e.length;let y;for(let w=0;w<x;++w){const v=e[w],{[h]:j,[p]:k}=v,_=v._stacks||(v._stacks={});y=_[p]=Vj(o,m,j),y[u]=k,y._top=um(y,c,!0,s.type),y._bottom=um(y,c,!1,s.type);const P=y._visualValues||(y._visualValues={});P[u]=k}}function ru(t,e){const r=t.scales;return Object.keys(r).filter(s=>r[s].axis===e).shift()}function Uj(t,e){return Ms(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qj(t,e,r){return Ms(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function di(t,e){const r=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const o of e){const l=o._stacks;if(!l||l[s]===void 0||l[s][r]===void 0)return;delete l[s][r],l[s]._visualValues!==void 0&&l[s]._visualValues[r]!==void 0&&delete l[s]._visualValues[r]}}}const nu=t=>t==="reset"||t==="none",fm=(t,e)=>e?t:Object.assign({},t),Yj=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:Dx(r,!0),values:null};class ec{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=tu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&di(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,s=this.getDataset(),o=(x,y,w,v)=>x==="x"?y:x==="r"?v:w,l=r.xAxisID=Pe(s.xAxisID,ru(e,"x")),c=r.yAxisID=Pe(s.yAxisID,ru(e,"y")),u=r.rAxisID=Pe(s.rAxisID,ru(e,"r")),h=r.indexAxis,p=r.iAxisID=o(h,l,c,u),m=r.vAxisID=o(h,c,l,u);r.xScale=this.getScaleForId(l),r.yScale=this.getScaleForId(c),r.rScale=this.getScaleForId(u),r.iScale=this.getScaleForId(p),r.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Kp(this._data,this),e._stacked&&di(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),s=this._data;if(Te(r)){const o=this._cachedMeta;this._data=Bj(r,o)}else if(s!==r){if(s){Kp(s,this);const o=this._cachedMeta;di(o),o._parsed=[]}r&&Object.isExtensible(r)&&Mk(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,s=this.getDataset();let o=!1;this._dataCheck();const l=r._stacked;r._stacked=tu(r.vScale,r),r.stack!==s.stack&&(o=!0,di(r),r.stack=s.stack),this._resyncElements(e),(o||l!==r._stacked)&&(hm(this,r._parsed),r._stacked=tu(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:s,_data:o}=this,{iScale:l,_stacked:c}=s,u=l.axis;let h=e===0&&r===o.length?!0:s._sorted,p=e>0&&s._parsed[e-1],m,x,y;if(this._parsing===!1)s._parsed=o,s._sorted=!0,y=o;else{gt(o[e])?y=this.parseArrayData(s,o,e,r):Te(o[e])?y=this.parseObjectData(s,o,e,r):y=this.parsePrimitiveData(s,o,e,r);const w=()=>x[u]===null||p&&x[u]<p[u];for(m=0;m<r;++m)s._parsed[m+e]=x=y[m],h&&(w()&&(h=!1),p=x);s._sorted=h}c&&hm(this,y)}parsePrimitiveData(e,r,s,o){const{iScale:l,vScale:c}=e,u=l.axis,h=c.axis,p=l.getLabels(),m=l===c,x=new Array(o);let y,w,v;for(y=0,w=o;y<w;++y)v=y+s,x[y]={[u]:m||l.parse(p[v],v),[h]:c.parse(r[v],v)};return x}parseArrayData(e,r,s,o){const{xScale:l,yScale:c}=e,u=new Array(o);let h,p,m,x;for(h=0,p=o;h<p;++h)m=h+s,x=r[m],u[h]={x:l.parse(x[0],m),y:c.parse(x[1],m)};return u}parseObjectData(e,r,s,o){const{xScale:l,yScale:c}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p=new Array(o);let m,x,y,w;for(m=0,x=o;m<x;++m)y=m+s,w=r[y],p[m]={x:l.parse(_s(w,u),y),y:c.parse(_s(w,h),y)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,s){const o=this.chart,l=this._cachedMeta,c=r[e.axis],u={keys:Dx(o,!0),values:r._stacks[e.axis]._visualValues};return dm(u,c,l.index,{mode:s})}updateRangeFromParsed(e,r,s,o){const l=s[r.axis];let c=l===null?NaN:l;const u=o&&s._stacks[r.axis];o&&u&&(o.values=u,c=dm(o,l,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,r){const s=this._cachedMeta,o=s._parsed,l=s._sorted&&e===s.iScale,c=o.length,u=this._getOtherScale(e),h=Yj(r,s,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:x}=Hj(u);let y,w;function v(){w=o[y];const j=w[u.axis];return!zt(w[e.axis])||m>j||x<j}for(y=0;y<c&&!(!v()&&(this.updateRangeFromParsed(p,e,w,h),l));++y);if(l){for(y=c-1;y>=0;--y)if(!v()){this.updateRangeFromParsed(p,e,w,h);break}}return p}getAllParsedValues(e){const r=this._cachedMeta._parsed,s=[];let o,l,c;for(o=0,l=r.length;o<l;++o)c=r[o][e.axis],zt(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,s=r.iScale,o=r.vScale,l=this.getParsed(e);return{label:s?""+s.getLabelForValue(l[s.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=$j(Pe(this.options.clip,zj(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,s=this._cachedMeta,o=s.data||[],l=r.chartArea,c=[],u=this._drawStart||0,h=this._drawCount||o.length-u,p=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(e,l,u,h),m=u;m<u+h;++m){const x=o[m];x.hidden||(x.active&&p?c.push(x):x.draw(e,l))}for(m=0;m<c.length;++m)c[m].draw(e,l)}getStyle(e,r){const s=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,r,s){const o=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];l=c.$context||(c.$context=qj(this.getContext(),e,c)),l.parsed=this.getParsed(e),l.raw=o.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=Uj(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!r,l.mode=s,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",s){const o=r==="active",l=this._cachedDataOpts,c=e+"-"+r,u=l[c],h=this.enableOptionSharing&&Li(s);if(u)return fm(u,h);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),x=o?[`${e}Hover`,"hover",e,""]:[e,""],y=p.getOptionScopes(this.getDataset(),m),w=Object.keys(ut.elements[e]),v=()=>this.getContext(s,o,r),j=p.resolveNamedOptions(y,w,v,x);return j.$shared&&(j.$shared=h,l[c]=Object.freeze(fm(j,h))),j}_resolveAnimations(e,r,s){const o=this.chart,l=this._cachedDataOpts,c=`animation-${r}`,u=l[c];if(u)return u;let h;if(o.options.animation!==!1){const m=this.chart.config,x=m.datasetAnimationScopeKeys(this._type,r),y=m.getOptionScopes(this.getDataset(),x);h=m.createResolver(y,this.getContext(e,s,r))}const p=new Tx(o,h&&h.animations);return h&&h._cacheable&&(l[c]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||nu(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const s=this.resolveDataElementOptions(e,r),o=this._sharedOptions,l=this.getSharedOptions(s),c=this.includeOptions(r,l)||l!==o;return this.updateSharedOptions(l,r,s),{sharedOptions:l,includeOptions:c}}updateElement(e,r,s,o){nu(o)?Object.assign(e,s):this._resolveAnimations(r,o).update(e,s)}updateSharedOptions(e,r,s){e&&!nu(r)&&this._resolveAnimations(void 0,r).update(e,s)}_setStyle(e,r,s,o){e.active=o;const l=this.getStyle(r,o);this._resolveAnimations(r,s,o).update(e,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(e,r,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,r,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,s=this._cachedMeta.data;for(const[u,h,p]of this._syncList)this[u](h,p);this._syncList=[];const o=s.length,l=r.length,c=Math.min(l,o);c&&this.parse(0,c),l>o?this._insertElements(o,l-o,e):l<o&&this._removeElements(l,o-l)}_insertElements(e,r,s=!0){const o=this._cachedMeta,l=o.data,c=e+r;let u;const h=p=>{for(p.length+=r,u=p.length-1;u>=c;u--)p[u]=p[u-r]};for(h(l),u=e;u<c;++u)l[u]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,r),s&&this.updateElements(l,e,r,"reset")}updateElements(e,r,s,o){}_removeElements(e,r){const s=this._cachedMeta;if(this._parsing){const o=s._parsed.splice(e,r);s._stacked&&di(s,o)}s.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,s,o]=e;this[r](s,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Kj(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let s=[];for(let o=0,l=r.length;o<l;o++)s=s.concat(r[o].controller.getAllParsedValues(t));t._cache.$bar=xx(s.sort((o,l)=>o-l))}return t._cache.$bar}function Gj(t){const e=t.iScale,r=Kj(e,t.type);let s=e._length,o,l,c,u;const h=()=>{c===32767||c===-32768||(Li(u)&&(s=Math.min(s,Math.abs(c-u)||s)),u=c)};for(o=0,l=r.length;o<l;++o)c=e.getPixelForValue(r[o]),h();for(u=void 0,o=0,l=e.ticks.length;o<l;++o)c=e.getPixelForTick(o),h();return s}function Xj(t,e,r,s){const o=r.barThickness;let l,c;return $e(o)?(l=e.min*r.categoryPercentage,c=r.barPercentage):(l=o*s,c=1),{chunk:l/s,ratio:c,start:e.pixels[t]-l/2}}function Jj(t,e,r,s){const o=e.pixels,l=o[t];let c=t>0?o[t-1]:null,u=t<o.length-1?o[t+1]:null;const h=r.categoryPercentage;c===null&&(c=l-(u===null?e.end-e.start:u-l)),u===null&&(u=l+l-c);const p=l-(l-Math.min(c,u))/2*h;return{chunk:Math.abs(u-c)/2*h/s,ratio:r.barPercentage,start:p}}function Qj(t,e,r,s){const o=r.parse(t[0],s),l=r.parse(t[1],s),c=Math.min(o,l),u=Math.max(o,l);let h=c,p=u;Math.abs(c)>Math.abs(u)&&(h=u,p=c),e[r.axis]=p,e._custom={barStart:h,barEnd:p,start:o,end:l,min:c,max:u}}function Ox(t,e,r,s){return gt(t)?Qj(t,e,r,s):e[r.axis]=r.parse(t,s),e}function pm(t,e,r,s){const o=t.iScale,l=t.vScale,c=o.getLabels(),u=o===l,h=[];let p,m,x,y;for(p=r,m=r+s;p<m;++p)y=e[p],x={},x[o.axis]=u||o.parse(c[p],p),h.push(Ox(y,x,l,p));return h}function su(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Zj(t,e,r){return t!==0?zr(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function eN(t){let e,r,s,o,l;return t.horizontal?(e=t.base>t.x,r="left",s="right"):(e=t.base<t.y,r="bottom",s="top"),e?(o="end",l="start"):(o="start",l="end"),{start:r,end:s,reverse:e,top:o,bottom:l}}function tN(t,e,r,s){let o=e.borderSkipped;const l={};if(!o){t.borderSkipped=l;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:h,top:p,bottom:m}=eN(t);o==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===s?o=p:(r._bottom||0)===s?o=m:(l[mm(m,c,u,h)]=!0,o=p)),l[mm(o,c,u,h)]=!0,t.borderSkipped=l}function mm(t,e,r,s){return s?(t=rN(t,e,r),t=gm(t,r,e)):t=gm(t,e,r),t}function rN(t,e,r){return t===e?r:t===r?e:t}function gm(t,e,r){return t==="start"?e:t==="end"?r:t}function nN(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class sN extends ec{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,s,o){return pm(e,r,s,o)}parseArrayData(e,r,s,o){return pm(e,r,s,o)}parseObjectData(e,r,s,o){const{iScale:l,vScale:c}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p=l.axis==="x"?u:h,m=c.axis==="x"?u:h,x=[];let y,w,v,j;for(y=s,w=s+o;y<w;++y)j=r[y],v={},v[l.axis]=l.parse(_s(j,p),y),x.push(Ox(_s(j,m),v,c,y));return x}updateRangeFromParsed(e,r,s,o){super.updateRangeFromParsed(e,r,s,o);const l=s._custom;l&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:s,vScale:o}=r,l=this.getParsed(e),c=l._custom,u=su(c)?"["+c.start+", "+c.end+"]":""+o.getLabelForValue(l[o.axis]);return{label:""+s.getLabelForValue(l[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,s,o){const l=o==="reset",{index:c,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),p=u.isHorizontal(),m=this._getRuler(),{sharedOptions:x,includeOptions:y}=this._getSharedOptions(r,o);for(let w=r;w<r+s;w++){const v=this.getParsed(w),j=l||$e(v[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(w),k=this._calculateBarIndexPixels(w,m),_=(v._stacks||{})[u.axis],P={horizontal:p,base:j.base,enableBorderRadius:!_||su(v._custom)||c===_._top||c===_._bottom,x:p?j.head:k.center,y:p?k.center:j.head,height:p?k.size:Math.abs(j.size),width:p?Math.abs(j.size):k.size};y&&(P.options=x||this.resolveDataElementOptions(w,e[w].active?"active":o));const T=P.options||e[w].options;tN(P,T,_,c),nN(P,T,m.ratio),this.updateElement(e[w],w,P,o)}}_getStacks(e,r){const{iScale:s}=this._cachedMeta,o=s.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),l=s.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(r),h=u&&u[s.axis],p=m=>{const x=m._parsed.find(w=>w[s.axis]===h),y=x&&x[m.vScale.axis];if($e(y)||isNaN(y))return!0};for(const m of o)if(!(r!==void 0&&p(m))&&((l===!1||c.indexOf(m.stack)===-1||l===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Pe(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,s){const o=this._getStacks(e,s),l=r!==void 0?o.indexOf(r):-1;return l===-1?o.length-1:l}_getRuler(){const e=this.options,r=this._cachedMeta,s=r.iScale,o=[];let l,c;for(l=0,c=r.data.length;l<c;++l)o.push(s.getPixelForValue(this.getParsed(l)[s.axis],l));const u=e.barThickness;return{min:u||Gj(r),pixels:o,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:s,index:o},options:{base:l,minBarLength:c}}=this,u=l||0,h=this.getParsed(e),p=h._custom,m=su(p);let x=h[r.axis],y=0,w=s?this.applyStack(r,h,s):x,v,j;w!==x&&(y=w-x,w=x),m&&(x=p.barStart,w=p.barEnd-p.barStart,x!==0&&zr(x)!==zr(p.barEnd)&&(y=0),y+=x);const k=!$e(l)&&!m?l:y;let _=r.getPixelForValue(k);if(this.chart.getDataVisibility(e)?v=r.getPixelForValue(y+w):v=_,j=v-_,Math.abs(j)<c){j=Zj(j,r,u)*c,x===u&&(_-=j/2);const P=r.getPixelForDecimal(0),T=r.getPixelForDecimal(1),L=Math.min(P,T),D=Math.max(P,T);_=Math.max(Math.min(_,D),L),v=_+j,s&&!m&&(h._stacks[r.axis]._visualValues[o]=r.getValueForPixel(v)-r.getValueForPixel(_))}if(_===r.getPixelForValue(u)){const P=zr(j)*r.getLineWidthForValue(u)/2;_+=P,j-=P}return{size:j,base:_,head:v,center:v+j/2}}_calculateBarIndexPixels(e,r){const s=r.scale,o=this.options,l=o.skipNull,c=Pe(o.maxBarThickness,1/0);let u,h;const p=this._getAxisCount();if(r.grouped){const m=l?this._getStackCount(e):r.stackCount,x=o.barThickness==="flex"?Jj(e,r,o,m*p):Xj(e,r,o,m*p),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(Pe(y,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0)+w;u=x.start+x.chunk*v+x.chunk/2,h=Math.min(c,x.chunk*x.ratio)}else u=s.getPixelForValue(this.getParsed(e)[s.axis],e),h=Math.min(c,r.min*r.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,r=e.vScale,s=e.data,o=s.length;let l=0;for(;l<o;++l)this.getParsed(l)[r.axis]!==null&&!s[l].hidden&&s[l].draw(this._ctx)}}function aN(t,e,r){let s=1,o=1,l=0,c=0;if(e<at){const u=t,h=u+e,p=Math.cos(u),m=Math.sin(u),x=Math.cos(h),y=Math.sin(h),w=(T,L,D)=>Di(T,u,h,!0)?1:Math.max(L,L*r,D,D*r),v=(T,L,D)=>Di(T,u,h,!0)?-1:Math.min(L,L*r,D,D*r),j=w(0,p,x),k=w(wt,m,y),_=v(Ve,p,x),P=v(Ve+wt,m,y);s=(j-_)/2,o=(k-P)/2,l=-(j+_)/2,c=-(k+P)/2}return{ratioX:s,ratioY:o,offsetX:l,offsetY:c}}class iN extends ec{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:s,textAlign:o,color:l,useBorderRadius:c,borderRadius:u}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((h,p)=>{const x=e.getDatasetMeta(0).controller.getStyle(p);return{text:h,fillStyle:x.backgroundColor,fontColor:l,hidden:!e.getDataVisibility(p),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:o,pointStyle:s,borderRadius:c&&(u||x.borderRadius),index:p}}):[]}},onClick(e,r,s){s.chart.toggleDataVisibility(r.index),s.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const s=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=s;else{let l=h=>+s[h];if(Te(s[e])){const{key:h="value"}=this._parsing;l=p=>+_s(s[p],h)}let c,u;for(c=e,u=e+r;c<u;++c)o._parsed[c]=l(c)}}_getRotation(){return nn(this.options.rotation-90)}_getCircumference(){return nn(this.options.circumference)}_getRotationExtents(){let e=at,r=-at;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const o=this.chart.getDatasetMeta(s).controller,l=o._getRotation(),c=o._getCircumference();e=Math.min(e,l),r=Math.max(r,l+c)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:s}=r,o=this._cachedMeta,l=o.data,c=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-c)/2,0),h=Math.min(hk(this.options.cutout,u),1),p=this._getRingWeight(this.index),{circumference:m,rotation:x}=this._getRotationExtents(),{ratioX:y,ratioY:w,offsetX:v,offsetY:j}=aN(x,m,h),k=(s.width-c)/y,_=(s.height-c)/w,P=Math.max(Math.min(k,_)/2,0),T=hx(this.options.radius,P),L=Math.max(T*h,0),D=(T-L)/this._getVisibleDatasetWeightTotal();this.offsetX=v*T,this.offsetY=j*T,o.total=this.calculateTotal(),this.outerRadius=T-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*p,0),this.updateElements(l,0,l.length,e)}_circumference(e,r){const s=this.options,o=this._cachedMeta,l=this._getCircumference();return r&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*l/at)}updateElements(e,r,s,o){const l=o==="reset",c=this.chart,u=c.chartArea,p=c.options.animation,m=(u.left+u.right)/2,x=(u.top+u.bottom)/2,y=l&&p.animateScale,w=y?0:this.innerRadius,v=y?0:this.outerRadius,{sharedOptions:j,includeOptions:k}=this._getSharedOptions(r,o);let _=this._getRotation(),P;for(P=0;P<r;++P)_+=this._circumference(P,l);for(P=r;P<r+s;++P){const T=this._circumference(P,l),L=e[P],D={x:m+this.offsetX,y:x+this.offsetY,startAngle:_,endAngle:_+T,circumference:T,outerRadius:v,innerRadius:w};k&&(D.options=j||this.resolveDataElementOptions(P,L.active?"active":o)),_+=T,this.updateElement(L,P,D,o)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let s=0,o;for(o=0;o<r.length;o++){const l=e._parsed[o];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(s+=Math.abs(l))}return s}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?at*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,s=this.chart,o=s.data.labels||[],l=rh(r._parsed[e],s.options.locale);return{label:o[e]||"",value:l}}getMaxBorderWidth(e){let r=0;const s=this.chart;let o,l,c,u,h;if(!e){for(o=0,l=s.data.datasets.length;o<l;++o)if(s.isDatasetVisible(o)){c=s.getDatasetMeta(o),e=c.data,u=c.controller;break}}if(!e)return 0;for(o=0,l=e.length;o<l;++o)h=u.resolveDataElementOptions(o),h.borderAlign!=="inner"&&(r=Math.max(r,h.borderWidth||0,h.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let s=0,o=e.length;s<o;++s){const l=this.resolveDataElementOptions(s);r=Math.max(r,l.offset||0,l.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(r+=this._getRingWeight(s));return r}_getRingWeight(e){return Math.max(Pe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class oN extends ec{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:s,data:o=[],_dataset:l}=r,c=this.chart._animationsDisabled;let{start:u,count:h}=Ak(r,o,c);this._drawStart=u,this._drawCount=h,Lk(r)&&(u=0,h=o.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!l._decimated,s.points=o;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:p},e),this.updateElements(o,u,h,e)}updateElements(e,r,s,o){const l=o==="reset",{iScale:c,vScale:u,_stacked:h,_dataset:p}=this._cachedMeta,{sharedOptions:m,includeOptions:x}=this._getSharedOptions(r,o),y=c.axis,w=u.axis,{spanGaps:v,segment:j}=this.options,k=Ti(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||l||o==="none",P=r+s,T=e.length;let L=r>0&&this.getParsed(r-1);for(let D=0;D<T;++D){const W=e[D],H=_?W:{};if(D<r||D>=P){H.skip=!0;continue}const G=this.getParsed(D),F=$e(G[w]),te=H[y]=c.getPixelForValue(G[y],D),z=H[w]=l||F?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,G,h):G[w],D);H.skip=isNaN(te)||isNaN(z)||F,H.stop=D>0&&Math.abs(G[y]-L[y])>k,j&&(H.parsed=G,H.raw=p.data[D]),x&&(H.options=m||this.resolveDataElementOptions(D,W.active?"active":o)),_||this.updateElement(W,D,H,o),L=G}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,s=r.options&&r.options.borderWidth||0,o=e.data||[];if(!o.length)return s;const l=o[0].size(this.resolveDataElementOptions(0)),c=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(s,l,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function os(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ch{static override(e){Object.assign(ch.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return os()}parse(){return os()}format(){return os()}add(){return os()}diff(){return os()}startOf(){return os()}endOf(){return os()}}var lN={_date:ch};function cN(t,e,r,s){const{controller:o,data:l,_sorted:c}=t,u=o._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&l.length){const p=u._reversePixels?Ck:ps;if(s){if(o._sharedOptions){const m=l[0],x=typeof m.getRange=="function"&&m.getRange(e);if(x){const y=p(l,e,r-x),w=p(l,e,r+x);return{lo:y.lo,hi:w.hi}}}}else{const m=p(l,e,r);if(h){const{vScale:x}=o._cachedMeta,{_parsed:y}=t,w=y.slice(0,m.lo+1).reverse().findIndex(j=>!$e(j[x.axis]));m.lo-=Math.max(0,w);const v=y.slice(m.hi).findIndex(j=>!$e(j[x.axis]));m.hi+=Math.max(0,v)}return m}}return{lo:0,hi:l.length-1}}function tc(t,e,r,s,o){const l=t.getSortedVisibleDatasetMetas(),c=r[e];for(let u=0,h=l.length;u<h;++u){const{index:p,data:m}=l[u],{lo:x,hi:y}=cN(l[u],e,c,o);for(let w=x;w<=y;++w){const v=m[w];v.skip||s(v,p,w)}}}function dN(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(s,o){const l=e?Math.abs(s.x-o.x):0,c=r?Math.abs(s.y-o.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function au(t,e,r,s,o){const l=[];return!o&&!t.isPointInArea(e)||tc(t,r,e,function(u,h,p){!o&&!Oi(u,t.chartArea,0)||u.inRange(e.x,e.y,s)&&l.push({element:u,datasetIndex:h,index:p})},!0),l}function uN(t,e,r,s){let o=[];function l(c,u,h){const{startAngle:p,endAngle:m}=c.getProps(["startAngle","endAngle"],s),{angle:x}=mx(c,{x:e.x,y:e.y});Di(x,p,m)&&o.push({element:c,datasetIndex:u,index:h})}return tc(t,r,e,l),o}function hN(t,e,r,s,o,l){let c=[];const u=dN(r);let h=Number.POSITIVE_INFINITY;function p(m,x,y){const w=m.inRange(e.x,e.y,o);if(s&&!w)return;const v=m.getCenterPoint(o);if(!(!!l||t.isPointInArea(v))&&!w)return;const k=u(e,v);k<h?(c=[{element:m,datasetIndex:x,index:y}],h=k):k===h&&c.push({element:m,datasetIndex:x,index:y})}return tc(t,r,e,p),c}function iu(t,e,r,s,o,l){return!l&&!t.isPointInArea(e)?[]:r==="r"&&!s?uN(t,e,r,o):hN(t,e,r,s,o,l)}function xm(t,e,r,s,o){const l=[],c=r==="x"?"inXRange":"inYRange";let u=!1;return tc(t,r,e,(h,p,m)=>{h[c]&&h[c](e[r],o)&&(l.push({element:h,datasetIndex:p,index:m}),u=u||h.inRange(e.x,e.y,o))}),s&&!u?[]:l}var fN={modes:{index(t,e,r,s){const o=cs(e,t),l=r.axis||"x",c=r.includeInvisible||!1,u=r.intersect?au(t,o,l,s,c):iu(t,o,l,!1,s,c),h=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const m=u[0].index,x=p.data[m];x&&!x.skip&&h.push({element:x,datasetIndex:p.index,index:m})}),h):[]},dataset(t,e,r,s){const o=cs(e,t),l=r.axis||"xy",c=r.includeInvisible||!1;let u=r.intersect?au(t,o,l,s,c):iu(t,o,l,!1,s,c);if(u.length>0){const h=u[0].datasetIndex,p=t.getDatasetMeta(h).data;u=[];for(let m=0;m<p.length;++m)u.push({element:p[m],datasetIndex:h,index:m})}return u},point(t,e,r,s){const o=cs(e,t),l=r.axis||"xy",c=r.includeInvisible||!1;return au(t,o,l,s,c)},nearest(t,e,r,s){const o=cs(e,t),l=r.axis||"xy",c=r.includeInvisible||!1;return iu(t,o,l,r.intersect,s,c)},x(t,e,r,s){const o=cs(e,t);return xm(t,o,"x",r.intersect,s)},y(t,e,r,s){const o=cs(e,t);return xm(t,o,"y",r.intersect,s)}}};const Fx=["left","top","right","bottom"];function ui(t,e){return t.filter(r=>r.pos===e)}function bm(t,e){return t.filter(r=>Fx.indexOf(r.pos)===-1&&r.box.axis===e)}function hi(t,e){return t.sort((r,s)=>{const o=e?s:r,l=e?r:s;return o.weight===l.weight?o.index-l.index:o.weight-l.weight})}function pN(t){const e=[];let r,s,o,l,c,u;for(r=0,s=(t||[]).length;r<s;++r)o=t[r],{position:l,options:{stack:c,stackWeight:u=1}}=o,e.push({index:r,box:o,pos:l,horizontal:o.isHorizontal(),weight:o.weight,stack:c&&l+c,stackWeight:u});return e}function mN(t){const e={};for(const r of t){const{stack:s,pos:o,stackWeight:l}=r;if(!s||!Fx.includes(o))continue;const c=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return e}function gN(t,e){const r=mN(t),{vBoxMaxWidth:s,hBoxMaxHeight:o}=e;let l,c,u;for(l=0,c=t.length;l<c;++l){u=t[l];const{fullSize:h}=u.box,p=r[u.stack],m=p&&u.stackWeight/p.weight;u.horizontal?(u.width=m?m*s:h&&e.availableWidth,u.height=o):(u.width=s,u.height=m?m*o:h&&e.availableHeight)}return r}function xN(t){const e=pN(t),r=hi(e.filter(p=>p.box.fullSize),!0),s=hi(ui(e,"left"),!0),o=hi(ui(e,"right")),l=hi(ui(e,"top"),!0),c=hi(ui(e,"bottom")),u=bm(e,"x"),h=bm(e,"y");return{fullSize:r,leftAndTop:s.concat(l),rightAndBottom:o.concat(h).concat(c).concat(u),chartArea:ui(e,"chartArea"),vertical:s.concat(o).concat(h),horizontal:l.concat(c).concat(u)}}function ym(t,e,r,s){return Math.max(t[r],e[r])+Math.max(t[s],e[s])}function Ix(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function bN(t,e,r,s){const{pos:o,box:l}=r,c=t.maxPadding;if(!Te(o)){r.size&&(t[o]-=r.size);const x=s[r.stack]||{size:0,count:1};x.size=Math.max(x.size,r.horizontal?l.height:l.width),r.size=x.size/x.count,t[o]+=r.size}l.getPadding&&Ix(c,l.getPadding());const u=Math.max(0,e.outerWidth-ym(c,t,"left","right")),h=Math.max(0,e.outerHeight-ym(c,t,"top","bottom")),p=u!==t.w,m=h!==t.h;return t.w=u,t.h=h,r.horizontal?{same:p,other:m}:{same:m,other:p}}function yN(t){const e=t.maxPadding;function r(s){const o=Math.max(e[s]-t[s],0);return t[s]+=o,o}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function vN(t,e){const r=e.maxPadding;function s(o){const l={left:0,top:0,right:0,bottom:0};return o.forEach(c=>{l[c]=Math.max(e[c],r[c])}),l}return s(t?["left","right"]:["top","bottom"])}function xi(t,e,r,s){const o=[];let l,c,u,h,p,m;for(l=0,c=t.length,p=0;l<c;++l){u=t[l],h=u.box,h.update(u.width||e.w,u.height||e.h,vN(u.horizontal,e));const{same:x,other:y}=bN(e,r,u,s);p|=x&&o.length,m=m||y,h.fullSize||o.push(u)}return p&&xi(o,e,r,s)||m}function pl(t,e,r,s,o){t.top=r,t.left=e,t.right=e+s,t.bottom=r+o,t.width=s,t.height=o}function vm(t,e,r,s){const o=r.padding;let{x:l,y:c}=e;for(const u of t){const h=u.box,p=s[u.stack]||{placed:0,weight:1},m=u.stackWeight/p.weight||1;if(u.horizontal){const x=e.w*m,y=p.size||h.height;Li(p.start)&&(c=p.start),h.fullSize?pl(h,o.left,c,r.outerWidth-o.right-o.left,y):pl(h,e.left+p.placed,c,x,y),p.start=c,p.placed+=x,c=h.bottom}else{const x=e.h*m,y=p.size||h.width;Li(p.start)&&(l=p.start),h.fullSize?pl(h,l,o.top,y,r.outerHeight-o.bottom-o.top):pl(h,l,e.top+p.placed,y,x),p.start=l,p.placed+=x,l=h.right}}e.x=l,e.y=c}var vr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,s){if(!t)return;const o=wr(t.options.layout.padding),l=Math.max(e-o.width,0),c=Math.max(r-o.height,0),u=xN(t.boxes),h=u.vertical,p=u.horizontal;He(t.boxes,j=>{typeof j.beforeLayout=="function"&&j.beforeLayout()});const m=h.reduce((j,k)=>k.box.options&&k.box.options.display===!1?j:j+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:r,padding:o,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/m,hBoxMaxHeight:c/2}),y=Object.assign({},o);Ix(y,wr(s));const w=Object.assign({maxPadding:y,w:l,h:c,x:o.left,y:o.top},o),v=gN(h.concat(p),x);xi(u.fullSize,w,x,v),xi(h,w,x,v),xi(p,w,x,v)&&xi(h,w,x,v),yN(w),vm(u.leftAndTop,w,x,v),w.x+=w.w,w.y+=w.h,vm(u.rightAndBottom,w,x,v),t.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},He(u.chartArea,j=>{const k=j.box;Object.assign(k,t.chartArea),k.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class zx{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,s){}removeEventListener(e,r,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,s,o){return r=Math.max(0,r||e.width),s=s||e.height,{width:r,height:Math.max(0,o?Math.floor(r/o):s)}}isAttached(e){return!0}updateConfig(e){}}class wN extends zx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Sl="$chartjs",kN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wm=t=>t===null||t==="";function jN(t,e){const r=t.style,s=t.getAttribute("height"),o=t.getAttribute("width");if(t[Sl]={initial:{height:s,width:o,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",wm(o)){const l=sm(t,"width");l!==void 0&&(t.width=l)}if(wm(s))if(t.style.height==="")t.height=t.width/(e||2);else{const l=sm(t,"height");l!==void 0&&(t.height=l)}return t}const $x=kj?{passive:!0}:!1;function NN(t,e,r){t&&t.addEventListener(e,r,$x)}function SN(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,$x)}function _N(t,e){const r=kN[t.type]||t.type,{x:s,y:o}=cs(t,e);return{type:r,chart:e,native:t,x:s!==void 0?s:null,y:o!==void 0?o:null}}function $l(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function CN(t,e,r){const s=t.canvas,o=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||$l(u.addedNodes,s),c=c&&!$l(u.removedNodes,s);c&&r()});return o.observe(document,{childList:!0,subtree:!0}),o}function EN(t,e,r){const s=t.canvas,o=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||$l(u.removedNodes,s),c=c&&!$l(u.addedNodes,s);c&&r()});return o.observe(document,{childList:!0,subtree:!0}),o}const Ii=new Map;let km=0;function Bx(){const t=window.devicePixelRatio;t!==km&&(km=t,Ii.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function MN(t,e){Ii.size||window.addEventListener("resize",Bx),Ii.set(t,e)}function PN(t){Ii.delete(t),Ii.size||window.removeEventListener("resize",Bx)}function RN(t,e,r){const s=t.canvas,o=s&&lh(s);if(!o)return;const l=yx((u,h)=>{const p=o.clientWidth;r(u,h),p<o.clientWidth&&r()},window),c=new ResizeObserver(u=>{const h=u[0],p=h.contentRect.width,m=h.contentRect.height;p===0&&m===0||l(p,m)});return c.observe(o),MN(t,l),c}function ou(t,e,r){r&&r.disconnect(),e==="resize"&&PN(t)}function AN(t,e,r){const s=t.canvas,o=yx(l=>{t.ctx!==null&&r(_N(l,t))},t);return NN(s,e,o),o}class LN extends zx{acquireContext(e,r){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(jN(e,r),s):null}releaseContext(e){const r=e.canvas;if(!r[Sl])return!1;const s=r[Sl].initial;["height","width"].forEach(l=>{const c=s[l];$e(c)?r.removeAttribute(l):r.setAttribute(l,c)});const o=s.style||{};return Object.keys(o).forEach(l=>{r.style[l]=o[l]}),r.width=r.width,delete r[Sl],!0}addEventListener(e,r,s){this.removeEventListener(e,r);const o=e.$proxies||(e.$proxies={}),c={attach:CN,detach:EN,resize:RN}[r]||AN;o[r]=c(e,r,s)}removeEventListener(e,r){const s=e.$proxies||(e.$proxies={}),o=s[r];if(!o)return;({attach:ou,detach:ou,resize:ou}[r]||SN)(e,r,o),s[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,s,o){return wj(e,r,s,o)}isAttached(e){const r=e&&lh(e);return!!(r&&r.isConnected)}}function TN(t){return!oh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?wN:LN}class hn{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:r,y:s}=this.getProps(["x","y"],e);return{x:r,y:s}}hasValue(){return Ti(this.x)&&Ti(this.y)}getProps(e,r){const s=this.$animations;if(!r||!s)return this;const o={};return e.forEach(l=>{o[l]=s[l]&&s[l].active()?s[l]._to:this[l]}),o}}function DN(t,e){const r=t.options.ticks,s=ON(t),o=Math.min(r.maxTicksLimit||s,s),l=r.major.enabled?IN(e):[],c=l.length,u=l[0],h=l[c-1],p=[];if(c>o)return zN(e,p,l,c/o),p;const m=FN(l,e,o);if(c>0){let x,y;const w=c>1?Math.round((h-u)/(c-1)):null;for(ml(e,p,m,$e(w)?0:u-w,u),x=0,y=c-1;x<y;x++)ml(e,p,m,l[x],l[x+1]);return ml(e,p,m,h,$e(w)?e.length:h+w),p}return ml(e,p,m),p}function ON(t){const e=t.options.offset,r=t._tickSize(),s=t._length/r+(e?0:1),o=t._maxLength/r;return Math.floor(Math.min(s,o))}function FN(t,e,r){const s=$N(t),o=e.length/r;if(!s)return Math.max(o,1);const l=vk(s);for(let c=0,u=l.length-1;c<u;c++){const h=l[c];if(h>o)return h}return Math.max(o,1)}function IN(t){const e=[];let r,s;for(r=0,s=t.length;r<s;r++)t[r].major&&e.push(r);return e}function zN(t,e,r,s){let o=0,l=r[0],c;for(s=Math.ceil(s),c=0;c<t.length;c++)c===l&&(e.push(t[c]),o++,l=r[o*s])}function ml(t,e,r,s,o){const l=Pe(s,0),c=Math.min(Pe(o,t.length),t.length);let u=0,h,p,m;for(r=Math.ceil(r),o&&(h=o-s,r=h/Math.floor(h/r)),m=l;m<0;)u++,m=Math.round(l+u*r);for(p=Math.max(l,0);p<c;p++)p===m&&(e.push(t[p]),u++,m=Math.round(l+u*r))}function $N(t){const e=t.length;let r,s;if(e<2)return!1;for(s=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==s)return!1;return s}const BN=t=>t==="left"?"right":t==="right"?"left":t,jm=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Nm=(t,e)=>Math.min(e||t,t);function Sm(t,e){const r=[],s=t.length/e,o=t.length;let l=0;for(;l<o;l+=s)r.push(t[Math.floor(l)]);return r}function WN(t,e,r){const s=t.ticks.length,o=Math.min(e,s-1),l=t._startPixel,c=t._endPixel,u=1e-6;let h=t.getPixelForTick(o),p;if(!(r&&(s===1?p=Math.max(h-l,c-h):e===0?p=(t.getPixelForTick(1)-h)/2:p=(h-t.getPixelForTick(o-1))/2,h+=o<e?p:-p,h<l-u||h>c+u)))return h}function HN(t,e){He(t,r=>{const s=r.gc,o=s.length/2;let l;if(o>e){for(l=0;l<o;++l)delete r.data[s[l]];s.splice(0,o)}})}function fi(t){return t.drawTicks?t.tickLength:0}function _m(t,e){if(!t.display)return 0;const r=It(t.font,e),s=wr(t.padding);return(gt(t.text)?t.text.length:1)*r.lineHeight+s.height}function VN(t,e){return Ms(t,{scale:e,type:"scale"})}function UN(t,e,r){return Ms(t,{tick:r,index:e,type:"tick"})}function qN(t,e,r){let s=eh(t);return(r&&e!=="right"||!r&&e==="right")&&(s=BN(s)),s}function YN(t,e,r,s){const{top:o,left:l,bottom:c,right:u,chart:h}=t,{chartArea:p,scales:m}=h;let x=0,y,w,v;const j=c-o,k=u-l;if(t.isHorizontal()){if(w=Dt(s,l,u),Te(r)){const _=Object.keys(r)[0],P=r[_];v=m[_].getPixelForValue(P)+j-e}else r==="center"?v=(p.bottom+p.top)/2+j-e:v=jm(t,r,e);y=u-l}else{if(Te(r)){const _=Object.keys(r)[0],P=r[_];w=m[_].getPixelForValue(P)-k+e}else r==="center"?w=(p.left+p.right)/2-k+e:w=jm(t,r,e);v=Dt(s,c,o),x=r==="left"?-wt:wt}return{titleX:w,titleY:v,maxWidth:y,rotation:x}}class ba extends hn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:s,_suggestedMax:o}=this;return e=Dr(e,Number.POSITIVE_INFINITY),r=Dr(r,Number.NEGATIVE_INFINITY),s=Dr(s,Number.POSITIVE_INFINITY),o=Dr(o,Number.NEGATIVE_INFINITY),{min:Dr(e,s),max:Dr(r,o),minDefined:zt(e),maxDefined:zt(r)}}getMinMax(e){let{min:r,max:s,minDefined:o,maxDefined:l}=this.getUserBounds(),c;if(o&&l)return{min:r,max:s};const u=this.getMatchingVisibleMetas();for(let h=0,p=u.length;h<p;++h)c=u[h].controller.getMinMax(this,e),o||(r=Math.min(r,c.min)),l||(s=Math.max(s,c.max));return r=l&&r>s?s:r,s=o&&r>s?r:s,{min:Dr(r,Dr(s,r)),max:Dr(s,Dr(r,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qe(this.options.beforeUpdate,[this])}update(e,r,s){const{beginAtZero:o,grace:l,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Zk(this,l,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?Sm(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=DN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,s;this.isHorizontal()?(r=this.left,s=this.right):(r=this.top,s=this.bottom,e=!e),this._startPixel=r,this._endPixel=s,this._reversePixels=e,this._length=s-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qe(this.options.afterUpdate,[this])}beforeSetDimensions(){Qe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Qe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let s,o,l;for(s=0,o=e.length;s<o;s++)l=e[s],l.label=Qe(r.callback,[l.value,s,e],this)}afterTickToLabelConversion(){Qe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,s=Nm(this.ticks.length,e.ticks.maxTicksLimit),o=r.minRotation||0,l=r.maxRotation;let c=o,u,h,p;if(!this._isVisible()||!r.display||o>=l||s<=1||!this.isHorizontal()){this.labelRotation=o;return}const m=this._getLabelSizes(),x=m.widest.width,y=m.highest.height,w=Ft(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/s:w/(s-1),x+6>u&&(u=w/(s-(e.offset?.5:1)),h=this.maxHeight-fi(e.grid)-r.padding-_m(e.title,this.chart.options.font),p=Math.sqrt(x*x+y*y),c=Nk(Math.min(Math.asin(Ft((m.highest.height+6)/u,-1,1)),Math.asin(Ft(h/p,-1,1))-Math.asin(Ft(y/p,-1,1)))),c=Math.max(o,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){Qe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:s,title:o,grid:l}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const h=_m(o,r.options.font);if(u?(e.width=this.maxWidth,e.height=fi(l)+h):(e.height=this.maxHeight,e.width=fi(l)+h),s.display&&this.ticks.length){const{first:p,last:m,widest:x,highest:y}=this._getLabelSizes(),w=s.padding*2,v=nn(this.labelRotation),j=Math.cos(v),k=Math.sin(v);if(u){const _=s.mirror?0:k*x.width+j*y.height;e.height=Math.min(this.maxHeight,e.height+_+w)}else{const _=s.mirror?0:j*x.width+k*y.height;e.width=Math.min(this.maxWidth,e.width+_+w)}this._calculatePadding(p,m,k,j)}}this._handleMargins(),u?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,s,o){const{ticks:{align:l,padding:c},position:u}=this.options,h=this.labelRotation!==0,p=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,w=0;h?p?(y=o*e.width,w=s*r.height):(y=s*e.height,w=o*r.width):l==="start"?w=r.width:l==="end"?y=e.width:l!=="inner"&&(y=e.width/2,w=r.width/2),this.paddingLeft=Math.max((y-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((w-x+c)*this.width/(this.width-x),0)}else{let m=r.height/2,x=e.height/2;l==="start"?(m=0,x=e.height):l==="end"&&(m=r.height,x=0),this.paddingTop=m+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,s;for(r=0,s=e.length;r<s;r++)$e(e[r].label)&&(e.splice(r,1),s--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let s=this.ticks;r<s.length&&(s=Sm(s,r)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,s){const{ctx:o,_longestTextCache:l}=this,c=[],u=[],h=Math.floor(r/Nm(r,s));let p=0,m=0,x,y,w,v,j,k,_,P,T,L,D;for(x=0;x<r;x+=h){if(v=e[x].label,j=this._resolveTickFontOptions(x),o.font=k=j.string,_=l[k]=l[k]||{data:{},gc:[]},P=j.lineHeight,T=L=0,!$e(v)&&!gt(v))T=Zp(o,_.data,_.gc,T,v),L=P;else if(gt(v))for(y=0,w=v.length;y<w;++y)D=v[y],!$e(D)&&!gt(D)&&(T=Zp(o,_.data,_.gc,T,D),L+=P);c.push(T),u.push(L),p=Math.max(T,p),m=Math.max(L,m)}HN(l,r);const W=c.indexOf(p),H=u.indexOf(m),G=F=>({width:c[F]||0,height:u[F]||0});return{first:G(0),last:G(r-1),widest:G(W),highest:G(H),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return _k(this._alignToPixels?is(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const s=r[e];return s.$context||(s.$context=UN(this.getContext(),e,s))}return this.$context||(this.$context=VN(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=nn(this.labelRotation),s=Math.abs(Math.cos(r)),o=Math.abs(Math.sin(r)),l=this._getLabelSizes(),c=e.autoSkipPadding||0,u=l?l.widest.width+c:0,h=l?l.highest.height+c:0;return this.isHorizontal()?h*s>u*o?u/s:h/o:h*o<u*s?h/s:u/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,s=this.chart,o=this.options,{grid:l,position:c,border:u}=o,h=l.offset,p=this.isHorizontal(),x=this.ticks.length+(h?1:0),y=fi(l),w=[],v=u.setContext(this.getContext()),j=v.display?v.width:0,k=j/2,_=function(S){return is(s,S,j)};let P,T,L,D,W,H,G,F,te,z,q,X;if(c==="top")P=_(this.bottom),H=this.bottom-y,F=P-k,z=_(e.top)+k,X=e.bottom;else if(c==="bottom")P=_(this.top),z=e.top,X=_(e.bottom)-k,H=P+k,F=this.top+y;else if(c==="left")P=_(this.right),W=this.right-y,G=P-k,te=_(e.left)+k,q=e.right;else if(c==="right")P=_(this.left),te=e.left,q=_(e.right)-k,W=P+k,G=this.left+y;else if(r==="x"){if(c==="center")P=_((e.top+e.bottom)/2+.5);else if(Te(c)){const S=Object.keys(c)[0],J=c[S];P=_(this.chart.scales[S].getPixelForValue(J))}z=e.top,X=e.bottom,H=P+k,F=H+y}else if(r==="y"){if(c==="center")P=_((e.left+e.right)/2);else if(Te(c)){const S=Object.keys(c)[0],J=c[S];P=_(this.chart.scales[S].getPixelForValue(J))}W=P-k,G=W-y,te=e.left,q=e.right}const R=Pe(o.ticks.maxTicksLimit,x),I=Math.max(1,Math.ceil(x/R));for(T=0;T<x;T+=I){const S=this.getContext(T),J=l.setContext(S),U=u.setContext(S),re=J.lineWidth,Z=J.color,E=U.dash||[],Y=U.dashOffset,ce=J.tickWidth,le=J.tickColor,fe=J.tickBorderDash||[],ge=J.tickBorderDashOffset;L=WN(this,T,h),L!==void 0&&(D=is(s,L,re),p?W=G=te=q=D:H=F=z=X=D,w.push({tx1:W,ty1:H,tx2:G,ty2:F,x1:te,y1:z,x2:q,y2:X,width:re,color:Z,borderDash:E,borderDashOffset:Y,tickWidth:ce,tickColor:le,tickBorderDash:fe,tickBorderDashOffset:ge}))}return this._ticksLength=x,this._borderValue=P,w}_computeLabelItems(e){const r=this.axis,s=this.options,{position:o,ticks:l}=s,c=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:p,padding:m,mirror:x}=l,y=fi(s.grid),w=y+m,v=x?-m:w,j=-nn(this.labelRotation),k=[];let _,P,T,L,D,W,H,G,F,te,z,q,X="middle";if(o==="top")W=this.bottom-v,H=this._getXAxisLabelAlignment();else if(o==="bottom")W=this.top+v,H=this._getXAxisLabelAlignment();else if(o==="left"){const I=this._getYAxisLabelAlignment(y);H=I.textAlign,D=I.x}else if(o==="right"){const I=this._getYAxisLabelAlignment(y);H=I.textAlign,D=I.x}else if(r==="x"){if(o==="center")W=(e.top+e.bottom)/2+w;else if(Te(o)){const I=Object.keys(o)[0],S=o[I];W=this.chart.scales[I].getPixelForValue(S)+w}H=this._getXAxisLabelAlignment()}else if(r==="y"){if(o==="center")D=(e.left+e.right)/2-w;else if(Te(o)){const I=Object.keys(o)[0],S=o[I];D=this.chart.scales[I].getPixelForValue(S)}H=this._getYAxisLabelAlignment(y).textAlign}r==="y"&&(h==="start"?X="top":h==="end"&&(X="bottom"));const R=this._getLabelSizes();for(_=0,P=u.length;_<P;++_){T=u[_],L=T.label;const I=l.setContext(this.getContext(_));G=this.getPixelForTick(_)+l.labelOffset,F=this._resolveTickFontOptions(_),te=F.lineHeight,z=gt(L)?L.length:1;const S=z/2,J=I.color,U=I.textStrokeColor,re=I.textStrokeWidth;let Z=H;c?(D=G,H==="inner"&&(_===P-1?Z=this.options.reverse?"left":"right":_===0?Z=this.options.reverse?"right":"left":Z="center"),o==="top"?p==="near"||j!==0?q=-z*te+te/2:p==="center"?q=-R.highest.height/2-S*te+te:q=-R.highest.height+te/2:p==="near"||j!==0?q=te/2:p==="center"?q=R.highest.height/2-S*te:q=R.highest.height-z*te,x&&(q*=-1),j!==0&&!I.showLabelBackdrop&&(D+=te/2*Math.sin(j))):(W=G,q=(1-z)*te/2);let E;if(I.showLabelBackdrop){const Y=wr(I.backdropPadding),ce=R.heights[_],le=R.widths[_];let fe=q-Y.top,ge=0-Y.left;switch(X){case"middle":fe-=ce/2;break;case"bottom":fe-=ce;break}switch(H){case"center":ge-=le/2;break;case"right":ge-=le;break;case"inner":_===P-1?ge-=le:_>0&&(ge-=le/2);break}E={left:ge,top:fe,width:le+Y.width,height:ce+Y.height,color:I.backdropColor}}k.push({label:L,font:F,textOffset:q,options:{rotation:j,color:J,strokeColor:U,strokeWidth:re,textAlign:Z,textBaseline:X,translation:[D,W],backdrop:E}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-nn(this.labelRotation))return e==="top"?"left":"right";let o="center";return r.align==="start"?o="left":r.align==="end"?o="right":r.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:s,mirror:o,padding:l}}=this.options,c=this._getLabelSizes(),u=e+l,h=c.widest.width;let p,m;return r==="left"?o?(m=this.right+l,s==="near"?p="left":s==="center"?(p="center",m+=h/2):(p="right",m+=h)):(m=this.right-u,s==="near"?p="right":s==="center"?(p="center",m-=h/2):(p="left",m=this.left)):r==="right"?o?(m=this.left+l,s==="near"?p="right":s==="center"?(p="center",m-=h/2):(p="left",m-=h)):(m=this.left+u,s==="near"?p="left":s==="center"?(p="center",m+=h/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:s,top:o,width:l,height:c}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(s,o,l,c),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const o=this.ticks.findIndex(l=>l.value===e);return o>=0?r.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const r=this.options.grid,s=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,c;const u=(h,p,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(h.x,h.y),s.lineTo(p.x,p.y),s.stroke(),s.restore())};if(r.display)for(l=0,c=o.length;l<c;++l){const h=o[l];r.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),r.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:s,grid:o}}=this,l=s.setContext(this.getContext()),c=s.display?l.width:0;if(!c)return;const u=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,m,x,y;this.isHorizontal()?(p=is(e,this.left,c)-c/2,m=is(e,this.right,u)+u/2,x=y=h):(x=is(e,this.top,c)-c/2,y=is(e,this.bottom,u)+u/2,p=m=h),r.save(),r.lineWidth=l.width,r.strokeStyle=l.color,r.beginPath(),r.moveTo(p,x),r.lineTo(m,y),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,o=this._computeLabelArea();o&&Jl(s,o);const l=this.getLabelItems(e);for(const c of l){const u=c.options,h=c.font,p=c.label,m=c.textOffset;Fi(s,p,0,m,h,u)}o&&Ql(s)}drawTitle(){const{ctx:e,options:{position:r,title:s,reverse:o}}=this;if(!s.display)return;const l=It(s.font),c=wr(s.padding),u=s.align;let h=l.lineHeight/2;r==="bottom"||r==="center"||Te(r)?(h+=c.bottom,gt(s.text)&&(h+=l.lineHeight*(s.text.length-1))):h+=c.top;const{titleX:p,titleY:m,maxWidth:x,rotation:y}=YN(this,h,r,u);Fi(e,s.text,0,0,l,{color:s.color,maxWidth:x,rotation:y,textAlign:qN(u,r,o),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,s=Pe(e.grid&&e.grid.z,-1),o=Pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ba.prototype.draw?[{z:r,draw:l=>{this.draw(l)}}]:[{z:s,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:r,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",o=[];let l,c;for(l=0,c=r.length;l<c;++l){const u=r[l];u[s]===this.id&&(!e||u.type===e)&&o.push(u)}return o}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return It(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class gl{constructor(e,r,s){this.type=e,this.scope=r,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let s;XN(r)&&(s=this.register(r));const o=this.items,l=e.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in o||(o[l]=e,KN(e,c,s),this.override&&ut.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const r=this.items,s=e.id,o=this.scope;s in r&&delete r[s],o&&s in ut[o]&&(delete ut[o][s],this.override&&delete Cs[s])}}function KN(t,e,r){const s=Ai(Object.create(null),[r?ut.get(r):{},ut.get(e),t.defaults]);ut.set(e,s),t.defaultRoutes&&GN(e,t.defaultRoutes),t.descriptors&&ut.describe(e,t.descriptors)}function GN(t,e){Object.keys(e).forEach(r=>{const s=r.split("."),o=s.pop(),l=[t].concat(s).join("."),c=e[r].split("."),u=c.pop(),h=c.join(".");ut.route(l,o,h,u)})}function XN(t){return"id"in t&&"defaults"in t}class JN{constructor(){this.controllers=new gl(ec,"datasets",!0),this.elements=new gl(hn,"elements"),this.plugins=new gl(Object,"plugins"),this.scales=new gl(ba,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,s){[...r].forEach(o=>{const l=s||this._getRegistryForType(o);s||l.isForType(o)||l===this.plugins&&o.id?this._exec(e,l,o):He(o,c=>{const u=s||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,r,s){const o=Qu(e);Qe(s["before"+o],[],s),r[e](s),Qe(s["after"+o],[],s)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const s=this._typedRegistries[r];if(s.isForType(e))return s}return this.plugins}_get(e,r,s){const o=r.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return o}}var Fr=new JN;class QN{constructor(){this._init=void 0}notify(e,r,s,o){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const l=o?this._descriptors(e).filter(o):this._descriptors(e),c=this._notify(l,e,r,s);return r==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,r,s,o){o=o||{};for(const l of e){const c=l.plugin,u=c[s],h=[r,o,l.options];if(Qe(u,h,c)===!1&&o.cancelable)return!1}return!0}invalidate(){$e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const s=e&&e.config,o=Pe(s.options&&s.options.plugins,{}),l=ZN(s);return o===!1&&!r?[]:t5(e,l,o,r)}_notifyStateChanges(e){const r=this._oldCache||[],s=this._cache,o=(l,c)=>l.filter(u=>!c.some(h=>u.plugin.id===h.plugin.id));this._notify(o(r,s),e,"stop"),this._notify(o(s,r),e,"start")}}function ZN(t){const e={},r=[],s=Object.keys(Fr.plugins.items);for(let l=0;l<s.length;l++)r.push(Fr.getPlugin(s[l]));const o=t.plugins||[];for(let l=0;l<o.length;l++){const c=o[l];r.indexOf(c)===-1&&(r.push(c),e[c.id]=!0)}return{plugins:r,localIds:e}}function e5(t,e){return!e&&t===!1?null:t===!0?{}:t}function t5(t,{plugins:e,localIds:r},s,o){const l=[],c=t.getContext();for(const u of e){const h=u.id,p=e5(s[h],o);p!==null&&l.push({plugin:u,options:r5(t.config,{plugin:u,local:r[h]},p,c)})}return l}function r5(t,{plugin:e,local:r},s,o){const l=t.pluginScopeKeys(e),c=t.getOptionScopes(s,l);return r&&e.defaults&&c.push(e.defaults),t.createResolver(c,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pu(t,e){const r=ut.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function n5(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function s5(t,e){return t===e?"_index_":"_value_"}function Cm(t){if(t==="x"||t==="y"||t==="r")return t}function a5(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ru(t,...e){if(Cm(t))return t;for(const r of e){const s=r.axis||a5(r.position)||t.length>1&&Cm(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Em(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function i5(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(r.length)return Em(t,"x",r[0])||Em(t,"y",r[0])}return{}}function o5(t,e){const r=Cs[t.type]||{scales:{}},s=e.scales||{},o=Pu(t.type,e),l=Object.create(null);return Object.keys(s).forEach(c=>{const u=s[c];if(!Te(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=Ru(c,u,i5(c,t),ut.scales[u.type]),p=s5(h,o),m=r.scales||{};l[c]=wi(Object.create(null),[{axis:h},u,m[h],m[p]])}),t.data.datasets.forEach(c=>{const u=c.type||t.type,h=c.indexAxis||Pu(u,e),m=(Cs[u]||{}).scales||{};Object.keys(m).forEach(x=>{const y=n5(x,h),w=c[y+"AxisID"]||y;l[w]=l[w]||Object.create(null),wi(l[w],[{axis:y},s[w],m[x]])})}),Object.keys(l).forEach(c=>{const u=l[c];wi(u,[ut.scales[u.type],ut.scale])}),l}function Wx(t){const e=t.options||(t.options={});e.plugins=Pe(e.plugins,{}),e.scales=o5(t,e)}function Hx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function l5(t){return t=t||{},t.data=Hx(t.data),Wx(t),t}const Mm=new Map,Vx=new Set;function xl(t,e){let r=Mm.get(t);return r||(r=e(),Mm.set(t,r),Vx.add(r)),r}const pi=(t,e,r)=>{const s=_s(e,r);s!==void 0&&t.add(s)};class c5{constructor(e){this._config=l5(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Hx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Wx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return xl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return xl(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return xl(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,s=this.type;return xl(`${s}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const s=this._scopeCache;let o=s.get(e);return(!o||r)&&(o=new Map,s.set(e,o)),o}getOptionScopes(e,r,s){const{options:o,type:l}=this,c=this._cachedScopes(e,s),u=c.get(r);if(u)return u;const h=new Set;r.forEach(m=>{e&&(h.add(e),m.forEach(x=>pi(h,e,x))),m.forEach(x=>pi(h,o,x)),m.forEach(x=>pi(h,Cs[l]||{},x)),m.forEach(x=>pi(h,ut,x)),m.forEach(x=>pi(h,Eu,x))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),Vx.has(r)&&c.set(r,p),p}chartOptionScopes(){const{options:e,type:r}=this;return[e,Cs[r]||{},ut.datasets[r]||{},{type:r},ut,Eu]}resolveNamedOptions(e,r,s,o=[""]){const l={$shared:!0},{resolver:c,subPrefixes:u}=Pm(this._resolverCache,e,o);let h=c;if(u5(c,r)){l.$shared=!1,s=Wn(s)?s():s;const p=this.createResolver(e,s,u);h=ua(c,s,p)}for(const p of r)l[p]=h[p];return l}createResolver(e,r,s=[""],o){const{resolver:l}=Pm(this._resolverCache,e,s);return Te(r)?ua(l,r,void 0,o):l}}function Pm(t,e,r){let s=t.get(e);s||(s=new Map,t.set(e,s));const o=r.join();let l=s.get(o);return l||(l={resolver:sh(e,r),subPrefixes:r.filter(u=>!u.toLowerCase().includes("hover"))},s.set(o,l)),l}const d5=t=>Te(t)&&Object.getOwnPropertyNames(t).some(e=>Wn(t[e]));function u5(t,e){const{isScriptable:r,isIndexable:s}=jx(t);for(const o of e){const l=r(o),c=s(o),u=(c||l)&&t[o];if(l&&(Wn(u)||d5(u))||c&&gt(u))return!0}return!1}var h5="4.5.1";const f5=["top","bottom","left","right","chartArea"];function Rm(t,e){return t==="top"||t==="bottom"||f5.indexOf(t)===-1&&e==="x"}function Am(t,e){return function(r,s){return r[t]===s[t]?r[e]-s[e]:r[t]-s[t]}}function Lm(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Qe(r&&r.onComplete,[t],e)}function p5(t){const e=t.chart,r=e.options.animation;Qe(r&&r.onProgress,[t],e)}function Ux(t){return oh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const _l={},Tm=t=>{const e=Ux(t);return Object.values(_l).filter(r=>r.canvas===e).pop()};function m5(t,e,r){const s=Object.keys(t);for(const o of s){const l=+o;if(l>=e){const c=t[o];delete t[o],(r>0||l>e)&&(t[l+r]=c)}}}function g5(t,e,r,s){return!r||t.type==="mouseout"?null:s?e:t}let fn=class{static defaults=ut;static instances=_l;static overrides=Cs;static registry=Fr;static version=h5;static getChart=Tm;static register(...e){Fr.add(...e),Dm()}static unregister(...e){Fr.remove(...e),Dm()}constructor(e,r){const s=this.config=new c5(r),o=Ux(e),l=Tm(o);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||TN(o)),this.platform.updateConfig(s);const u=this.platform.acquireContext(o,c.aspectRatio),h=u&&u.canvas,p=h&&h.height,m=h&&h.width;if(this.id=uk(),this.ctx=u,this.canvas=h,this.width=m,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new QN,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Pk(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],_l[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Qr.listen(this,"complete",Lm),Qr.listen(this,"progress",p5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:s,height:o,_aspectRatio:l}=this;return $e(e)?r&&l?l:o?s/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return em(this.canvas,this.ctx),this}stop(){return Qr.stop(this),this}resize(e,r){Qr.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const s=this.options,o=this.canvas,l=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(o,e,r,l),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,nm(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Qe(s.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};He(r,(s,o)=>{s.id=o})}buildOrUpdateScales(){const e=this.options,r=e.scales,s=this.scales,o=Object.keys(s).reduce((c,u)=>(c[u]=!1,c),{});let l=[];r&&(l=l.concat(Object.keys(r).map(c=>{const u=r[c],h=Ru(c,u),p=h==="r",m=h==="x";return{options:u,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),He(l,c=>{const u=c.options,h=u.id,p=Ru(h,u),m=Pe(u.type,c.dtype);(u.position===void 0||Rm(u.position,p)!==Rm(c.dposition))&&(u.position=c.dposition),o[h]=!0;let x=null;if(h in s&&s[h].type===m)x=s[h];else{const y=Fr.getScale(m);x=new y({id:h,type:m,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(u,e)}),He(o,(c,u)=>{c||delete s[u]}),He(s,c=>{vr.configure(this,c,c.options),vr.addBox(this,c)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,s=e.length;if(e.sort((o,l)=>o.index-l.index),s>r){for(let o=r;o<s;++o)this._destroyDatasetMeta(o);e.splice(r,s-r)}this._sortedMetasets=e.slice(0).sort(Am("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((s,o)=>{r.filter(l=>l===s._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let s,o;for(this._removeUnreferencedMetasets(),s=0,o=r.length;s<o;s++){const l=r[s];let c=this.getDatasetMeta(s);const u=l.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=u,c.indexAxis=l.indexAxis||Pu(u,this.options),c.order=l.order||0,c.index=s,c.label=""+l.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const h=Fr.getController(u),{datasetElementType:p,dataElementType:m}=ut.datasets[u];Object.assign(h,{dataElementType:Fr.getElement(m),datasetElementType:p&&Fr.getElement(p)}),c.controller=new h(this,s),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){He(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const s=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:x}=this.getDatasetMeta(p),y=!o&&l.indexOf(x)===-1;x.buildOrUpdateElements(y),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),o||He(l,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Am("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){He(this.scales,e=>{vr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Vp(r,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:s,start:o,count:l}of r){const c=s==="_removeElements"?-l:l;m5(e,o,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,s=l=>new Set(e.filter(c=>c[0]===l).map((c,u)=>u+","+c.splice(1).join(","))),o=s(0);for(let l=1;l<r;l++)if(!Vp(o,s(l)))return;return Array.from(o).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vr.update(this,this.width,this.height,e);const r=this.chartArea,s=r.width<=0||r.height<=0;this._layers=[],He(this.boxes,o=>{s&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,l)=>{o._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,s=this.data.datasets.length;r<s;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,s=this.data.datasets.length;r<s;++r)this._updateDataset(r,Wn(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const s=this.getDatasetMeta(e),o={meta:s,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(s.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qr.has(this)?this.attached&&!Qr.running(this)&&Qr.start(this):(this.draw(),Lm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,s=[];let o,l;for(o=0,l=r.length;o<l;++o){const c=r[o];(!e||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,s={meta:e,index:e.index,cancelable:!0},o=Lx(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(o&&Jl(r,o),e.controller.draw(),o&&Ql(r),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Oi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,s,o){const l=fN.modes[r];return typeof l=="function"?l(this,e,s,o):[]}getDatasetMeta(e){const r=this.data.datasets[e],s=this._metasets;let o=s.filter(l=>l&&l._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},s.push(o)),o}getContext(){return this.$context||(this.$context=Ms(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!r.hidden}setDatasetVisibility(e,r){const s=this.getDatasetMeta(e);s.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,s){const o=s?"show":"hide",l=this.getDatasetMeta(e),c=l.controller._resolveAnimations(void 0,o);Li(r)?(l.data[r].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),c.update(l,{visible:s}),this.update(u=>u.datasetIndex===e?o:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Qr.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),em(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete _l[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,s=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},o=(l,c,u)=>{l.offsetX=c,l.offsetY=u,this._eventHandler(l)};He(this.options.events,l=>s(l,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,s=(h,p)=>{r.addEventListener(this,h,p),e[h]=p},o=(h,p)=>{e[h]&&(r.removeEventListener(this,h,p),delete e[h])},l=(h,p)=>{this.canvas&&this.resize(h,p)};let c;const u=()=>{o("attach",u),this.attached=!0,this.resize(),s("resize",l),s("detach",c)};c=()=>{this.attached=!1,o("resize",l),this._stop(),this._resize(0,0),s("attach",u)},r.isAttached(this.canvas)?u():c()}unbindEvents(){He(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},He(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,s){const o=s?"set":"remove";let l,c,u,h;for(r==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+o+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){c=e[u];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[o+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],s=e.map(({datasetIndex:l,index:c})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[c],index:c}});!Dl(s,r)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,r))}notifyPlugins(e,r,s){return this._plugins.notify(this,e,r,s)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,s){const o=this.options.hover,l=(h,p)=>h.filter(m=>!p.some(x=>m.datasetIndex===x.datasetIndex&&m.index===x.index)),c=l(r,e),u=s?e:l(e,r);c.length&&this.updateHoverStyle(c,o.mode,!1),u.length&&o.mode&&this.updateHoverStyle(u,o.mode,!0)}_eventHandler(e,r){const s={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},o=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,o)===!1)return;const l=this._handleEvent(e,r,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,o),(l||s.changed)&&this.render(),this}_handleEvent(e,r,s){const{_active:o=[],options:l}=this,c=r,u=this._getActiveElements(e,o,s,c),h=xk(e),p=g5(e,this._lastEvent,s,h);s&&(this._lastEvent=null,Qe(l.onHover,[e,u,this],this),h&&Qe(l.onClick,[e,u,this],this));const m=!Dl(u,o);return(m||r)&&(this._active=u,this._updateHoverStyles(u,o,r)),this._lastEvent=p,m}_getActiveElements(e,r,s,o){if(e.type==="mouseout")return[];if(!s)return r;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,o)}};function Dm(){return He(fn.instances,t=>t._plugins.invalidate())}function x5(t,e,r){const{startAngle:s,x:o,y:l,outerRadius:c,innerRadius:u,options:h}=e,{borderWidth:p,borderJoinStyle:m}=h,x=Math.min(p/c,or(s-r));if(t.beginPath(),t.arc(o,l,c-p/2,s+x/2,r-x/2),u>0){const y=Math.min(p/u,or(s-r));t.arc(o,l,u+p/2,r-y/2,s+y/2,!0)}else{const y=Math.min(p/2,c*or(s-r));if(m==="round")t.arc(o,l,y,r-Ve/2,s+Ve/2,!0);else if(m==="bevel"){const w=2*y*y,v=-w*Math.cos(r+Ve/2)+o,j=-w*Math.sin(r+Ve/2)+l,k=w*Math.cos(s+Ve/2)+o,_=w*Math.sin(s+Ve/2)+l;t.lineTo(v,j),t.lineTo(k,_)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function b5(t,e,r){const{startAngle:s,pixelMargin:o,x:l,y:c,outerRadius:u,innerRadius:h}=e;let p=o/u;t.beginPath(),t.arc(l,c,u,s-p,r+p),h>o?(p=o/h,t.arc(l,c,h,r+p,s-p,!0)):t.arc(l,c,o,r+wt,s-wt),t.closePath(),t.clip()}function y5(t){return nh(t,["outerStart","outerEnd","innerStart","innerEnd"])}function v5(t,e,r,s){const o=y5(t.options.borderRadius),l=(r-e)/2,c=Math.min(l,s*e/2),u=h=>{const p=(r-Math.min(l,h))*s/2;return Ft(h,0,Math.min(l,p))};return{outerStart:u(o.outerStart),outerEnd:u(o.outerEnd),innerStart:Ft(o.innerStart,0,c),innerEnd:Ft(o.innerEnd,0,c)}}function ta(t,e,r,s){return{x:r+t*Math.cos(e),y:s+t*Math.sin(e)}}function Bl(t,e,r,s,o,l){const{x:c,y:u,startAngle:h,pixelMargin:p,innerRadius:m}=e,x=Math.max(e.outerRadius+s+r-p,0),y=m>0?m+s+r+p:0;let w=0;const v=o-h;if(s){const I=m>0?m-s:0,S=x>0?x-s:0,J=(I+S)/2,U=J!==0?v*J/(J+s):v;w=(v-U)/2}const j=Math.max(.001,v*x-r/Ve)/x,k=(v-j)/2,_=h+k+w,P=o-k-w,{outerStart:T,outerEnd:L,innerStart:D,innerEnd:W}=v5(e,y,x,P-_),H=x-T,G=x-L,F=_+T/H,te=P-L/G,z=y+D,q=y+W,X=_+D/z,R=P-W/q;if(t.beginPath(),l){const I=(F+te)/2;if(t.arc(c,u,x,F,I),t.arc(c,u,x,I,te),L>0){const re=ta(G,te,c,u);t.arc(re.x,re.y,L,te,P+wt)}const S=ta(q,P,c,u);if(t.lineTo(S.x,S.y),W>0){const re=ta(q,R,c,u);t.arc(re.x,re.y,W,P+wt,R+Math.PI)}const J=(P-W/y+(_+D/y))/2;if(t.arc(c,u,y,P-W/y,J,!0),t.arc(c,u,y,J,_+D/y,!0),D>0){const re=ta(z,X,c,u);t.arc(re.x,re.y,D,X+Math.PI,_-wt)}const U=ta(H,_,c,u);if(t.lineTo(U.x,U.y),T>0){const re=ta(H,F,c,u);t.arc(re.x,re.y,T,_-wt,F)}}else{t.moveTo(c,u);const I=Math.cos(F)*x+c,S=Math.sin(F)*x+u;t.lineTo(I,S);const J=Math.cos(te)*x+c,U=Math.sin(te)*x+u;t.lineTo(J,U)}t.closePath()}function w5(t,e,r,s,o){const{fullCircles:l,startAngle:c,circumference:u}=e;let h=e.endAngle;if(l){Bl(t,e,r,s,h,o);for(let p=0;p<l;++p)t.fill();isNaN(u)||(h=c+(u%at||at))}return Bl(t,e,r,s,h,o),t.fill(),h}function k5(t,e,r,s,o){const{fullCircles:l,startAngle:c,circumference:u,options:h}=e,{borderWidth:p,borderJoinStyle:m,borderDash:x,borderDashOffset:y,borderRadius:w}=h,v=h.borderAlign==="inner";if(!p)return;t.setLineDash(x||[]),t.lineDashOffset=y,v?(t.lineWidth=p*2,t.lineJoin=m||"round"):(t.lineWidth=p,t.lineJoin=m||"bevel");let j=e.endAngle;if(l){Bl(t,e,r,s,j,o);for(let k=0;k<l;++k)t.stroke();isNaN(u)||(j=c+(u%at||at))}v&&b5(t,e,j),h.selfJoin&&j-c>=Ve&&w===0&&m!=="miter"&&x5(t,e,j),l||(Bl(t,e,r,s,j,o),t.stroke())}class dh extends hn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,r,s){const o=this.getProps(["x","y"],s),{angle:l,distance:c}=mx(o,{x:e,y:r}),{startAngle:u,endAngle:h,innerRadius:p,outerRadius:m,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),y=(this.options.spacing+this.options.borderWidth)/2,w=Pe(x,h-u),v=Di(l,u,h)&&u!==h,j=w>=at||v,k=sn(c,p+y,m+y);return j&&k}getCenterPoint(e){const{x:r,y:s,startAngle:o,endAngle:l,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:p}=this.options,m=(o+l)/2,x=(c+u+p+h)/2;return{x:r+Math.cos(m)*x,y:s+Math.sin(m)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:r,circumference:s}=this,o=(r.offset||0)/4,l=(r.spacing||0)/2,c=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>at?Math.floor(s/at):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*o,Math.sin(u)*o);const h=1-Math.sin(Math.min(Ve,s||0)),p=o*h;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,w5(e,this,p,l,c),k5(e,this,p,l,c),e.restore()}}function qx(t,e,r=e){t.lineCap=Pe(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Pe(r.borderDash,e.borderDash)),t.lineDashOffset=Pe(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Pe(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Pe(r.borderWidth,e.borderWidth),t.strokeStyle=Pe(r.borderColor,e.borderColor)}function j5(t,e,r){t.lineTo(r.x,r.y)}function N5(t){return t.stepped?Vk:t.tension||t.cubicInterpolationMode==="monotone"?Uk:j5}function Yx(t,e,r={}){const s=t.length,{start:o=0,end:l=s-1}=r,{start:c,end:u}=e,h=Math.max(o,c),p=Math.min(l,u),m=o<c&&l<c||o>u&&l>u;return{count:s,start:h,loop:e.loop,ilen:p<h&&!m?s+p-h:p-h}}function S5(t,e,r,s){const{points:o,options:l}=e,{count:c,start:u,loop:h,ilen:p}=Yx(o,r,s),m=N5(l);let{move:x=!0,reverse:y}=s||{},w,v,j;for(w=0;w<=p;++w)v=o[(u+(y?p-w:w))%c],!v.skip&&(x?(t.moveTo(v.x,v.y),x=!1):m(t,j,v,y,l.stepped),j=v);return h&&(v=o[(u+(y?p:0))%c],m(t,j,v,y,l.stepped)),!!h}function _5(t,e,r,s){const o=e.points,{count:l,start:c,ilen:u}=Yx(o,r,s),{move:h=!0,reverse:p}=s||{};let m=0,x=0,y,w,v,j,k,_;const P=L=>(c+(p?u-L:L))%l,T=()=>{j!==k&&(t.lineTo(m,k),t.lineTo(m,j),t.lineTo(m,_))};for(h&&(w=o[P(0)],t.moveTo(w.x,w.y)),y=0;y<=u;++y){if(w=o[P(y)],w.skip)continue;const L=w.x,D=w.y,W=L|0;W===v?(D<j?j=D:D>k&&(k=D),m=(x*m+L)/++x):(T(),t.lineTo(L,D),v=W,x=0,j=k=D),_=D}T()}function Au(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?_5:S5}function C5(t){return t.stepped?jj:t.tension||t.cubicInterpolationMode==="monotone"?Nj:ds}function E5(t,e,r,s){let o=e._path;o||(o=e._path=new Path2D,e.path(o,r,s)&&o.closePath()),qx(t,e.options),t.stroke(o)}function M5(t,e,r,s){const{segments:o,options:l}=e,c=Au(e);for(const u of o)qx(t,l,u.style),t.beginPath(),c(t,e,u,{start:r,end:r+s-1})&&t.closePath(),t.stroke()}const P5=typeof Path2D=="function";function R5(t,e,r,s){P5&&!e.options.segment?E5(t,e,r,s):M5(t,e,r,s)}class Un extends hn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const o=s.spanGaps?this._loop:this._fullLoop;mj(this._points,s,e,o,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Pj(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,s=e.length;return s&&r[e[s-1].end]}interpolate(e,r){const s=this.options,o=e[r],l=this.points,c=Ax(this,{property:r,start:o,end:o});if(!c.length)return;const u=[],h=C5(s);let p,m;for(p=0,m=c.length;p<m;++p){const{start:x,end:y}=c[p],w=l[x],v=l[y];if(w===v){u.push(w);continue}const j=Math.abs((o-w[r])/(v[r]-w[r])),k=h(w,v,j,s.stepped);k[r]=e[r],u.push(k)}return u.length===1?u[0]:u}pathSegment(e,r,s){return Au(this)(e,this,r,s)}path(e,r,s){const o=this.segments,l=Au(this);let c=this._loop;r=r||0,s=s||this.points.length-r;for(const u of o)c&=l(e,this,u,{start:r,end:r+s-1});return!!c}draw(e,r,s,o){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),R5(e,this,s,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Om(t,e,r,s){const o=t.options,{[r]:l}=t.getProps([r],s);return Math.abs(e-l)<o.radius+o.hitRadius}class qi extends hn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,s){const o=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(e-l,2)+Math.pow(r-c,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,r){return Om(this,e,"x",r)}inYRange(e,r){return Om(this,e,"y",r)}getCenterPoint(e){const{x:r,y:s}=this.getProps(["x","y"],e);return{x:r,y:s}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);const s=r&&e.borderWidth||0;return(r+s)*2}draw(e,r){const s=this.options;this.skip||s.radius<.1||!Oi(this,r,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Mu(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Kx(t,e){const{x:r,y:s,base:o,width:l,height:c}=t.getProps(["x","y","base","width","height"],e);let u,h,p,m,x;return t.horizontal?(x=c/2,u=Math.min(r,o),h=Math.max(r,o),p=s-x,m=s+x):(x=l/2,u=r-x,h=r+x,p=Math.min(s,o),m=Math.max(s,o)),{left:u,top:p,right:h,bottom:m}}function In(t,e,r,s){return t?0:Ft(e,r,s)}function A5(t,e,r){const s=t.options.borderWidth,o=t.borderSkipped,l=kx(s);return{t:In(o.top,l.top,0,r),r:In(o.right,l.right,0,e),b:In(o.bottom,l.bottom,0,r),l:In(o.left,l.left,0,e)}}function L5(t,e,r){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,l=na(o),c=Math.min(e,r),u=t.borderSkipped,h=s||Te(o);return{topLeft:In(!h||u.top||u.left,l.topLeft,0,c),topRight:In(!h||u.top||u.right,l.topRight,0,c),bottomLeft:In(!h||u.bottom||u.left,l.bottomLeft,0,c),bottomRight:In(!h||u.bottom||u.right,l.bottomRight,0,c)}}function T5(t){const e=Kx(t),r=e.right-e.left,s=e.bottom-e.top,o=A5(t,r/2,s/2),l=L5(t,r/2,s/2);return{outer:{x:e.left,y:e.top,w:r,h:s,radius:l},inner:{x:e.left+o.l,y:e.top+o.t,w:r-o.l-o.r,h:s-o.t-o.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,l.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(o.b,o.r))}}}}function lu(t,e,r,s){const o=e===null,l=r===null,u=t&&!(o&&l)&&Kx(t,s);return u&&(o||sn(e,u.left,u.right))&&(l||sn(r,u.top,u.bottom))}function D5(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function O5(t,e){t.rect(e.x,e.y,e.w,e.h)}function cu(t,e,r={}){const s=t.x!==r.x?-e:0,o=t.y!==r.y?-e:0,l=(t.x+t.w!==r.x+r.w?e:0)-s,c=(t.y+t.h!==r.y+r.h?e:0)-o;return{x:t.x+s,y:t.y+o,w:t.w+l,h:t.h+c,radius:t.radius}}class ya extends hn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:s,backgroundColor:o}}=this,{inner:l,outer:c}=T5(this),u=D5(c.radius)?Il:O5;e.save(),(c.w!==l.w||c.h!==l.h)&&(e.beginPath(),u(e,cu(c,r,l)),e.clip(),u(e,cu(l,-r,c)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),u(e,cu(l,r)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,r,s){return lu(this,e,r,s)}inXRange(e,r){return lu(this,e,null,r)}inYRange(e,r){return lu(this,null,e,r)}getCenterPoint(e){const{x:r,y:s,base:o,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(r+o)/2:r,y:l?s:(s+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function F5(t,e,r){const s=t.segments,o=t.points,l=e.points,c=[];for(const u of s){let{start:h,end:p}=u;p=rc(h,p,o);const m=Lu(r,o[h],o[p],u.loop);if(!e.segments){c.push({source:u,target:m,start:o[h],end:o[p]});continue}const x=Ax(e,m);for(const y of x){const w=Lu(r,l[y.start],l[y.end],y.loop),v=Rx(u,o,w);for(const j of v)c.push({source:j,target:y,start:{[r]:Fm(m,w,"start",Math.max)},end:{[r]:Fm(m,w,"end",Math.min)}})}}return c}function Lu(t,e,r,s){if(s)return;let o=e[t],l=r[t];return t==="angle"&&(o=or(o),l=or(l)),{property:t,start:o,end:l}}function I5(t,e){const{x:r=null,y:s=null}=t||{},o=e.points,l=[];return e.segments.forEach(({start:c,end:u})=>{u=rc(c,u,o);const h=o[c],p=o[u];s!==null?(l.push({x:h.x,y:s}),l.push({x:p.x,y:s})):r!==null&&(l.push({x:r,y:h.y}),l.push({x:r,y:p.y}))}),l}function rc(t,e,r){for(;e>t;e--){const s=r[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Fm(t,e,r,s){return t&&e?s(t[r],e[r]):t?t[r]:e?e[r]:0}function Gx(t,e){let r=[],s=!1;return gt(t)?(s=!0,r=t):r=I5(t,e),r.length?new Un({points:r,options:{tension:0},_loop:s,_fullLoop:s}):null}function Im(t){return t&&t.fill!==!1}function z5(t,e,r){let o=t[e].fill;const l=[e];let c;if(!r)return o;for(;o!==!1&&l.indexOf(o)===-1;){if(!zt(o))return o;if(c=t[o],!c)return!1;if(c.visible)return o;l.push(o),o=c.fill}return!1}function $5(t,e,r){const s=V5(t);if(Te(s))return isNaN(s.value)?!1:s;let o=parseFloat(s);return zt(o)&&Math.floor(o)===o?B5(s[0],e,o,r):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function B5(t,e,r,s){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=s?!1:r}function W5(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Te(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function H5(t,e,r){let s;return t==="start"?s=r:t==="end"?s=e.options.reverse?e.min:e.max:Te(t)?s=t.value:s=e.getBaseValue(),s}function V5(t){const e=t.options,r=e.fill;let s=Pe(r&&r.target,r);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function U5(t){const{scale:e,index:r,line:s}=t,o=[],l=s.segments,c=s.points,u=q5(e,r);u.push(Gx({x:null,y:e.bottom},s));for(let h=0;h<l.length;h++){const p=l[h];for(let m=p.start;m<=p.end;m++)Y5(o,c[m],u)}return new Un({points:o,options:{}})}function q5(t,e){const r=[],s=t.getMatchingVisibleMetas("line");for(let o=0;o<s.length;o++){const l=s[o];if(l.index===e)break;l.hidden||r.unshift(l.dataset)}return r}function Y5(t,e,r){const s=[];for(let o=0;o<r.length;o++){const l=r[o],{first:c,last:u,point:h}=K5(l,e,"x");if(!(!h||c&&u)){if(c)s.unshift(h);else if(t.push(h),!u)break}}t.push(...s)}function K5(t,e,r){const s=t.interpolate(e,r);if(!s)return{};const o=s[r],l=t.segments,c=t.points;let u=!1,h=!1;for(let p=0;p<l.length;p++){const m=l[p],x=c[m.start][r],y=c[m.end][r];if(sn(o,x,y)){u=o===x,h=o===y;break}}return{first:u,last:h,point:s}}class Xx{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,s){const{x:o,y:l,radius:c}=this;return r=r||{start:0,end:at},e.arc(o,l,c,r.end,r.start,!0),!s.bounds}interpolate(e){const{x:r,y:s,radius:o}=this,l=e.angle;return{x:r+Math.cos(l)*o,y:s+Math.sin(l)*o,angle:l}}}function G5(t){const{chart:e,fill:r,line:s}=t;if(zt(r))return X5(e,r);if(r==="stack")return U5(t);if(r==="shape")return!0;const o=J5(t);return o instanceof Xx?o:Gx(o,s)}function X5(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function J5(t){return(t.scale||{}).getPointPositionForValue?Z5(t):Q5(t)}function Q5(t){const{scale:e={},fill:r}=t,s=W5(r,e);if(zt(s)){const o=e.isHorizontal();return{x:o?s:null,y:o?null:s}}return null}function Z5(t){const{scale:e,fill:r}=t,s=e.options,o=e.getLabels().length,l=s.reverse?e.max:e.min,c=H5(r,e,l),u=[];if(s.grid.circular){const h=e.getPointPositionForValue(0,l);return new Xx({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(c)})}for(let h=0;h<o;++h)u.push(e.getPointPositionForValue(h,c));return u}function du(t,e,r){const s=G5(e),{chart:o,index:l,line:c,scale:u,axis:h}=e,p=c.options,m=p.fill,x=p.backgroundColor,{above:y=x,below:w=x}=m||{},v=o.getDatasetMeta(l),j=Lx(o,v);s&&c.points.length&&(Jl(t,r),e4(t,{line:c,target:s,above:y,below:w,area:r,scale:u,axis:h,clip:j}),Ql(t))}function e4(t,e){const{line:r,target:s,above:o,below:l,area:c,scale:u,clip:h}=e,p=r._loop?"angle":e.axis;t.save();let m=l;l!==o&&(p==="x"?(zm(t,s,c.top),uu(t,{line:r,target:s,color:o,scale:u,property:p,clip:h}),t.restore(),t.save(),zm(t,s,c.bottom)):p==="y"&&($m(t,s,c.left),uu(t,{line:r,target:s,color:l,scale:u,property:p,clip:h}),t.restore(),t.save(),$m(t,s,c.right),m=o)),uu(t,{line:r,target:s,color:m,scale:u,property:p,clip:h}),t.restore()}function zm(t,e,r){const{segments:s,points:o}=e;let l=!0,c=!1;t.beginPath();for(const u of s){const{start:h,end:p}=u,m=o[h],x=o[rc(h,p,o)];l?(t.moveTo(m.x,m.y),l=!1):(t.lineTo(m.x,r),t.lineTo(m.x,m.y)),c=!!e.pathSegment(t,u,{move:c}),c?t.closePath():t.lineTo(x.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function $m(t,e,r){const{segments:s,points:o}=e;let l=!0,c=!1;t.beginPath();for(const u of s){const{start:h,end:p}=u,m=o[h],x=o[rc(h,p,o)];l?(t.moveTo(m.x,m.y),l=!1):(t.lineTo(r,m.y),t.lineTo(m.x,m.y)),c=!!e.pathSegment(t,u,{move:c}),c?t.closePath():t.lineTo(r,x.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function uu(t,e){const{line:r,target:s,property:o,color:l,scale:c,clip:u}=e,h=F5(r,s,o);for(const{source:p,target:m,start:x,end:y}of h){const{style:{backgroundColor:w=l}={}}=p,v=s!==!0;t.save(),t.fillStyle=w,t4(t,c,u,v&&Lu(o,x,y)),t.beginPath();const j=!!r.pathSegment(t,p);let k;if(v){j?t.closePath():Bm(t,s,y,o);const _=!!s.pathSegment(t,m,{move:j,reverse:!0});k=j&&_,k||Bm(t,s,x,o)}t.closePath(),t.fill(k?"evenodd":"nonzero"),t.restore()}}function t4(t,e,r,s){const o=e.chart.chartArea,{property:l,start:c,end:u}=s||{};if(l==="x"||l==="y"){let h,p,m,x;l==="x"?(h=c,p=o.top,m=u,x=o.bottom):(h=o.left,p=c,m=o.right,x=u),t.beginPath(),r&&(h=Math.max(h,r.left),m=Math.min(m,r.right),p=Math.max(p,r.top),x=Math.min(x,r.bottom)),t.rect(h,p,m-h,x-p),t.clip()}}function Bm(t,e,r,s){const o=e.interpolate(r,s);o&&t.lineTo(o.x,o.y)}var nc={id:"filler",afterDatasetsUpdate(t,e,r){const s=(t.data.datasets||[]).length,o=[];let l,c,u,h;for(c=0;c<s;++c)l=t.getDatasetMeta(c),u=l.dataset,h=null,u&&u.options&&u instanceof Un&&(h={visible:t.isDatasetVisible(c),index:c,fill:$5(u,c,s),chart:t,axis:l.controller.options.indexAxis,scale:l.vScale,line:u}),l.$filler=h,o.push(h);for(c=0;c<s;++c)h=o[c],!(!h||h.fill===!1)&&(h.fill=z5(o,c,r.propagate))},beforeDraw(t,e,r){const s=r.drawTime==="beforeDraw",o=t.getSortedVisibleDatasetMetas(),l=t.chartArea;for(let c=o.length-1;c>=0;--c){const u=o[c].$filler;u&&(u.line.updateControlPoints(l,u.axis),s&&u.fill&&du(t.ctx,u,l))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let o=s.length-1;o>=0;--o){const l=s[o].$filler;Im(l)&&du(t.ctx,l,t.chartArea)}},beforeDatasetDraw(t,e,r){const s=e.meta.$filler;!Im(s)||r.drawTime!=="beforeDatasetDraw"||du(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Wm=(t,e)=>{let{boxHeight:r=e,boxWidth:s=e}=t;return t.usePointStyle&&(r=Math.min(r,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:r,itemHeight:Math.max(e,r)}},r4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Hm extends hn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,s){this.maxWidth=e,this.maxHeight=r,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Qe(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(s=>e.filter(s,this.chart.data))),e.sort&&(r=r.sort((s,o)=>e.sort(s,o,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,o=It(s.font),l=o.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=Wm(s,l);let p,m;r.font=o.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(c,l,u,h)+10):(m=this.maxHeight,p=this._fitCols(c,o,u,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,r,s,o){const{ctx:l,maxWidth:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],m=o+u;let x=e;l.textAlign="left",l.textBaseline="middle";let y=-1,w=-m;return this.legendItems.forEach((v,j)=>{const k=s+r/2+l.measureText(v.text).width;(j===0||p[p.length-1]+k+2*u>c)&&(x+=m,p[p.length-(j>0?0:1)]=0,w+=m,y++),h[j]={left:0,top:w,row:y,width:k,height:o},p[p.length-1]+=k+u}),x}_fitCols(e,r,s,o){const{ctx:l,maxHeight:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],m=c-e;let x=u,y=0,w=0,v=0,j=0;return this.legendItems.forEach((k,_)=>{const{itemWidth:P,itemHeight:T}=n4(s,r,l,k,o);_>0&&w+T+2*u>m&&(x+=y+u,p.push({width:y,height:w}),v+=y+u,j++,y=w=0),h[_]={left:v,top:w,col:j,width:P,height:T},y=Math.max(y,P),w+=T+u}),x+=y,p.push({width:y,height:w}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:s,labels:{padding:o},rtl:l}}=this,c=sa(l,this.left,this.width);if(this.isHorizontal()){let u=0,h=Dt(s,this.left+o,this.right-this.lineWidths[u]);for(const p of r)u!==p.row&&(u=p.row,h=Dt(s,this.left+o,this.right-this.lineWidths[u])),p.top+=this.top+e+o,p.left=c.leftForLtr(c.x(h),p.width),h+=p.width+o}else{let u=0,h=Dt(s,this.top+e+o,this.bottom-this.columnSizes[u].height);for(const p of r)p.col!==u&&(u=p.col,h=Dt(s,this.top+e+o,this.bottom-this.columnSizes[u].height)),p.top=h,p.left+=this.left+o,p.left=c.leftForLtr(c.x(p.left),p.width),h+=p.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Jl(e,this),this._draw(),Ql(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:s,ctx:o}=this,{align:l,labels:c}=e,u=ut.color,h=sa(e.rtl,this.left,this.width),p=It(c.font),{padding:m}=c,x=p.size,y=x/2;let w;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=p.string;const{boxWidth:v,boxHeight:j,itemHeight:k}=Wm(c,x),_=function(W,H,G){if(isNaN(v)||v<=0||isNaN(j)||j<0)return;o.save();const F=Pe(G.lineWidth,1);if(o.fillStyle=Pe(G.fillStyle,u),o.lineCap=Pe(G.lineCap,"butt"),o.lineDashOffset=Pe(G.lineDashOffset,0),o.lineJoin=Pe(G.lineJoin,"miter"),o.lineWidth=F,o.strokeStyle=Pe(G.strokeStyle,u),o.setLineDash(Pe(G.lineDash,[])),c.usePointStyle){const te={radius:j*Math.SQRT2/2,pointStyle:G.pointStyle,rotation:G.rotation,borderWidth:F},z=h.xPlus(W,v/2),q=H+y;wx(o,te,z,q,c.pointStyleWidth&&v)}else{const te=H+Math.max((x-j)/2,0),z=h.leftForLtr(W,v),q=na(G.borderRadius);o.beginPath(),Object.values(q).some(X=>X!==0)?Il(o,{x:z,y:te,w:v,h:j,radius:q}):o.rect(z,te,v,j),o.fill(),F!==0&&o.stroke()}o.restore()},P=function(W,H,G){Fi(o,G.text,W,H+k/2,p,{strikethrough:G.hidden,textAlign:h.textAlign(G.textAlign)})},T=this.isHorizontal(),L=this._computeTitleHeight();T?w={x:Dt(l,this.left+m,this.right-s[0]),y:this.top+m+L,line:0}:w={x:this.left+m,y:Dt(l,this.top+L+m,this.bottom-r[0].height),line:0},Ex(this.ctx,e.textDirection);const D=k+m;this.legendItems.forEach((W,H)=>{o.strokeStyle=W.fontColor,o.fillStyle=W.fontColor;const G=o.measureText(W.text).width,F=h.textAlign(W.textAlign||(W.textAlign=c.textAlign)),te=v+y+G;let z=w.x,q=w.y;h.setWidth(this.width),T?H>0&&z+te+m>this.right&&(q=w.y+=D,w.line++,z=w.x=Dt(l,this.left+m,this.right-s[w.line])):H>0&&q+D>this.bottom&&(z=w.x=z+r[w.line].width+m,w.line++,q=w.y=Dt(l,this.top+L+m,this.bottom-r[w.line].height));const X=h.x(z);if(_(X,q,W),z=Rk(F,z+v+y,T?z+te:this.right,e.rtl),P(h.x(z),q,W),T)w.x+=te+m;else if(typeof W.text!="string"){const R=p.lineHeight;w.y+=Jx(W,R)+m}else w.y+=D}),Mx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,s=It(r.font),o=wr(r.padding);if(!r.display)return;const l=sa(e.rtl,this.left,this.width),c=this.ctx,u=r.position,h=s.size/2,p=o.top+h;let m,x=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+p,x=Dt(e.align,x,this.right-y);else{const v=this.columnSizes.reduce((j,k)=>Math.max(j,k.height),0);m=p+Dt(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const w=Dt(u,x,x+y);c.textAlign=l.textAlign(eh(u)),c.textBaseline="middle",c.strokeStyle=r.color,c.fillStyle=r.color,c.font=s.string,Fi(c,r.text,w,m,s)}_computeTitleHeight(){const e=this.options.title,r=It(e.font),s=wr(e.padding);return e.display?r.lineHeight+s.height:0}_getLegendItemAt(e,r){let s,o,l;if(sn(e,this.left,this.right)&&sn(r,this.top,this.bottom)){for(l=this.legendHitBoxes,s=0;s<l.length;++s)if(o=l[s],sn(e,o.left,o.left+o.width)&&sn(r,o.top,o.top+o.height))return this.legendItems[s]}return null}handleEvent(e){const r=this.options;if(!i4(e.type,r))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,l=r4(o,s);o&&!l&&Qe(r.onLeave,[e,o,this],this),this._hoveredItem=s,s&&!l&&Qe(r.onHover,[e,s,this],this)}else s&&Qe(r.onClick,[e,s,this],this)}}function n4(t,e,r,s,o){const l=s4(s,t,e,r),c=a4(o,s,e.lineHeight);return{itemWidth:l,itemHeight:c}}function s4(t,e,r,s){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((l,c)=>l.length>c.length?l:c)),e+r.size/2+s.measureText(o).width}function a4(t,e,r){let s=t;return typeof e.text!="string"&&(s=Jx(e,r)),s}function Jx(t,e){const r=t.text?t.text.length:0;return e*r}function i4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var va={id:"legend",_element:Hm,start(t,e,r){const s=t.legend=new Hm({ctx:t.ctx,options:r,chart:t});vr.configure(t,s,r),vr.addBox(t,s)},stop(t){vr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const s=t.legend;vr.configure(t,s,r),s.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const s=e.datasetIndex,o=r.chart;o.isDatasetVisible(s)?(o.hide(s),e.hidden=!0):(o.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:s,textAlign:o,color:l,useBorderRadius:c,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(r?0:void 0),m=wr(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:s||p.pointStyle,rotation:p.rotation,textAlign:o||p.textAlign,borderRadius:c&&(u||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Qx extends hn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const o=gt(s.text)?s.text.length:1;this._padding=wr(s.padding);const l=o*It(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:s,bottom:o,right:l,options:c}=this,u=c.align;let h=0,p,m,x;return this.isHorizontal()?(m=Dt(u,s,l),x=r+e,p=l-s):(c.position==="left"?(m=s+e,x=Dt(u,o,r),h=Ve*-.5):(m=l-e,x=Dt(u,r,o),h=Ve*.5),p=o-r),{titleX:m,titleY:x,maxWidth:p,rotation:h}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const s=It(r.font),l=s.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:h,rotation:p}=this._drawArgs(l);Fi(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:p,textAlign:eh(r.align),textBaseline:"middle",translation:[c,u]})}}function o4(t,e){const r=new Qx({ctx:t.ctx,options:e,chart:t});vr.configure(t,r,e),vr.addBox(t,r),t.titleBlock=r}var wa={id:"title",_element:Qx,start(t,e,r){o4(t,r)},stop(t){const e=t.titleBlock;vr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const s=t.titleBlock;vr.configure(t,s,r),s.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bi={average(t){if(!t.length)return!1;let e,r,s=new Set,o=0,l=0;for(e=0,r=t.length;e<r;++e){const u=t[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();s.add(h.x),o+=h.y,++l}}return l===0||s.size===0?!1:{x:[...s].reduce((u,h)=>u+h)/s.size,y:o/l}},nearest(t,e){if(!t.length)return!1;let r=e.x,s=e.y,o=Number.POSITIVE_INFINITY,l,c,u;for(l=0,c=t.length;l<c;++l){const h=t[l].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),m=Cu(e,p);m<o&&(o=m,u=h)}}if(u){const h=u.tooltipPosition();r=h.x,s=h.y}return{x:r,y:s}}};function Or(t,e){return e&&(gt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Zr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function l4(t,e){const{element:r,datasetIndex:s,index:o}=e,l=t.getDatasetMeta(s).controller,{label:c,value:u}=l.getLabelAndValue(o);return{chart:t,label:c,parsed:l.getParsed(o),raw:t.data.datasets[s].data[o],formattedValue:u,dataset:l.getDataset(),dataIndex:o,datasetIndex:s,element:r}}function Vm(t,e){const r=t.chart.ctx,{body:s,footer:o,title:l}=t,{boxWidth:c,boxHeight:u}=e,h=It(e.bodyFont),p=It(e.titleFont),m=It(e.footerFont),x=l.length,y=o.length,w=s.length,v=wr(e.padding);let j=v.height,k=0,_=s.reduce((L,D)=>L+D.before.length+D.lines.length+D.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,x&&(j+=x*p.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),_){const L=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;j+=w*L+(_-w)*h.lineHeight+(_-1)*e.bodySpacing}y&&(j+=e.footerMarginTop+y*m.lineHeight+(y-1)*e.footerSpacing);let P=0;const T=function(L){k=Math.max(k,r.measureText(L).width+P)};return r.save(),r.font=p.string,He(t.title,T),r.font=h.string,He(t.beforeBody.concat(t.afterBody),T),P=e.displayColors?c+2+e.boxPadding:0,He(s,L=>{He(L.before,T),He(L.lines,T),He(L.after,T)}),P=0,r.font=m.string,He(t.footer,T),r.restore(),k+=v.width,{width:k,height:j}}function c4(t,e){const{y:r,height:s}=e;return r<s/2?"top":r>t.height-s/2?"bottom":"center"}function d4(t,e,r,s){const{x:o,width:l}=s,c=r.caretSize+r.caretPadding;if(t==="left"&&o+l+c>e.width||t==="right"&&o-l-c<0)return!0}function u4(t,e,r,s){const{x:o,width:l}=r,{width:c,chartArea:{left:u,right:h}}=t;let p="center";return s==="center"?p=o<=(u+h)/2?"left":"right":o<=l/2?p="left":o>=c-l/2&&(p="right"),d4(p,t,e,r)&&(p="center"),p}function Um(t,e,r){const s=r.yAlign||e.yAlign||c4(t,r);return{xAlign:r.xAlign||e.xAlign||u4(t,e,r,s),yAlign:s}}function h4(t,e){let{x:r,width:s}=t;return e==="right"?r-=s:e==="center"&&(r-=s/2),r}function f4(t,e,r){let{y:s,height:o}=t;return e==="top"?s+=r:e==="bottom"?s-=o+r:s-=o/2,s}function qm(t,e,r,s){const{caretSize:o,caretPadding:l,cornerRadius:c}=t,{xAlign:u,yAlign:h}=r,p=o+l,{topLeft:m,topRight:x,bottomLeft:y,bottomRight:w}=na(c);let v=h4(e,u);const j=f4(e,h,p);return h==="center"?u==="left"?v+=p:u==="right"&&(v-=p):u==="left"?v-=Math.max(m,y)+o:u==="right"&&(v+=Math.max(x,w)+o),{x:Ft(v,0,s.width-e.width),y:Ft(j,0,s.height-e.height)}}function bl(t,e,r){const s=wr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Ym(t){return Or([],Zr(t))}function p4(t,e,r){return Ms(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function Km(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Zx={beforeTitle:Jr,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,s=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return r[e.dataIndex]}return""},afterTitle:Jr,beforeBody:Jr,beforeLabel:Jr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return $e(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Jr,afterBody:Jr,beforeFooter:Jr,footer:Jr,afterFooter:Jr};function Qt(t,e,r,s){const o=t[e].call(r,s);return typeof o>"u"?Zx[e].call(r,s):o}class Gm extends hn{static positioners=bi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,s=this.options.setContext(this.getContext()),o=s.enabled&&r.options.animation&&s.animations,l=new Tx(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=p4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:s}=r,o=Qt(s,"beforeTitle",this,e),l=Qt(s,"title",this,e),c=Qt(s,"afterTitle",this,e);let u=[];return u=Or(u,Zr(o)),u=Or(u,Zr(l)),u=Or(u,Zr(c)),u}getBeforeBody(e,r){return Ym(Qt(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:s}=r,o=[];return He(e,l=>{const c={before:[],lines:[],after:[]},u=Km(s,l);Or(c.before,Zr(Qt(u,"beforeLabel",this,l))),Or(c.lines,Qt(u,"label",this,l)),Or(c.after,Zr(Qt(u,"afterLabel",this,l))),o.push(c)}),o}getAfterBody(e,r){return Ym(Qt(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:s}=r,o=Qt(s,"beforeFooter",this,e),l=Qt(s,"footer",this,e),c=Qt(s,"afterFooter",this,e);let u=[];return u=Or(u,Zr(o)),u=Or(u,Zr(l)),u=Or(u,Zr(c)),u}_createItems(e){const r=this._active,s=this.chart.data,o=[],l=[],c=[];let u=[],h,p;for(h=0,p=r.length;h<p;++h)u.push(l4(this.chart,r[h]));return e.filter&&(u=u.filter((m,x,y)=>e.filter(m,x,y,s))),e.itemSort&&(u=u.sort((m,x)=>e.itemSort(m,x,s))),He(u,m=>{const x=Km(e.callbacks,m);o.push(Qt(x,"labelColor",this,m)),l.push(Qt(x,"labelPointStyle",this,m)),c.push(Qt(x,"labelTextColor",this,m))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=u,u}update(e,r){const s=this.options.setContext(this.getContext()),o=this._active;let l,c=[];if(!o.length)this.opacity!==0&&(l={opacity:0});else{const u=bi[s.position].call(this,o,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const h=this._size=Vm(this,s),p=Object.assign({},u,h),m=Um(this.chart,s,p),x=qm(s,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,l={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,s,o){const l=this.getCaretPosition(e,s,o);r.lineTo(l.x1,l.y1),r.lineTo(l.x2,l.y2),r.lineTo(l.x3,l.y3)}getCaretPosition(e,r,s){const{xAlign:o,yAlign:l}=this,{caretSize:c,cornerRadius:u}=s,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:x}=na(u),{x:y,y:w}=e,{width:v,height:j}=r;let k,_,P,T,L,D;return l==="center"?(L=w+j/2,o==="left"?(k=y,_=k-c,T=L+c,D=L-c):(k=y+v,_=k+c,T=L-c,D=L+c),P=k):(o==="left"?_=y+Math.max(h,m)+c:o==="right"?_=y+v-Math.max(p,x)-c:_=this.caretX,l==="top"?(T=w,L=T-c,k=_-c,P=_+c):(T=w+j,L=T+c,k=_+c,P=_-c),D=T),{x1:k,x2:_,x3:P,y1:T,y2:L,y3:D}}drawTitle(e,r,s){const o=this.title,l=o.length;let c,u,h;if(l){const p=sa(s.rtl,this.x,this.width);for(e.x=bl(this,s.titleAlign,s),r.textAlign=p.textAlign(s.titleAlign),r.textBaseline="middle",c=It(s.titleFont),u=s.titleSpacing,r.fillStyle=s.titleColor,r.font=c.string,h=0;h<l;++h)r.fillText(o[h],p.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,h+1===l&&(e.y+=s.titleMarginBottom-u)}}_drawColorBox(e,r,s,o,l){const c=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:h,boxWidth:p}=l,m=It(l.bodyFont),x=bl(this,"left",l),y=o.x(x),w=h<m.lineHeight?(m.lineHeight-h)/2:0,v=r.y+w;if(l.usePointStyle){const j={radius:Math.min(p,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},k=o.leftForLtr(y,p)+p/2,_=v+h/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,Mu(e,j,k,_),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Mu(e,j,k,_)}else{e.lineWidth=Te(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const j=o.leftForLtr(y,p),k=o.leftForLtr(o.xPlus(y,1),p-2),_=na(c.borderRadius);Object.values(_).some(P=>P!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,Il(e,{x:j,y:v,w:p,h,radius:_}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Il(e,{x:k,y:v+1,w:p-2,h:h-2,radius:_}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(j,v,p,h),e.strokeRect(j,v,p,h),e.fillStyle=c.backgroundColor,e.fillRect(k,v+1,p-2,h-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,r,s){const{body:o}=this,{bodySpacing:l,bodyAlign:c,displayColors:u,boxHeight:h,boxWidth:p,boxPadding:m}=s,x=It(s.bodyFont);let y=x.lineHeight,w=0;const v=sa(s.rtl,this.x,this.width),j=function(G){r.fillText(G,v.x(e.x+w),e.y+y/2),e.y+=y+l},k=v.textAlign(c);let _,P,T,L,D,W,H;for(r.textAlign=c,r.textBaseline="middle",r.font=x.string,e.x=bl(this,k,s),r.fillStyle=s.bodyColor,He(this.beforeBody,j),w=u&&k!=="right"?c==="center"?p/2+m:p+2+m:0,L=0,W=o.length;L<W;++L){for(_=o[L],P=this.labelTextColors[L],r.fillStyle=P,He(_.before,j),T=_.lines,u&&T.length&&(this._drawColorBox(r,e,L,v,s),y=Math.max(x.lineHeight,h)),D=0,H=T.length;D<H;++D)j(T[D]),y=x.lineHeight;He(_.after,j)}w=0,y=x.lineHeight,He(this.afterBody,j),e.y-=l}drawFooter(e,r,s){const o=this.footer,l=o.length;let c,u;if(l){const h=sa(s.rtl,this.x,this.width);for(e.x=bl(this,s.footerAlign,s),e.y+=s.footerMarginTop,r.textAlign=h.textAlign(s.footerAlign),r.textBaseline="middle",c=It(s.footerFont),r.fillStyle=s.footerColor,r.font=c.string,u=0;u<l;++u)r.fillText(o[u],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+s.footerSpacing}}drawBackground(e,r,s,o){const{xAlign:l,yAlign:c}=this,{x:u,y:h}=e,{width:p,height:m}=s,{topLeft:x,topRight:y,bottomLeft:w,bottomRight:v}=na(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(u+x,h),c==="top"&&this.drawCaret(e,r,s,o),r.lineTo(u+p-y,h),r.quadraticCurveTo(u+p,h,u+p,h+y),c==="center"&&l==="right"&&this.drawCaret(e,r,s,o),r.lineTo(u+p,h+m-v),r.quadraticCurveTo(u+p,h+m,u+p-v,h+m),c==="bottom"&&this.drawCaret(e,r,s,o),r.lineTo(u+w,h+m),r.quadraticCurveTo(u,h+m,u,h+m-w),c==="center"&&l==="left"&&this.drawCaret(e,r,s,o),r.lineTo(u,h+x),r.quadraticCurveTo(u,h,u+x,h),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,s=this.$animations,o=s&&s.x,l=s&&s.y;if(o||l){const c=bi[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=Vm(this,e),h=Object.assign({},c,this._size),p=Um(r,e,h),m=qm(e,h,p,r);(o._to!==m.x||l._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(r);const o={width:this.width,height:this.height},l={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=wr(r.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&u&&(e.save(),e.globalAlpha=s,this.drawBackground(l,e,o,r),Ex(e,r.textDirection),l.y+=c.top,this.drawTitle(l,e,r),this.drawBody(l,e,r),this.drawFooter(l,e,r),Mx(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const s=this._active,o=e.map(({datasetIndex:u,index:h})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[h],index:h}}),l=!Dl(s,o),c=this._positionChanged(o,r);(l||c)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,s=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,l=this._active||[],c=this._getActiveElements(e,l,r,s),u=this._positionChanged(c,e),h=r||!Dl(c,l)||u;return h&&(this._active=c,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),h}_getActiveElements(e,r,s,o){const l=this.options;if(e.type==="mouseout")return[];if(!o)return r.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,l.mode,l,s);return l.reverse&&c.reverse(),c}_positionChanged(e,r){const{caretX:s,caretY:o,options:l}=this,c=bi[l.position].call(this,e,r);return c!==!1&&(s!==c.x||o!==c.y)}}var ka={id:"tooltip",_element:Gm,positioners:bi,afterInit(t,e,r){r&&(t.tooltip=new Gm({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Zx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const m4=(t,e,r,s)=>(typeof e=="string"?(r=t.push(e)-1,s.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function g4(t,e,r,s){const o=t.indexOf(e);if(o===-1)return m4(t,e,r,s);const l=t.lastIndexOf(e);return o!==l?r:o}const x4=(t,e)=>t===null?null:Ft(Math.round(t),0,e);function Xm(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ja extends ba{static id="category";static defaults={ticks:{callback:Xm}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const s=this.getLabels();for(const{index:o,label:l}of r)s[o]===l&&s.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,r){if($e(e))return null;const s=this.getLabels();return r=isFinite(r)&&s[r]===e?r:g4(s,e,Pe(r,e),this._addedLabels),x4(r,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:s,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),r||(o=this.getLabels().length-1)),this.min=s,this.max=o}buildTicks(){const e=this.min,r=this.max,s=this.options.offset,o=[];let l=this.getLabels();l=e===0&&r===l.length-1?l:l.slice(e,r+1),this._valueRange=Math.max(l.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=e;c<=r;c++)o.push({value:c});return o}getLabelForValue(e){return Xm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function b4(t,e){const r=[],{bounds:o,step:l,min:c,max:u,precision:h,count:p,maxTicks:m,maxDigits:x,includeBounds:y}=t,w=l||1,v=m-1,{min:j,max:k}=e,_=!$e(c),P=!$e(u),T=!$e(p),L=(k-j)/(x+1);let D=qp((k-j)/v/w)*w,W,H,G,F;if(D<1e-14&&!_&&!P)return[{value:j},{value:k}];F=Math.ceil(k/D)-Math.floor(j/D),F>v&&(D=qp(F*D/v/w)*w),$e(h)||(W=Math.pow(10,h),D=Math.ceil(D*W)/W),o==="ticks"?(H=Math.floor(j/D)*D,G=Math.ceil(k/D)*D):(H=j,G=k),_&&P&&l&&kk((u-c)/l,D/1e3)?(F=Math.round(Math.min((u-c)/D,m)),D=(u-c)/F,H=c,G=u):T?(H=_?c:H,G=P?u:G,F=p-1,D=(G-H)/F):(F=(G-H)/D,ki(F,Math.round(F),D/1e3)?F=Math.round(F):F=Math.ceil(F));const te=Math.max(Yp(D),Yp(H));W=Math.pow(10,$e(h)?te:h),H=Math.round(H*W)/W,G=Math.round(G*W)/W;let z=0;for(_&&(y&&H!==c?(r.push({value:c}),H<c&&z++,ki(Math.round((H+z*D)*W)/W,c,Jm(c,L,t))&&z++):H<c&&z++);z<F;++z){const q=Math.round((H+z*D)*W)/W;if(P&&q>u)break;r.push({value:q})}return P&&y&&G!==u?r.length&&ki(r[r.length-1].value,u,Jm(u,L,t))?r[r.length-1].value=u:r.push({value:u}):(!P||G===u)&&r.push({value:G}),r}function Jm(t,e,{horizontal:r,minRotation:s}){const o=nn(s),l=(r?Math.sin(o):Math.cos(o))||.001,c=.75*e*(""+t).length;return Math.min(e/l,c)}class y4 extends ba{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return $e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:s}=this.getUserBounds();let{min:o,max:l}=this;const c=h=>o=r?o:h,u=h=>l=s?l:h;if(e){const h=zr(o),p=zr(l);h<0&&p<0?u(0):h>0&&p>0&&c(0)}if(o===l){let h=l===0?1:Math.abs(l*.05);u(l+h),e||c(o-h)}this.min=o,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:s}=e,o;return s?(o=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),r=r||11),r&&(o=Math.min(r,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const o={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},l=this._range||this,c=b4(o,l);return e.bounds==="ticks"&&jk(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let r=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const o=(s-r)/Math.max(e.length-1,1)/2;r-=o,s+=o}this._startValue=r,this._endValue=s,this._valueRange=s-r}getLabelForValue(e){return rh(e,this.chart.options.locale,this.options.ticks.format)}}class Na extends y4{static id="linear";static defaults={ticks:{callback:vx.formatters.numeric}};determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=zt(e)?e:0,this.max=zt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,s=nn(this.options.ticks.minRotation),o=(e?Math.sin(s):Math.cos(s))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,l.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const sc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zt=Object.keys(sc);function Qm(t,e){return t-e}function Zm(t,e){if($e(e))return null;const r=t._adapter,{parser:s,round:o,isoWeekday:l}=t._parseOpts;let c=e;return typeof s=="function"&&(c=s(c)),zt(c)||(c=typeof s=="string"?r.parse(c,s):r.parse(c)),c===null?null:(o&&(c=o==="week"&&(Ti(l)||l===!0)?r.startOf(c,"isoWeek",l):r.startOf(c,o)),+c)}function eg(t,e,r,s){const o=Zt.length;for(let l=Zt.indexOf(t);l<o-1;++l){const c=sc[Zt[l]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((r-e)/(u*c.size))<=s)return Zt[l]}return Zt[o-1]}function v4(t,e,r,s,o){for(let l=Zt.length-1;l>=Zt.indexOf(r);l--){const c=Zt[l];if(sc[c].common&&t._adapter.diff(o,s,c)>=e-1)return c}return Zt[r?Zt.indexOf(r):0]}function w4(t){for(let e=Zt.indexOf(t)+1,r=Zt.length;e<r;++e)if(sc[Zt[e]].common)return Zt[e]}function tg(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:s,hi:o}=Zu(r,e),l=r[s]>=e?r[s]:r[o];t[l]=!0}}function k4(t,e,r,s){const o=t._adapter,l=+o.startOf(e[0].value,s),c=e[e.length-1].value;let u,h;for(u=l;u<=c;u=+o.add(u,1,s))h=r[u],h>=0&&(e[h].major=!0);return e}function rg(t,e,r){const s=[],o={},l=e.length;let c,u;for(c=0;c<l;++c)u=e[c],o[u]=c,s.push({value:u,major:!1});return l===0||!r?s:k4(t,s,o,r)}class ng extends ba{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const s=e.time||(e.time={}),o=this._adapter=new lN._date(e.adapters.date);o.init(r),wi(s.displayFormats,o.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:Zm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,s=e.time.unit||"day";let{min:o,max:l,minDefined:c,maxDefined:u}=this.getUserBounds();function h(p){!c&&!isNaN(p.min)&&(o=Math.min(o,p.min)),!u&&!isNaN(p.max)&&(l=Math.max(l,p.max))}(!c||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=zt(o)&&!isNaN(o)?o:+r.startOf(Date.now(),s),l=zt(l)&&!isNaN(l)?l:+r.endOf(Date.now(),s)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],s=e[e.length-1]),{min:r,max:s}}buildTicks(){const e=this.options,r=e.time,s=e.ticks,o=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const l=this.min,c=this.max,u=Ek(o,l,c);return this._unit=r.unit||(s.autoSkip?eg(r.minUnit,this.min,this.max,this._getLabelCapacity(l)):v4(this,u.length,r.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:w4(this._unit),this.initOffsets(o),e.reverse&&u.reverse(),rg(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,s=0,o,l;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?r=1-o:r=(this.getDecimalForValue(e[1])-o)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?s=l:s=(l-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;r=Ft(r,0,c),s=Ft(s,0,c),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const e=this._adapter,r=this.min,s=this.max,o=this.options,l=o.time,c=l.unit||eg(l.minUnit,r,s,this._getLabelCapacity(r)),u=Pe(o.ticks.stepSize,1),h=c==="week"?l.isoWeekday:!1,p=Ti(h)||h===!0,m={};let x=r,y,w;if(p&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,p?"day":c),e.diff(s,r,c)>1e5*u)throw new Error(r+" and "+s+" are too far apart with stepSize of "+u+" "+c);const v=o.ticks.source==="data"&&this.getDataTimestamps();for(y=x,w=0;y<s;y=+e.add(y,u,c),w++)tg(m,y,v);return(y===s||o.bounds==="ticks"||w===1)&&tg(m,y,v),Object.keys(m).sort(Qm).map(j=>+j)}getLabelForValue(e){const r=this._adapter,s=this.options.time;return s.tooltipFormat?r.format(e,s.tooltipFormat):r.format(e,s.displayFormats.datetime)}format(e,r){const o=this.options.time.displayFormats,l=this._unit,c=r||o[l];return this._adapter.format(e,c)}_tickFormatFunction(e,r,s,o){const l=this.options,c=l.ticks.callback;if(c)return Qe(c,[e,r,s],this);const u=l.time.displayFormats,h=this._unit,p=this._majorUnit,m=h&&u[h],x=p&&u[p],y=s[r],w=p&&x&&y&&y.major;return this._adapter.format(e,o||(w?x:m))}generateTickLabels(e){let r,s,o;for(r=0,s=e.length;r<s;++r)o=e[r],o.label=this._tickFormatFunction(o.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+s)*r.factor)}getValueForPixel(e){const r=this._offsets,s=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,s=this.ctx.measureText(e).width,o=nn(this.isHorizontal()?r.maxRotation:r.minRotation),l=Math.cos(o),c=Math.sin(o),u=this._resolveTickFontOptions(0).size;return{w:s*l+u*c,h:s*c+u*l}}_getLabelCapacity(e){const r=this.options.time,s=r.displayFormats,o=s[r.unit]||s.millisecond,l=this._tickFormatFunction(e,0,rg(this,[e],this._majorUnit),o),c=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],r,s;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,s=o.length;r<s;++r)e=e.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,s;if(e.length)return e;const o=this.getLabels();for(r=0,s=o.length;r<s;++r)e.push(Zm(this,o[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return xx(e.sort(Qm))}}function yl(t,e,r){let s=0,o=t.length-1,l,c,u,h;r?(e>=t[s].pos&&e<=t[o].pos&&({lo:s,hi:o}=ps(t,"pos",e)),{pos:l,time:u}=t[s],{pos:c,time:h}=t[o]):(e>=t[s].time&&e<=t[o].time&&({lo:s,hi:o}=ps(t,"time",e)),{time:l,pos:u}=t[s],{time:c,pos:h}=t[o]);const p=c-l;return p?u+(h-u)*(e-l)/p:u}class uS extends ng{static id="timeseries";static defaults=ng.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=yl(r,this.min),this._tableRange=yl(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:s}=this,o=[],l=[];let c,u,h,p,m;for(c=0,u=e.length;c<u;++c)p=e[c],p>=r&&p<=s&&o.push(p);if(o.length<2)return[{time:r,pos:0},{time:s,pos:1}];for(c=0,u=o.length;c<u;++c)m=o[c+1],h=o[c-1],p=o[c],Math.round((m+h)/2)!==p&&l.push({time:p,pos:c/(u-1)});return l}_generate(){const e=this.min,r=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(r)||s.length===1)&&s.push(r),s.sort((o,l)=>o-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),s=this.getLabelTimestamps();return r.length&&s.length?e=this.normalize(r.concat(s)):e=r.length?r:s,e=this._cache.all=e,e}getDecimalForValue(e){return(yl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,s=this.getDecimalForPixel(e)/r.factor-r.end;return yl(this._table,s*this._tableRange+this._minPos,!0)}}const eb="label";function sg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function j4(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function tb(t,e){t.labels=e}function rb(t,e,r=eb){const s=[];t.datasets=e.map(o=>{const l=t.datasets.find(c=>c[r]===o[r]);return!l||!o.data||s.includes(l)?{...o}:(s.push(l),Object.assign(l,o),l)})}function N4(t,e=eb){const r={labels:[],datasets:[]};return tb(r,t.labels),rb(r,t.datasets,e),r}function S4(t,e){const{height:r=150,width:s=300,redraw:o=!1,datasetIdKey:l,type:c,data:u,options:h,plugins:p=[],fallbackContent:m,updateMode:x,...y}=t,w=M.useRef(null),v=M.useRef(null),j=()=>{w.current&&(v.current=new fn(w.current,{type:c,data:N4(u,l),options:h&&{...h},plugins:p}),sg(e,v.current))},k=()=>{sg(e,null),v.current&&(v.current.destroy(),v.current=null)};return M.useEffect(()=>{!o&&v.current&&h&&j4(v.current,h)},[o,h]),M.useEffect(()=>{!o&&v.current&&tb(v.current.config.data,u.labels)},[o,u.labels]),M.useEffect(()=>{!o&&v.current&&u.datasets&&rb(v.current.config.data,u.datasets,l)},[o,u.datasets]),M.useEffect(()=>{v.current&&(o?(k(),setTimeout(j)):v.current.update(x))},[o,h,u.labels,u.datasets,x]),M.useEffect(()=>{v.current&&(k(),setTimeout(j))},[c]),M.useEffect(()=>(j(),()=>k()),[]),i.jsx("canvas",{ref:w,role:"img",height:r,width:s,...y,children:m})}const _4=M.forwardRef(S4);function uh(t,e){return fn.register(e),M.forwardRef((r,s)=>i.jsx(_4,{...r,ref:s,type:t}))}const fa=uh("line",oN),Wl=uh("bar",sN),hh=uh("doughnut",iN);function C4(t,e){if(typeof t!="string")return`rgba(100, 150, 255, ${e})`;if(t.startsWith("#")){let r=t.slice(1);r.length===3&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);const s=parseInt(r.slice(0,2),16),o=parseInt(r.slice(2,4),16),l=parseInt(r.slice(4,6),16);return`rgba(${s}, ${o}, ${l}, ${e})`}return t.startsWith("rgb(")?t.replace("rgb(","rgba(").replace(")",`, ${e})`):t.startsWith("rgba(")?t.replace(/,\s*[\d.]+\)$/,`, ${e})`):`rgba(100, 150, 255, ${e})`}const Tu={id:"streamingBar",afterDatasetDraw(t,e){try{const{ctx:r}=t,s=t.getDatasetMeta(e.index);if(s.type!=="bar")return;const o=Date.now(),l=t.options?.indexAxis==="y";s.data.forEach(c=>{let u,h,p,m;if(l){const{x,y,width:w,height:v,base:j}=c.getProps(["x","y","width","height","base"]);u=Math.min(j,x),p=Math.max(j,x)-u,h=y-v/2,m=v}else{const{x,y,width:w,base:v}=c.getProps(["x","y","width","base"]);p=w,u=x-w/2,h=Math.min(y,v),m=Math.abs(v-y)}if(!(p<3||m<3||isNaN(p)||isNaN(m))){r.save();try{r.beginPath(),r.rect(u,h,p,m),r.clip();const x=16,w=o*.04%(x*2);r.strokeStyle="rgba(255,255,255,0.16)",r.lineWidth=2.5;const v=Math.max(p,m);for(let k=-v-x*2;k<v+x*4;k+=x){const _=u+k+w;r.beginPath(),r.moveTo(_,h+m),r.lineTo(_+m*.6,h),r.stroke()}const j=o*3e-4%1;if(l){const k=u+j*p,_=r.createRadialGradient(k,h+m/2,0,k,h+m/2,p*.18);_.addColorStop(0,"rgba(255,255,255,0.2)"),_.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=_,r.fillRect(u,h,p,m)}else{const k=h+m-j*m,_=r.createRadialGradient(u+p/2,k,0,u+p/2,k,m*.2);_.addColorStop(0,"rgba(255,255,255,0.22)"),_.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=_,r.fillRect(u,h,p,m)}}finally{r.restore()}}})}catch{}}},Du={id:"streamingLine",afterDatasetDraw(t,e){if(e.index===0)try{const{ctx:r}=t,s=t.getDatasetMeta(0),o=Date.now(),l=s.data;if(l.length<2)return;r.save();const c=Math.sin(o*.003)*.5+.5,u=s._dataset?.borderColor||"#3b82f6";l.forEach((v,j)=>{const k=v.x,_=v.y;if(isNaN(k)||isNaN(_))return;const P=6+c*6,T=.15+c*.1,L=r.createRadialGradient(k,_,0,k,_,P);L.addColorStop(0,`rgba(255,255,255,${T+.1})`),L.addColorStop(.5,C4(u,T)),L.addColorStop(1,"rgba(255,255,255,0)"),r.beginPath(),r.arc(k,_,P,0,Math.PI*2),r.fillStyle=L,r.fill()});const h=l.length-1,m=o*4e-4%1*h,x=Math.floor(m),y=Math.min(x+1,h),w=m-x;if(x<l.length&&y<l.length){const v=l[x].x+(l[y].x-l[x].x)*w,j=l[x].y+(l[y].y-l[x].y)*w;if(!isNaN(v)&&!isNaN(j)){const k=r.createRadialGradient(v,j,0,v,j,30);k.addColorStop(0,"rgba(255,255,255,0.35)"),k.addColorStop(.4,"rgba(139,92,246,0.15)"),k.addColorStop(1,"rgba(255,255,255,0)"),r.beginPath(),r.arc(v,j,30,0,Math.PI*2),r.fillStyle=k,r.fill()}}r.restore()}catch{}}},nb={id:"streamingDoughnut",afterDatasetDraw(t,e){if(e.index===0)try{const{ctx:r,chartArea:s}=t;if(!s)return;const o=Date.now(),c=t.getDatasetMeta(0).data;if(c.length===0)return;r.save();const u=(s.left+s.right)/2,h=(s.top+s.bottom)/2,p=c[0]?.outerRadius||80,m=c[0]?.innerRadius||50,x=o*.001%(Math.PI*2),y=Math.PI*.3;r.beginPath(),r.arc(u,h,(p+m)/2,x,x+y),r.lineWidth=(p-m)*.9,r.strokeStyle="rgba(255,255,255,0)";const w=u+Math.cos(x)*p,v=h+Math.sin(x)*p,j=u+Math.cos(x+y)*p,k=h+Math.sin(x+y)*p,_=r.createLinearGradient(w,v,j,k);_.addColorStop(0,"rgba(255,255,255,0)"),_.addColorStop(.5,"rgba(255,255,255,0.18)"),_.addColorStop(1,"rgba(255,255,255,0)"),r.strokeStyle=_,r.stroke();const P=Math.sin(o*.003)*.5+.5;c.forEach(T=>{const L=T.startAngle,D=T.endAngle,W=(L+D)/2,H=(p+m)/2,G=u+Math.cos(W)*H,F=h+Math.sin(W)*H,te=3+P*3,z=r.createRadialGradient(G,F,0,G,F,te);z.addColorStop(0,`rgba(255,255,255,${.25+P*.15})`),z.addColorStop(1,"rgba(255,255,255,0)"),r.beginPath(),r.arc(G,F,te,0,Math.PI*2),r.fillStyle=z,r.fill()}),r.restore()}catch{}}};function Hn(t){let e;const r=()=>{try{t.current&&t.current.canvas&&t.current.draw()}catch{}e=requestAnimationFrame(r)};return e=requestAnimationFrame(r),()=>cancelAnimationFrame(e)}fn.register(ja,Na,ya,qi,Un,wa,ka,va,dh,nc);function E4(){const[t,e]=M.useState(null),[r,s]=M.useState(!0),o=$r(),{isDynamic:l,dataAccessEnabled:c}=un(),{user:u}=xt(),{dark:h}=Vn(),p=u?.email==="maarzoukrayan3@gmail.com",m=p||l,x=c||p,y=h&&!p?"#94a3b8":"#64748b",w=h&&!p?"rgba(148, 163, 184, 0.1)":"rgba(226, 232, 240, 0.5)",v=M.useRef(null),j=M.useRef(null);M.useEffect(()=>{k()},[]),M.useEffect(()=>{if(!m)return;const he=Hn(v),V=p?Hn(j):()=>{};return()=>{he(),V()}},[r,m,p]);const k=async()=>{try{const he=await xa();e(he.data)}catch(he){console.error(he)}finally{s(!1)}},_=he=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(he||0),P=he=>{if(!he)return"";const V=he.substring(0,4),pe=he.substring(4,6);return`${["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"][parseInt(pe)-1]} ${V}`},T=t?.caMensuel||[],L=[...new Set(T.map(he=>he._id.mois))].sort(),D=[...new Set(T.map(he=>he._id.praticien))],W=t?.practitioners?.length||0,H=L.slice(-12),G=H.map(he=>T.filter(V=>V._id.mois===he).reduce((V,pe)=>V+(pe.totalFacture||0),0)),F=H.map(he=>T.filter(V=>V._id.mois===he).reduce((V,pe)=>V+(pe.totalEncaisse||0),0)),te=ju(G,3,"#f59e0b"),z=ws(G,3),q=oa(G,"chiffre d'affaires"),X=[];if(H.length>0){const he=H[H.length-1],V=parseInt(he.substring(0,4)),pe=parseInt(he.substring(4,6));for(let Le=1;Le<=3;Le++){const Ze=pe+Le,ft=V+Math.floor((Ze-1)/12),Ge=(Ze-1)%12+1;X.push(P(`${ft}${String(Ge).padStart(2,"0")}01`))}}const I={labels:[...H.map(P),...X],datasets:[{label:"Factur",data:[...G,...new Array(3).fill(null)],borderColor:"#8b5cf6",backgroundColor:he=>{const V=he.chart,{ctx:pe,chartArea:Le}=V;if(!Le)return"rgba(139, 92, 246, 0.1)";const Ze=pe.createLinearGradient(0,Le.top,0,Le.bottom);return Ze.addColorStop(0,"rgba(139, 92, 246, 0.25)"),Ze.addColorStop(1,"rgba(139, 92, 246, 0.02)"),Ze},fill:!0,tension:.4,borderWidth:2.5,pointRadius:4,pointHoverRadius:7,pointBackgroundColor:"#ffffff",pointBorderColor:"#8b5cf6",pointBorderWidth:2,pointHoverBackgroundColor:"#8b5cf6",pointHoverBorderColor:"#ffffff",pointHoverBorderWidth:3},{label:"Encaiss",data:[...F,...new Array(3).fill(null)],borderColor:"#3b82f6",backgroundColor:he=>{const V=he.chart,{ctx:pe,chartArea:Le}=V;if(!Le)return"rgba(59, 130, 246, 0.1)";const Ze=pe.createLinearGradient(0,Le.top,0,Le.bottom);return Ze.addColorStop(0,"rgba(59, 130, 246, 0.18)"),Ze.addColorStop(1,"rgba(59, 130, 246, 0.02)"),Ze},fill:!0,tension:.4,borderWidth:2.5,pointRadius:4,pointHoverRadius:7,pointBackgroundColor:"#ffffff",pointBorderColor:"#3b82f6",pointBorderWidth:2,pointHoverBackgroundColor:"#3b82f6",pointHoverBorderColor:"#ffffff",pointHoverBorderWidth:3},{...te.dataset,data:[...te.trendData||[],...new Array(3).fill(null)]},{label:"Prvision IA",data:[...new Array(Math.max(0,G.length-1)).fill(null),G.length>0?G[G.length-1]:null,...z],borderColor:"#f59e0b",borderDash:[4,4],borderWidth:2.5,pointRadius:6,pointBackgroundColor:"#ffffff",pointBorderColor:"#f59e0b",pointBorderWidth:2.5,pointStyle:"triangle",fill:!1,tension:.3}]},S=t?.caByPractitioner?.reduce((he,V)=>he+V.totalFacture,0)||0,J=t?.caByPractitioner?.reduce((he,V)=>he+V.totalPatients,0)||0;t?.heuresByPractitioner?.reduce((he,V)=>he+V.totalMinutes/60,0);const U=["#8b5cf6","#3b82f6","#f59e0b","#ec4899","#10b981","#ef4444"],re={labels:D.map(he=>`Dr. ${he}`),datasets:[{data:t?.caByPractitioner?.map(he=>he.totalFacture)||[],backgroundColor:D.map((he,V)=>U[V%U.length]),hoverBackgroundColor:D.map((he,V)=>U[V%U.length]+"dd"),borderWidth:4,borderColor:p?"#ffffff":h?"#1e293b":"#ffffff",hoverBorderWidth:2,hoverOffset:12}]},Z=(t?.caByPractitioner||[]).reduce((he,V)=>he+(V.totalEncaisse||0),0),E=Math.min(t?.totalReports||0,W)||W,Y=Math.min(t?.reportsEnvoyes||0,W)||W,ce=t?.trendCA,le=t?.trendPatients,fe=t?.totalAbsences||0,ge=t?.totalPresences||0,_e=fe+ge,de=(t?.caByPractitioner||[]).filter(he=>(he.totalFacture>0?he.totalEncaisse/he.totalFacture*100:100)<85).length,ae=t?.reportsEnvoyes||0,Me=m&&!r,Be=De(Math.round(S),2200,Me),Oe=De(J,1800,Me),ot=De(E,1200,Me),$t=De(Y,1200,Me),Et=De(fe,1400,Me),lr=De(ge,1400,Me),ie=De(de,1e3,Me),be=De(ae,1e3,Me),Re=De(Math.round(S),2400,Me),tt=De(Math.round(Z),2400,Me),Ye=De(S>0?Math.round(Z/S*100):0,1800,Me),Ut=M.useMemo(()=>{if(!t)return 0;const he=S>0?Z/S*100:0,V=_e>0?ge/_e*100:0,pe=ce!==null&&ce>=0?Math.min(100,60+ce):40;return Math.round(he*.35+V*.3+pe*.35)},[t,S,Z,_e,ge,ce]),jt=De(Ut,2e3,Me),cr=[{time:"Il y a 2 min",action:"Analyse prdictive CA",model:"Rgression + Holt"},{time:"Il y a 5 min",action:"Dtection d'anomalies",model:"Z-Score"},{time:"Il y a 12 min",action:"Scoring sant cabinets",model:"Multi-KPI"},{time:"Il y a 28 min",action:"Prvision trimestrielle",model:"Holt-Winters"},{time:"Il y a 45 min",action:"Optimisation planning",model:"SMA + OLS"}];return r||!t?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsxs("div",{children:[i.jsx(Vt,{title:"Dashboard Gnral",subtitle:"Vue d'ensemble de tous les cabinets"}),i.jsxs("div",{className:"p-6",children:[p&&i.jsxs("div",{className:"mb-6 relative group",children:[i.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-violet-600/20 via-blue-500/20 to-cyan-500/20 rounded-2xl blur-lg opacity-60 group-hover:opacity-100 transition-opacity duration-700"}),i.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-5 overflow-hidden shadow-sm",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-violet-500 via-blue-500 to-cyan-500"}),i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-500/5 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-blue-500/5 rounded-full blur-3xl"}),i.jsxs("div",{className:"relative flex items-center gap-2 mb-4 pb-3 border-b border-gray-200",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("div",{className:"absolute inset-0 w-2 h-2 bg-green-500 rounded-full animate-ping"})]}),i.jsx("span",{className:"text-[10px] font-bold text-green-600 uppercase tracking-[0.15em]",children:"MOTEUR IA OPRATIONNEL"}),i.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[i.jsx("span",{className:"text-[10px] text-gray-600 font-mono",children:"v2.4.0"}),i.jsx("span",{className:"px-2 py-0.5 bg-violet-500/10 border border-violet-500/20 rounded text-[10px] text-violet-600 font-bold",children:"5 MODLES ACTIFS"})]})]}),i.jsxs("div",{className:"relative grid grid-cols-1 lg:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-violet-500/25",children:i.jsx(qe,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Centre de Commande IA"}),i.jsx("p",{className:"text-[11px] text-gray-500",children:"Intelligence artificielle temps rel"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-3",children:[i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-violet-500/10 border border-violet-500/20 rounded-md text-[9px] font-medium text-violet-600",children:[i.jsx(xs,{className:"w-2.5 h-2.5"})," Rgression OLS"]}),i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-500/10 border border-blue-500/20 rounded-md text-[9px] font-medium text-blue-600",children:[i.jsx(la,{className:"w-2.5 h-2.5"})," Holt-Winters"]}),i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-cyan-500/10 border border-cyan-500/20 rounded-md text-[9px] font-medium text-cyan-600",children:[i.jsx(Ss,{className:"w-2.5 h-2.5"})," Z-Score"]}),i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-amber-500/10 border border-amber-500/20 rounded-md text-[9px] font-medium text-amber-600",children:[i.jsx(Nu,{className:"w-2.5 h-2.5"})," Multi-KPI"]}),i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-500/10 border border-emerald-500/20 rounded-md text-[9px] font-medium text-emerald-600",children:[i.jsx(ks,{className:"w-2.5 h-2.5"})," SMA"]})]})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl border border-gray-100 hover:border-blue-300 transition-colors",children:[i.jsx(Mw,{className:"w-5 h-5 text-blue-500 mx-auto mb-1.5"}),i.jsx("p",{className:"text-xl font-black text-gray-900 tabular-nums",children:D.length}),i.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider mt-0.5",children:"Cabinets"})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl border border-gray-100 hover:border-cyan-300 transition-colors",children:[i.jsx(xs,{className:"w-5 h-5 text-amber-500 mx-auto mb-1.5"}),i.jsxs("p",{className:"text-xl font-black text-cyan-600 tabular-nums",children:[jt,i.jsx("span",{className:"text-sm text-gray-400",children:"%"})]}),i.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider mt-0.5",children:"Score Sant"})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl border border-gray-100 hover:border-emerald-300 transition-colors",children:[i.jsx(Ss,{className:"w-5 h-5 text-emerald-500 mx-auto mb-1.5"}),i.jsxs("p",{className:"text-xl font-black text-emerald-600 tabular-nums",children:["97",i.jsx("span",{className:"text-sm text-gray-400",children:"%"})]}),i.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider mt-0.5",children:"Fiabilit"})]})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("h2",{className:`text-2xl font-bold ${p?"text-white":"text-gray-900 dark:text-white"}`,children:["Bonjour ",u?.name?.split(" ")[0]==="Mr"||u?.name?.split(" ")[0]==="Mr."?u.name:u?.name?.split(" ")[0]||"Admin"," "]}),i.jsx("p",{className:`text-sm mt-1 ${p?"text-gray-400":"text-gray-500 dark:text-gray-400"}`,children:p?i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(qe,{className:"w-3.5 h-3.5 text-violet-400"}),"Votre IA analyse vos cabinets en temps rel"]}):"Bienvenue sur votre tableau de bord"})]}),i.jsx("div",{className:`relative overflow-hidden rounded-2xl mb-6 transition-colors ${p?"bg-white border border-gray-200 shadow-sm":"bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700"}`,style:{height:"120px"},children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("h2",{className:`text-4xl font-black tracking-[0.08em] ${p?"text-blue-600":"text-[#2956b2] dark:text-blue-400"}`,style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:[i.jsx("span",{style:{letterSpacing:"0.02em"},children:""}),"FFICI",i.jsx("span",{style:{letterSpacing:"0.02em"},children:""}),"NC",i.jsx("span",{style:{letterSpacing:"0.02em"},children:""})]}),i.jsx("p",{className:`text-[11px] mt-1 tracking-[0.05em] ${p?"text-blue-500":"text-[#5a7cbf] dark:text-blue-300"}`,style:{fontFamily:"system-ui, sans-serif"},children:"L'accompagnement personnalis de votre cabinet dentaire"})]})})}),p&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-5 mb-6",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-br from-emerald-500/20 to-cyan-500/20 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative bg-white border border-gray-200 shadow-sm rounded-2xl p-5 h-full flex flex-col items-center justify-center",children:[i.jsxs("div",{className:"relative w-28 h-28 mb-3",children:[i.jsxs("svg",{className:"w-28 h-28 -rotate-90",viewBox:"0 0 120 120",children:[i.jsx("circle",{cx:"60",cy:"60",r:"52",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),i.jsx("circle",{cx:"60",cy:"60",r:"52",fill:"none",stroke:"url(#scoreGradient)",strokeWidth:"8",strokeLinecap:"round",style:{strokeDasharray:`${jt*3.27} 327`}}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"scoreGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[i.jsx("stop",{offset:"0%",stopColor:"#10b981"}),i.jsx("stop",{offset:"50%",stopColor:"#06b6d4"}),i.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})})]}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-black text-gray-900 tabular-nums",children:jt}),i.jsx("span",{className:"text-[10px] text-gray-400 font-medium",children:"/ 100"})]})]}),i.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Score Sant IA"}),i.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5",children:"Indice de performance global"})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-2xl p-5 hover:border-violet-400/40 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"p-1.5 bg-violet-500/10 rounded-lg",children:i.jsx(Nu,{className:"w-4 h-4 text-violet-500"})}),i.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Prdictions IA"})]}),i.jsx("div",{className:"space-y-3",children:z.slice(0,3).map((he,V)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-[11px] text-gray-500",children:X[V]}),i.jsx("span",{className:"text-sm font-bold text-amber-600 tabular-nums",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(he)})]},V))}),i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(yr,{className:"w-3.5 h-3.5 text-emerald-500"}),i.jsxs("span",{className:"text-[10px] text-emerald-600 font-medium",children:["Tendance ",ce!==null&&ce>=0?"haussire":"baissire"]})]})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-2xl p-5 hover:border-emerald-400/40 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-lg",children:i.jsx(mt,{className:"w-4 h-4 text-emerald-500"})}),i.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Recouvrement"})]}),i.jsx("div",{className:"text-center mb-3",children:i.jsxs("span",{className:"text-4xl font-black text-gray-900 tabular-nums",children:[Ye,i.jsx("span",{className:"text-lg text-gray-400",children:"%"})]})}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-2",children:i.jsx("div",{className:`h-2.5 rounded-full bg-gradient-to-r from-emerald-500 to-cyan-500 ${m?"transition-all duration-[2000ms] ease-out":""}`,style:{width:`${Ye}%`}})}),i.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500",children:[i.jsxs("span",{children:["Encaiss: ",_(Z)]}),i.jsxs("span",{children:["Factur: ",_(S)]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-2xl p-5 hover:border-blue-400/40 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-lg",children:i.jsx(vt,{className:"w-4 h-4 text-blue-500"})}),i.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Prsences RDV"})]}),i.jsxs("div",{className:"flex items-end gap-4 mb-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-3xl font-black text-emerald-600 tabular-nums",children:lr}),i.jsx("p",{className:"text-[10px] text-gray-500",children:"Prsents"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xl font-bold text-red-500 tabular-nums",children:Et}),i.jsx("p",{className:"text-[10px] text-gray-500",children:"Absents"})]})]}),i.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden flex",children:[i.jsx("div",{className:"h-2 bg-emerald-500 transition-all duration-1000",style:{width:`${_e>0?ge/_e*100:0}%`}}),i.jsx("div",{className:"h-2 bg-red-500 transition-all duration-1000",style:{width:`${_e>0?fe/_e*100:0}%`}})]}),i.jsxs("p",{className:"text-[10px] text-gray-500 mt-2",children:["Taux: ",_e>0?(ge/_e*100).toFixed(1):0,"%"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-6",children:[p?i.jsxs("div",{className:"group rounded-2xl p-5 hover:shadow-xl transition-all duration-500 hover:-translate-y-1 relative overflow-hidden bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 shadow-lg shadow-blue-500/25",children:[i.jsxs("svg",{className:"absolute bottom-0 left-0 w-full opacity-20",viewBox:"0 0 400 80",preserveAspectRatio:"none",children:[i.jsx("path",{d:"M0 60 C50 40, 100 70, 150 50 C200 30, 250 65, 300 45 C350 25, 380 55, 400 40 L400 80 L0 80 Z",fill:"white"}),i.jsx("path",{d:"M0 70 C60 50, 120 75, 180 60 C240 45, 300 70, 360 55 C380 48, 390 58, 400 52 L400 80 L0 80 Z",fill:"white",opacity:"0.5"})]}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-xs font-bold text-blue-100 uppercase tracking-wider",children:"CA Total"}),ce!==null&&i.jsxs("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full flex items-center gap-1 ${ce>=0,"bg-white/20 text-white"}`,children:[ce>=0?i.jsx(yr,{className:"w-3 h-3"}):i.jsx(Pi,{className:"w-3 h-3"}),ce>=0?"+":"",ce,"%"]})]}),i.jsx("p",{className:"text-3xl font-black text-white tabular-nums mb-1",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(Be)}),i.jsx("p",{className:"text-xs text-blue-200",children:"Par rapport  la semaine dernire"})]})]}):i.jsxs("div",{className:"group rounded-2xl p-5 hover:shadow-lg transition-all duration-500 hover:-translate-y-1 relative overflow-hidden bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700 hover:shadow-blue-100/50 dark:hover:shadow-blue-900/30",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 dark:from-blue-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-3 rounded-xl transition-colors bg-blue-50 text-blue-600 group-hover:bg-blue-100",children:i.jsx(mt,{className:"w-6 h-6"})}),ce!==null&&i.jsxs("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${ce>=0?"text-green-500 bg-green-50":"text-red-500 bg-red-50"}`,children:[ce>=0?"+":"",ce,"%"]})]}),i.jsx("p",{className:"text-2xl font-black tabular-nums text-gray-900 dark:text-white",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(Be)}),i.jsx("p",{className:"text-sm mt-1 text-gray-500 dark:text-gray-400",children:"CA Total"}),i.jsx("div",{className:"mt-3 w-full rounded-full h-1.5 overflow-hidden bg-gray-100 dark:bg-gray-700",children:i.jsx("div",{className:`h-1.5 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 ${m?"transition-all duration-[2200ms] ease-out":""}`,style:{width:!m||!r?"100%":"0%"}})})]})]}),p?i.jsxs("div",{className:"group rounded-2xl p-5 hover:shadow-xl transition-all duration-500 hover:-translate-y-1 relative overflow-hidden bg-gradient-to-br from-rose-400 via-pink-500 to-rose-600 shadow-lg shadow-rose-500/25",children:[i.jsxs("svg",{className:"absolute bottom-0 left-0 w-full opacity-20",viewBox:"0 0 400 80",preserveAspectRatio:"none",children:[i.jsx("path",{d:"M0 55 C40 35, 80 65, 130 45 C180 25, 230 60, 280 40 C330 20, 370 50, 400 35 L400 80 L0 80 Z",fill:"white"}),i.jsx("path",{d:"M0 65 C50 50, 110 72, 170 58 C230 44, 290 68, 350 54 C370 48, 385 56, 400 50 L400 80 L0 80 Z",fill:"white",opacity:"0.5"})]}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("p",{className:"text-xs font-bold text-rose-100 uppercase tracking-wider",children:"Patients Total"}),le!==null&&i.jsxs("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full flex items-center gap-1 ${le>=0,"bg-white/20 text-white"}`,children:[le>=0?i.jsx(yr,{className:"w-3 h-3"}):i.jsx(Pi,{className:"w-3 h-3"}),le>=0?"+":"",le,"%"]})]}),i.jsx("p",{className:"text-3xl font-black text-white tabular-nums mb-1",children:Oe.toLocaleString("fr-FR")}),i.jsx("p",{className:"text-xs text-rose-200",children:"Par rapport  la semaine dernire"})]})]}):i.jsxs("div",{className:"group rounded-2xl p-5 hover:shadow-lg transition-all duration-500 hover:-translate-y-1 relative overflow-hidden bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700 hover:shadow-indigo-100/50 dark:hover:shadow-indigo-900/30",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/50 dark:from-indigo-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"p-3 rounded-xl transition-colors bg-blue-50 text-blue-600 group-hover:bg-indigo-100",children:i.jsx(vt,{className:"w-6 h-6"})}),le!==null&&i.jsxs("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${le>=0?"text-green-500 bg-green-50":"text-red-500 bg-red-50"}`,children:[le>=0?"+":"",le,"%"]})]}),i.jsx("p",{className:"text-2xl font-black tabular-nums text-gray-900 dark:text-white",children:Oe.toLocaleString("fr-FR")}),i.jsx("p",{className:"text-sm mt-1 text-gray-500 dark:text-gray-400",children:"Patients Total"}),i.jsx("div",{className:"mt-3 w-full rounded-full h-1.5 overflow-hidden bg-gray-100 dark:bg-gray-700",children:i.jsx("div",{className:`h-1.5 rounded-full bg-gradient-to-r from-indigo-400 to-indigo-600 ${m?"transition-all duration-[1800ms] ease-out":""}`,style:{width:!m||!r?"100%":"0%"}})})]})]}),p?i.jsxs("div",{className:"group rounded-2xl p-5 hover:shadow-xl transition-all duration-500 hover:-translate-y-1 relative overflow-hidden bg-gradient-to-br from-emerald-400 via-teal-500 to-emerald-600 shadow-lg shadow-emerald-500/25",children:[i.jsxs("svg",{className:"absolute bottom-0 left-0 w-full opacity-20",viewBox:"0 0 400 80",preserveAspectRatio:"none",children:[i.jsx("path",{d:"M0 50 C60 30, 100 60, 160 42 C220 24, 260 58, 320 38 C360 22, 385 48, 400 32 L400 80 L0 80 Z",fill:"white"}),i.jsx("path",{d:"M0 62 C55 48, 105 70, 165 56 C225 42, 275 66, 335 52 C365 44, 388 54, 400 48 L400 80 L0 80 Z",fill:"white",opacity:"0.5"})]}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("p",{className:"text-xs font-bold text-emerald-100 uppercase tracking-wider",children:"Rapports Gnrs"})}),i.jsx("p",{className:"text-3xl font-black text-white tabular-nums mb-1",children:ot}),i.jsx("p",{className:"text-xs text-emerald-200",children:"Rapports crs au total"})]})]}):i.jsxs("div",{className:"group rounded-2xl p-5 hover:shadow-lg transition-all duration-500 hover:-translate-y-1 relative overflow-hidden bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700 hover:shadow-gray-100/50 dark:hover:shadow-gray-900/30",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50/50 dark:from-gray-700/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("div",{className:"p-3 rounded-xl transition-colors bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 group-hover:bg-gray-100 dark:group-hover:bg-gray-600",children:i.jsx(kt,{className:"w-6 h-6"})})}),i.jsx("p",{className:"text-2xl font-black tabular-nums text-gray-900 dark:text-white",children:ot}),i.jsx("p",{className:"text-sm mt-1 text-gray-500 dark:text-gray-400",children:"Rapports Gnrs"}),i.jsx("div",{className:"mt-3 w-full rounded-full h-1.5 overflow-hidden bg-gray-100 dark:bg-gray-700",children:i.jsx("div",{className:`h-1.5 rounded-full bg-gradient-to-r from-gray-400 to-gray-600 ${m?"transition-all duration-[1200ms] ease-out":""}`,style:{width:!m||!r?"100%":"0%"}})})]})]}),p?i.jsxs("div",{className:"group rounded-2xl p-5 hover:shadow-xl transition-all duration-500 hover:-translate-y-1 relative overflow-hidden bg-gradient-to-br from-orange-400 via-amber-500 to-orange-600 shadow-lg shadow-orange-500/25",children:[i.jsxs("svg",{className:"absolute bottom-0 left-0 w-full opacity-20",viewBox:"0 0 400 80",preserveAspectRatio:"none",children:[i.jsx("path",{d:"M0 58 C45 38, 95 62, 145 48 C195 34, 245 60, 295 42 C345 24, 375 52, 400 38 L400 80 L0 80 Z",fill:"white"}),i.jsx("path",{d:"M0 68 C52 52, 108 74, 168 60 C228 46, 288 70, 348 56 C372 48, 390 58, 400 52 L400 80 L0 80 Z",fill:"white",opacity:"0.5"})]}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("p",{className:"text-xs font-bold text-orange-100 uppercase tracking-wider",children:"Emails Envoys"})}),i.jsx("p",{className:"text-3xl font-black text-white tabular-nums mb-1",children:$t}),i.jsx("p",{className:"text-xs text-orange-200",children:"Communications envoyes"})]})]}):i.jsxs("div",{className:"group rounded-2xl p-5 hover:shadow-lg transition-all duration-500 hover:-translate-y-1 relative overflow-hidden bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700 hover:shadow-emerald-100/50 dark:hover:shadow-emerald-900/30",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/50 dark:from-emerald-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("div",{className:"p-3 rounded-xl transition-colors bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/40",children:i.jsx(Ns,{className:"w-6 h-6"})})}),i.jsx("p",{className:"text-2xl font-black tabular-nums text-gray-900 dark:text-white",children:$t}),i.jsx("p",{className:"text-sm mt-1 text-gray-500 dark:text-gray-400",children:"Emails Envoys"}),i.jsx("div",{className:"mt-3 w-full rounded-full h-1.5 overflow-hidden bg-gray-100 dark:bg-gray-700",children:i.jsx("div",{className:`h-1.5 rounded-full bg-gradient-to-r from-emerald-400 to-emerald-600 ${m?"transition-all duration-[1200ms] ease-out":""}`,style:{width:!m||!r?"100%":"0%"}})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mb-6",children:t?.practitioners?.map((he,V)=>{const pe=t.caByPractitioner?.find(pn=>pn._id===he.code),Le=t.heuresByPractitioner?.find(pn=>pn._id===he.code),Ze=Le?Le.totalMinutes/60:0,ft=[{bg:h?"from-violet-900/30 to-purple-900/30":"from-violet-50 to-purple-50",badge:h?"bg-violet-900/50":"bg-violet-100",badgeText:h?"text-violet-300":"text-violet-700",border:h?"border-violet-800":"border-violet-100",accent:h?"text-violet-400":"text-violet-600"},{bg:h?"from-blue-900/30 to-cyan-900/30":"from-blue-50 to-cyan-50",badge:h?"bg-blue-900/50":"bg-blue-100",badgeText:h?"text-blue-300":"text-blue-700",border:h?"border-blue-800":"border-blue-100",accent:h?"text-blue-400":"text-blue-600"},{bg:h?"from-amber-900/30 to-orange-900/30":"from-amber-50 to-orange-50",badge:h?"bg-amber-900/50":"bg-amber-100",badgeText:h?"text-amber-300":"text-amber-700",border:h?"border-amber-800":"border-amber-100",accent:h?"text-amber-400":"text-amber-600"},{bg:h?"from-pink-900/30 to-rose-900/30":"from-pink-50 to-rose-50",badge:h?"bg-pink-900/50":"bg-pink-100",badgeText:h?"text-pink-300":"text-pink-700",border:h?"border-pink-800":"border-pink-100",accent:h?"text-pink-400":"text-pink-600"}],Ge=ft[V%ft.length];return i.jsxs("div",{className:`bg-gradient-to-br ${Ge.bg} rounded-2xl border ${Ge.border} p-5 hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5`,children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:`w-11 h-11 ${Ge.badge} rounded-xl flex items-center justify-center shadow-sm`,children:i.jsx("span",{className:`${Ge.badgeText} font-bold text-sm`,children:he.code})}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold ${p?"text-white":"text-gray-900 dark:text-white"}`,children:he.name}),i.jsx("p",{className:`text-xs ${p?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:he.email})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:`text-center p-3 backdrop-blur-sm rounded-xl shadow-sm ${p?"bg-white/10 border border-gray-600/50":"bg-white/70 dark:bg-white/10 border border-white/50 dark:border-gray-600/50"}`,children:[i.jsx("p",{className:`text-base font-bold ${Ge.accent}`,children:_(pe?.totalFacture||0)}),i.jsx("p",{className:`text-[10px] mt-0.5 ${p?"text-gray-400":"text-gray-500 dark:text-gray-400"}`,children:"CA Total"})]}),i.jsxs("div",{className:`text-center p-3 backdrop-blur-sm rounded-xl shadow-sm ${p?"bg-white/10 border border-gray-600/50":"bg-white/70 dark:bg-white/10 border border-white/50 dark:border-gray-600/50"}`,children:[i.jsx("p",{className:`text-base font-bold ${p?"text-blue-400":"text-blue-600"}`,children:pe?.totalPatients||0}),i.jsx("p",{className:`text-[10px] mt-0.5 ${p?"text-gray-400":"text-gray-500 dark:text-gray-400"}`,children:"Patients"})]}),i.jsxs("div",{className:`text-center p-3 backdrop-blur-sm rounded-xl shadow-sm ${p?"bg-white/10 border border-gray-600/50":"bg-white/70 dark:bg-white/10 border border-white/50 dark:border-gray-600/50"}`,children:[i.jsxs("p",{className:`text-base font-bold ${p?"text-amber-400":"text-amber-600"}`,children:[Ze.toFixed(0),"h"]}),i.jsx("p",{className:`text-[10px] mt-0.5 ${p?"text-gray-400":"text-gray-500 dark:text-gray-400"}`,children:"Heures"})]})]})]},he.code)})}),!x&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 p-12 text-center mb-6",children:[i.jsx(qe,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-gray-400 dark:text-gray-500 mb-2",children:"Modles IA dsactivs"}),i.jsxs("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:["Les graphiques et analyses IA sont temporairement indisponibles.",i.jsx("br",{}),"Contactez l'administrateur pour ractiver les modles."]})]}),x&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5 mb-6",children:[i.jsxs("div",{className:`lg:col-span-2 rounded-2xl p-6 shadow-sm transition-all duration-300 ${p?"bg-white border border-gray-200":"bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{children:[i.jsx("h3",{className:`text-base font-bold ${p?"text-gray-900":"text-gray-900 dark:text-white"}`,children:"volution du Chiffre d'Affaires"}),i.jsx("p",{className:`text-xs mt-0.5 ${p?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:"Analyse comparative factur vs encaiss"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold px-2.5 py-1 rounded-full border text-green-600 bg-green-50 border-green-200",children:[i.jsxs("span",{className:"relative flex h-2 w-2",children:[i.jsx("span",{className:`${m?"animate-ping":""} absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75`}),i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Temps rel"]}),i.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full border bg-violet-50 border-violet-200",children:[i.jsx(qe,{className:"w-3 h-3 text-violet-500"}),i.jsx("span",{className:"text-[10px] font-semibold text-violet-600",children:"Modle IA  Rgression + Holt"})]})]})]}),i.jsx("div",{style:{height:"280px"},children:i.jsx(fa,{ref:v,data:I,plugins:m?[Du]:[],options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{color:y,usePointStyle:!0,pointStyle:"circle",font:{size:11,weight:"500"},padding:20}},tooltip:{backgroundColor:"#1e293b",titleColor:"#f8fafc",bodyColor:"#e2e8f0",titleFont:{size:13,weight:"600"},bodyFont:{size:12},borderColor:"rgba(139, 92, 246, 0.3)",borderWidth:1,cornerRadius:10,padding:14,displayColors:!0,usePointStyle:!0,callbacks:{label:he=>` ${he.dataset.label}: ${new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(he.raw)}`}}},scales:{x:{grid:{display:!1},ticks:{color:y,font:{size:10,weight:"500"},maxRotation:45},border:{display:!1}},y:{beginAtZero:!0,grid:{color:w,drawBorder:!1},ticks:{color:y,font:{size:10},padding:8,callback:he=>`${(he/1e3).toFixed(0)}k`},border:{display:!1}}}}})})]}),i.jsxs("div",{className:`rounded-2xl p-6 transition-all duration-300 ${p?"bg-white border border-gray-200 shadow-sm":"bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:`text-base font-bold ${p?"text-gray-900":"text-gray-900 dark:text-white"}`,children:"Rpartition CA par Cabinet"}),p&&i.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold px-2 py-1 rounded-full border text-green-600 bg-green-50 border-green-200",children:[i.jsxs("span",{className:"relative flex h-1.5 w-1.5",children:[i.jsx("span",{className:`${m?"animate-ping":""} absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75`}),i.jsx("span",{className:"relative inline-flex rounded-full h-1.5 w-1.5 bg-green-500"})]}),"Live"]})]}),i.jsx("p",{className:`text-xs mb-4 ${p?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:"Part de chaque cabinet dans le CA global"}),i.jsx(hh,{ref:j,data:re,plugins:m&&p?[nb]:[],options:{responsive:!0,cutout:"60%",plugins:{legend:{position:"bottom",labels:{color:y,usePointStyle:!0,pointStyle:"circle",font:{size:12,weight:"600"},padding:16}},tooltip:{backgroundColor:"#1e293b",titleColor:"#f8fafc",bodyColor:"#e2e8f0",titleFont:{size:13,weight:"600"},bodyFont:{size:12},cornerRadius:10,padding:14,callbacks:{label:he=>{const V=he.raw||0,pe=he.dataset.data.reduce((Ze,ft)=>Ze+ft,0),Le=pe>0?(V/pe*100).toFixed(1):0;return` ${he.label}: ${new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(V)} (${Le}%)`}}}}}}),i.jsx("div",{className:"mt-4 space-y-2",children:(t?.caByPractitioner||[]).map((he,V)=>{const pe=S>0?(he.totalFacture/S*100).toFixed(1):0;return i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:U[V%U.length]}}),i.jsx("span",{className:`font-medium ${p?"text-gray-700":"text-gray-700 dark:text-gray-300"}`,children:he._id})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:`${p?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:[pe,"%"]}),i.jsx("span",{className:`font-bold ${p?"text-gray-900":"text-gray-900 dark:text-white"}`,children:_(he.totalFacture)})]})]},V)})})]})]}),x&&q&&i.jsxs("div",{className:`rounded-2xl p-5 mb-6 transition-colors ${p?"bg-gradient-to-r from-violet-50 via-blue-50 to-amber-50 border border-violet-200":"bg-gradient-to-r from-violet-50 via-blue-50 to-amber-50 dark:from-violet-900/30 dark:via-blue-900/30 dark:to-amber-900/30 border border-violet-100 dark:border-violet-800"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:`p-1.5 rounded-lg ${p?"bg-violet-100":"bg-violet-100 dark:bg-violet-900/50"}`,children:i.jsx(qe,{className:"w-4 h-4 text-violet-600"})}),i.jsx("h4",{className:`text-sm font-bold ${p?"text-gray-900":"text-gray-900 dark:text-white"}`,children:"Analyse IA  Chiffre d'Affaires"}),i.jsxs("span",{className:`ml-auto text-[10px] font-semibold px-2 py-0.5 rounded-full ${p?"text-violet-600 bg-violet-100":"text-violet-500 bg-violet-100"}`,children:["Fiabilit ",q.confidence,"%"]})]}),i.jsx("div",{className:"space-y-1",children:q.parts.map((he,V)=>i.jsx("p",{className:`text-xs leading-relaxed ${p?"text-gray-700":"text-gray-700 dark:text-gray-300"}`,children:he},V))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:`text-base font-bold mb-4 ${p?"text-white":"text-gray-900 dark:text-white"}`,children:"Alertes & Notifications"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:`border-l-4 border-red-400 rounded-xl p-4 cursor-pointer hover:shadow-md transition-all duration-300 hover:-translate-y-0.5 ${p?"bg-red-50":"bg-red-50 dark:bg-red-900/30"}`,onClick:()=>o("/admin/statistics"),children:[i.jsxs("p",{className:"text-sm font-bold text-red-600",children:["Encaissement faible ",i.jsx($n,{className:"inline w-4 h-4 ml-1"})]}),i.jsx("p",{className:`text-3xl font-black mt-1 tabular-nums ${p?"text-gray-900":"text-gray-900 dark:text-white"}`,children:ie}),i.jsx("p",{className:`text-xs mt-1 ${p?"text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"cabinets < 85% encaissement"}),i.jsxs("p",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1 hover:underline",children:["Voir les dtails ",i.jsx(fs,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:`border-l-4 border-orange-400 rounded-xl p-4 cursor-pointer hover:shadow-md transition-all duration-300 hover:-translate-y-0.5 ${p?"bg-orange-50":"bg-orange-50 dark:bg-orange-900/30"}`,onClick:()=>o("/admin/comparison"),children:[i.jsxs("p",{className:"text-sm font-bold text-orange-600",children:["Absences dtectes ",i.jsx("span",{className:`inline-block w-2 h-2 rounded-full bg-orange-400 ml-1 ${m?"animate-pulse":""}`})]}),i.jsx("p",{className:`text-3xl font-black mt-1 tabular-nums ${p?"text-gray-900":"text-gray-900 dark:text-white"}`,children:Et}),i.jsx("p",{className:`text-xs mt-1 ${p?"text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"RDV sans prsence patient"}),i.jsxs("p",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1 hover:underline",children:["Voir les dtails ",i.jsx(fs,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:`border-l-4 border-green-400 rounded-xl p-4 cursor-pointer hover:shadow-md transition-all duration-300 hover:-translate-y-0.5 ${p?"bg-green-50":"bg-green-50 dark:bg-green-900/30"}`,onClick:()=>o("/admin/comparison"),children:[i.jsxs("p",{className:"text-sm font-bold text-green-600",children:["Total Prsences ",i.jsx("span",{className:`inline-block w-2 h-2 rounded-full bg-green-400 ml-1 ${m?"animate-pulse":""}`})]}),i.jsx("p",{className:`text-3xl font-black mt-1 tabular-nums ${p?"text-gray-900":"text-gray-900 dark:text-white"}`,children:lr}),i.jsx("p",{className:`text-xs mt-1 ${p?"text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"prsences confirmes"}),i.jsxs("p",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1 hover:underline",children:["Voir les dtails ",i.jsx(fs,{className:"w-3 h-3"})]})]}),i.jsxs("div",{className:`border-l-4 border-green-400 rounded-xl p-4 cursor-pointer hover:shadow-md transition-all duration-300 hover:-translate-y-0.5 ${p?"bg-green-50":"bg-green-50 dark:bg-green-900/30"}`,onClick:()=>o("/admin/reports"),children:[i.jsxs("p",{className:"text-sm font-bold text-green-600",children:["Rapports envoys ",i.jsx("span",{className:`inline-block w-2 h-2 rounded-full bg-green-400 ml-1 ${m?"animate-pulse":""}`})]}),i.jsx("p",{className:`text-3xl font-black mt-1 tabular-nums ${p?"text-gray-900":"text-gray-900 dark:text-white"}`,children:be}),i.jsx("p",{className:`text-xs mt-1 ${p?"text-gray-500":"text-gray-500 dark:text-gray-400"}`,children:"rapports envoys par email"}),i.jsxs("p",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1 hover:underline",children:["Voir les dtails ",i.jsx(fs,{className:"w-3 h-3"})]})]})]})]}),p&&i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-violet-600/10 via-blue-500/10 to-cyan-500/10 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative bg-white border border-gray-200 shadow-sm rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-violet-50 rounded-lg border border-violet-200",children:i.jsx(qe,{className:"w-4 h-4 text-violet-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Journal d'Activit IA"}),i.jsx("p",{className:"text-[10px] text-gray-500",children:"Dernires analyses effectues par le moteur"})]})]}),i.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-green-50 border border-green-200 rounded-full",children:[i.jsxs("span",{className:"relative flex h-1.5 w-1.5",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-1.5 w-1.5 bg-green-500"})]}),i.jsx("span",{className:"text-[10px] font-bold text-green-600",children:"Actif"})]})]}),i.jsx("div",{className:"space-y-2.5",children:cr.map((he,V)=>i.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-xl border border-gray-100 hover:border-violet-300 transition-all duration-300 hover:bg-gray-100",children:[i.jsx("div",{className:"w-8 h-8 bg-emerald-50 rounded-lg flex items-center justify-center flex-shrink-0 border border-emerald-200",children:i.jsx(Ht,{className:"w-4 h-4 text-emerald-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:he.action}),i.jsx("p",{className:"text-[10px] text-gray-500 font-mono",children:he.model})]}),i.jsx("span",{className:"text-[10px] text-gray-400 flex-shrink-0 tabular-nums",children:he.time})]},V))})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[i.jsxs("div",{className:`group rounded-2xl p-5 flex items-center gap-4 hover:shadow-lg transition-all duration-500 hover:-translate-y-0.5 relative overflow-hidden ${p?"bg-white border border-gray-200 shadow-sm hover:shadow-green-100/50":"bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700 hover:shadow-green-100/50 dark:hover:shadow-green-900/30"}`,children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-r to-transparent opacity-0 group-hover:opacity-100 transition-opacity ${p?"from-green-50/40":"from-green-50/40 dark:from-green-900/20"}`}),i.jsx("div",{className:"relative z-10 w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(yr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("p",{className:`text-[10px] font-bold tracking-widest uppercase ${p?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:["CA TOTAL (",W," CABINETS)"]}),i.jsx("p",{className:`text-2xl font-black tabular-nums ${p?"text-gray-900":"text-gray-900 dark:text-white"}`,children:_(Re)})]})]}),i.jsxs("div",{className:`group rounded-2xl p-5 flex items-center gap-4 hover:shadow-lg transition-all duration-500 hover:-translate-y-0.5 relative overflow-hidden ${p?"bg-white border border-gray-200 shadow-sm hover:shadow-green-100/50":"bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700 hover:shadow-green-100/50 dark:hover:shadow-green-900/30"}`,children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-r to-transparent opacity-0 group-hover:opacity-100 transition-opacity ${p?"from-green-50/40":"from-green-50/40 dark:from-green-900/20"}`}),i.jsx("div",{className:"relative z-10 w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(kt,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("p",{className:`text-[10px] font-bold tracking-widest uppercase ${p?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:["TOTAL ENCAISS (",W," CABINETS)"]}),i.jsx("p",{className:`text-2xl font-black tabular-nums ${p?"text-gray-900":"text-gray-900 dark:text-white"}`,children:_(tt)}),i.jsx("div",{className:`mt-1 w-48 rounded-full h-1.5 overflow-hidden ${p?"bg-gray-100":"bg-gray-100 dark:bg-gray-700"}`,children:i.jsx("div",{className:`h-1.5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 ${m?"transition-all duration-[2400ms] ease-out":""}`,style:{width:`${Ye}%`}})})]})]})]}),p&&i.jsxs("div",{className:"mt-6 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"p-1.5 bg-amber-50 rounded-lg border border-amber-200",children:i.jsx(Dw,{className:"w-4 h-4 text-amber-600"})}),i.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Recommandations IA"}),i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-amber-50 border border-amber-200 rounded text-[9px] text-amber-600 font-bold uppercase tracking-wider",children:"Auto-gnres"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"group bg-white border border-emerald-200 rounded-xl p-4 hover:border-emerald-400 transition-all duration-300 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-7 h-7 bg-emerald-50 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(yr,{className:"w-4 h-4 text-emerald-600"})}),i.jsx("h4",{className:"text-xs font-bold text-emerald-600",children:"Croissance"})]}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:ce!==null&&ce>=0?"Le CA montre une tendance positive. Maintenez cette dynamique pour maximiser la croissance.":"Le CA est en baisse. Analysez les causes et ajustez votre stratgie."})]}),i.jsxs("div",{className:"group bg-white border border-blue-200 rounded-xl p-4 hover:border-blue-400 transition-all duration-300 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-7 h-7 bg-blue-50 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(vt,{className:"w-4 h-4 text-blue-600"})}),i.jsx("h4",{className:"text-xs font-bold text-blue-600",children:"Patients"})]}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:fe>0?`${fe} absences dtectes. Envisagez un systme de rappel SMS pour rduire le taux d'absence.`:"Taux de prsence excellent. Continuez ainsi."})]}),i.jsxs("div",{className:"group bg-white border border-violet-200 rounded-xl p-4 hover:border-violet-400 transition-all duration-300 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-7 h-7 bg-violet-50 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(mt,{className:"w-4 h-4 text-violet-600"})}),i.jsx("h4",{className:"text-xs font-bold text-violet-600",children:"Recouvrement"})]}),i.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:de>0?`${de} cabinet(s) sous 85%. Priorisez le suivi des impays et relancez les factures en retard.`:"Tous les cabinets ont un bon taux d'encaissement. Excellent !"})]})]})]})]})]})}fn.register(ja,Na,ya,Un,qi,wa,ka,va);function M4(){const t=$r(),[e,r]=M.useState(null),{dark:s}=Vn(),{user:o}=xt(),l=o?.email==="maarzoukrayan3@gmail.com",c=l?"bg-white border border-gray-200 shadow-sm":"bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700",[u,h]=M.useState([]),[p,m]=M.useState(!0),{isDynamic:x,dataAccessEnabled:y}=un(),w=l||x,v=y||l,[j,k]=M.useState({patients:!1,activite:!1}),_=M.useRef(null),P=M.useRef(null);M.useEffect(()=>{if(!w)return;const ie=Hn(_),be=Hn(P);return()=>{ie(),be()}},[p,w]),M.useEffect(()=>{T()},[]);const T=async()=>{try{const ie=await xa(),be=ie.data.practitioners||[];h(be);const Re={};for(const tt of be)try{const Ye=await Yg(tt.code);Re[tt.code]=Ye.data}catch{Re[tt.code]=null}r({dashboard:ie.data,cabinets:Re})}catch(ie){console.error(ie)}finally{m(!1)}},L=e?.dashboard?.caByPractitioner||[],D=e?.dashboard?.heuresByPractitioner||[],W=e?.dashboard?.rdvByPractitioner||[],H=u.map(ie=>{const be=L.find(Le=>Le._id===ie.code),Re=D.find(Le=>Le._id===ie.code),tt=W.find(Le=>Le._id===ie.code),Ye=be?.totalFacture||0,Ut=be?.totalEncaisse||0,jt=be?.totalPatients||0,cr=tt?.totalPatients||0,he=tt?.totalRdv||0,V=Re?Math.round(Re.totalMinutes/60):0,pe=Ye>0?Math.min(Math.round(Ut/Ye*100),100):0;return{code:ie.code,name:ie.name,patientsTraites:jt,patientsRdv:cr,consultations:he,heuresTravaillees:V,score:pe}}),G=H.reduce((ie,be)=>ie+be.patientsTraites,0),F=H.reduce((ie,be)=>ie+be.patientsRdv,0),te=H.reduce((ie,be)=>ie+be.consultations,0),z=H.reduce((ie,be)=>ie+be.heuresTravaillees,0),q=u.length>0?Math.round(te/u.length):0,X=H.map(ie=>ie.patientsRdv),R=H.map(ie=>ie.patientsTraites),I=H.map(ie=>ie.consultations),S=H.map(ie=>ie.heuresTravaillees),J=vs(R),U=vs(I),re=R.map((ie,be)=>J.slope*be+J.intercept),Z=I.map((ie,be)=>U.slope*be+U.intercept),E=ln(R,1.5),Y=ln(I,1.5),ce=oa(R,"patients traits par cabinet"),le=oa(I,"consultations par cabinet"),fe=on(R),ge=on(I),_e=H.map(ie=>Vi({tauxEncaissement:ie.score,evolutionCA:0,tauxAbsence:ie.consultations>0?Math.max(0,(ie.consultations-ie.patientsTraites)/ie.consultations*100):0,productionHoraire:ie.heuresTravaillees>0?ie.patientsTraites/ie.heuresTravaillees*100:0,tauxNouveauxPatients:10})),de=w&&!p,ae=De(G,1800,de),Me=De(F,1800,de),Be=De(te,1600,de),Oe=De(z,1600,de),ot=De(q,1400,de);if(p||!e)return i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const $t={labels:H.map(ie=>ie.code),datasets:[{label:"Patients sur agenda (RDV)",data:X,backgroundColor:"#10b981",borderRadius:6},{label:"Patients traits",data:R,backgroundColor:"#3b82f6",borderRadius:6},{type:"line",label:"Tendance IA (Rgression)",data:re,borderColor:"#f59e0b",borderWidth:2,borderDash:[6,3],pointRadius:0,fill:!1,tension:0,order:0},{type:"line",label:"Anomalies IA",data:R.map((ie,be)=>E[be]?.isAnomaly?ie:null),borderColor:"transparent",backgroundColor:"#ef4444",pointRadius:R.map((ie,be)=>E[be]?.isAnomaly?8:0),pointStyle:"crossRot",pointBorderColor:"#ef4444",pointBorderWidth:3,showLine:!1,fill:!1,order:0}]},Et={labels:H.map(ie=>ie.code),datasets:[{label:"Consultations",data:I,backgroundColor:"#8b5cf6",borderRadius:6},{label:"Heures travailles",data:S,backgroundColor:"#f59e0b",borderRadius:6},{type:"line",label:"Tendance IA (Rgression)",data:Z,borderColor:"#ec4899",borderWidth:2,borderDash:[6,3],pointRadius:0,fill:!1,tension:0,order:0},{type:"line",label:"Anomalies IA",data:I.map((ie,be)=>Y[be]?.isAnomaly?ie:null),borderColor:"transparent",backgroundColor:"#ef4444",pointRadius:I.map((ie,be)=>Y[be]?.isAnomaly?8:0),pointStyle:"crossRot",pointBorderColor:"#ef4444",pointBorderWidth:3,showLine:!1,fill:!1,order:0}]},lr={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:s&&!l?"#94a3b8":"#64748b",usePointStyle:!0,padding:16},onClick:(ie,be,Re)=>{const tt=be.datasetIndex,Ye=Re.chart,Ut=Ye.getDatasetMeta(tt);Ut.hidden=Ut.hidden===null?!Ye.data.datasets[tt].hidden:null,Ye.update()}}},scales:{x:{ticks:{color:s&&!l?"#94a3b8":"#64748b"},grid:{display:!1}},y:{beginAtZero:!0,ticks:{color:s&&!l?"#94a3b8":"#64748b"},grid:{color:s&&!l?"rgba(148, 163, 184, 0.1)":"rgba(226, 232, 240, 0.5)"}}},onClick:(ie,be)=>{if(be.length>0){const Re=be[0].index;H[Re]?.code&&t("/admin/cabinets")}}};return i.jsxs("div",{children:[i.jsx(Vt,{title:"Analyse des Cabinets",subtitle:"Dtails et performances par cabinet"}),i.jsxs("div",{className:"p-6",children:[!v&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 p-12 text-center mb-6",children:[i.jsx(qe,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-gray-400 dark:text-gray-500 mb-2",children:"Modles IA dsactivs"}),i.jsxs("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:["Les graphiques et analyses IA sont temporairement indisponibles.",i.jsx("br",{}),"Contactez l'administrateur pour ractiver les modles."]})]}),v&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5 mb-6",children:[i.jsxs("div",{className:`${c} rounded-2xl p-6 transition-colors`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vt,{className:"w-5 h-5 text-blue-600"}),i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:"Patients par Cabinet"})]}),i.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-bold text-amber-600 bg-amber-50 px-2.5 py-1 rounded-full",children:[i.jsx(qe,{className:"w-3 h-3"})," Rgression OLS  R=",J.r2.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("p",{className:"text-xs text-gray-400",children:["Patients traits vs patients sur agenda  Tendance: ",i.jsx("span",{className:`font-semibold ${fe.trend==="upward"?"text-green-600":fe.trend==="downward"?"text-red-500":"text-gray-600"}`,children:fe.trend==="upward"?" Hausse":fe.trend==="downward"?" Baisse":" Stable"})]}),i.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-200",children:[i.jsxs("span",{className:"relative flex h-2 w-2",children:[i.jsx("span",{className:`${w?"animate-ping":""} absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75`}),i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Temps rel"]})]}),i.jsx("div",{className:l?"bg-white rounded-xl p-3":"",children:i.jsx(Wl,{ref:_,data:$t,options:lr,plugins:w?[Tu]:[]})}),i.jsxs("div",{className:"mt-3 bg-gradient-to-r from-blue-50 to-violet-50 dark:from-blue-900/30 dark:to-violet-900/30 rounded-xl border border-blue-100 dark:border-blue-800 p-3 cursor-pointer hover:shadow-md transition-all",onClick:()=>k(ie=>({...ie,patients:!ie.patients})),children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[i.jsx(qe,{className:"w-3 h-3 text-blue-600"}),i.jsx("span",{className:"text-[10px] font-bold text-gray-800 dark:text-gray-200",children:"Analyse IA  Patients"}),i.jsxs("span",{className:"ml-auto flex items-center gap-1.5",children:[i.jsxs("span",{className:"text-[8px] font-semibold text-blue-600 bg-blue-100 dark:bg-blue-900/50 px-2 py-0.5 rounded-full",children:["Confiance ",ce.confidence,"%"]}),j.patients?i.jsx(Tp,{className:"w-3 h-3 text-gray-400"}):i.jsx(Ll,{className:"w-3 h-3 text-gray-400"})]})]}),ce.parts.slice(0,j.patients?void 0:2).map((ie,be)=>i.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 leading-relaxed",children:ie},be)),j.patients&&ce.forecast&&i.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200 dark:border-blue-700",children:[i.jsx("p",{className:"text-[10px] font-semibold text-blue-700 dark:text-blue-300 mb-1",children:" Prvisions dtailles :"}),i.jsx("div",{className:"flex gap-2",children:ce.forecast.map((ie,be)=>i.jsxs("span",{className:"text-[9px] bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded-full font-mono",children:["P+",be+1,": ",Math.round(ie)]},be))})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-3 border-l-4 border-blue-500 group hover:shadow-md transition-all",children:[i.jsx("p",{className:"text-xl font-black text-blue-700 dark:text-blue-400 tabular-nums",children:ae}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Total traits"})]}),i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-lg p-3 border-l-4 border-green-500 group hover:shadow-md transition-all",children:[i.jsx("p",{className:"text-xl font-black text-green-700 dark:text-green-400 tabular-nums",children:Me}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Total sur agenda"})]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 rounded-lg p-3 border-l-4 border-red-400 group hover:shadow-md transition-all",children:[i.jsx("p",{className:"text-xl font-black text-red-600 dark:text-red-400 tabular-nums",children:Be}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Total RDV"})]})]})]}),i.jsxs("div",{className:`${c} rounded-2xl p-6 transition-colors`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ir,{className:"w-5 h-5 text-purple-600"}),i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:"Activit par Cabinet (par mois)"})]}),i.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-bold text-pink-600 bg-pink-50 px-2.5 py-1 rounded-full",children:[i.jsx(qe,{className:"w-3 h-3"})," Rgression OLS  R=",U.r2.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("p",{className:"text-xs text-gray-400",children:["Consultations et heures  Tendance: ",i.jsx("span",{className:`font-semibold ${ge.trend==="upward"?"text-green-600":ge.trend==="downward"?"text-red-500":"text-gray-600"}`,children:ge.trend==="upward"?" Hausse":ge.trend==="downward"?" Baisse":" Stable"})]}),i.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-200",children:[i.jsxs("span",{className:"relative flex h-2 w-2",children:[i.jsx("span",{className:`${w?"animate-ping":""} absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75`}),i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Temps rel"]})]}),i.jsx("div",{className:l?"bg-white rounded-xl p-3":"",children:i.jsx(Wl,{ref:P,data:Et,options:lr,plugins:w?[Tu]:[]})}),i.jsxs("div",{className:"mt-3 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl border border-purple-100 dark:border-purple-800 p-3 cursor-pointer hover:shadow-md transition-all",onClick:()=>k(ie=>({...ie,activite:!ie.activite})),children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[i.jsx(qe,{className:"w-3 h-3 text-purple-600"}),i.jsx("span",{className:"text-[10px] font-bold text-gray-800 dark:text-gray-200",children:"Analyse IA  Activit"}),i.jsxs("span",{className:"ml-auto flex items-center gap-1.5",children:[i.jsxs("span",{className:"text-[8px] font-semibold text-purple-600 bg-purple-100 dark:bg-purple-900/50 px-2 py-0.5 rounded-full",children:["Confiance ",le.confidence,"%"]}),j.activite?i.jsx(Tp,{className:"w-3 h-3 text-gray-400"}):i.jsx(Ll,{className:"w-3 h-3 text-gray-400"})]})]}),le.parts.slice(0,j.activite?void 0:2).map((ie,be)=>i.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 leading-relaxed",children:ie},be)),j.activite&&le.forecast&&i.jsxs("div",{className:"mt-2 pt-2 border-t border-purple-200 dark:border-purple-700",children:[i.jsx("p",{className:"text-[10px] font-semibold text-purple-700 dark:text-purple-300 mb-1",children:" Prvisions dtailles :"}),i.jsx("div",{className:"flex gap-2",children:le.forecast.map((ie,be)=>i.jsxs("span",{className:"text-[9px] bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded-full font-mono",children:["P+",be+1,": ",Math.round(ie)]},be))})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[i.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/30 rounded-lg p-3 border-l-4 border-purple-500 group hover:shadow-md transition-all",children:[i.jsx("p",{className:"text-xl font-black text-purple-700 dark:text-purple-400 tabular-nums",children:Be}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Total consultations"})]}),i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/30 rounded-lg p-3 border-l-4 border-amber-500 group hover:shadow-md transition-all",children:[i.jsxs("p",{className:"text-xl font-black text-amber-700 dark:text-amber-400 tabular-nums",children:[Oe,"h"]}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Total heures"})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-3 border-l-4 border-blue-500 group hover:shadow-md transition-all",children:[i.jsx("p",{className:"text-xl font-black text-blue-700 dark:text-blue-400 tabular-nums",children:ot}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"Moyenne/cabinet"})]})]})]})]}),i.jsxs("div",{className:`${c} rounded-2xl p-6 mb-6 transition-colors`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsx("h3",{className:`text-base font-bold ${l?"text-gray-900":"text-gray-900 dark:text-white"}`,children:"Scoring Performance"}),i.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-bold text-violet-600 bg-violet-50 px-2.5 py-1 rounded-full",children:[i.jsx(qe,{className:"w-3 h-3"})," Score Multi-KPI Pondr"]})]}),i.jsx("div",{className:"space-y-4",children:H.map((ie,be)=>{const Re=_e[be];return i.jsxs("div",{className:`flex items-center gap-4 group rounded-xl p-2 -mx-2 transition-all cursor-pointer ${l?"hover:bg-gray-50":"hover:bg-gray-50/50 dark:hover:bg-gray-700/50"}`,onClick:()=>t("/admin/cabinets"),children:[i.jsx("span",{className:`text-sm font-bold w-12 ${l?"text-gray-700":"text-gray-700 dark:text-gray-300"}`,children:ie.code}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:`text-[10px] ${l?"text-gray-500":"text-gray-400"}`,children:["Encaissement: ",ie.score,"%"]}),i.jsx("span",{className:`text-[10px] ${l?"text-gray-500":"text-gray-400"}`,children:""}),i.jsxs("span",{className:`text-[10px] ${l?"text-gray-500":"text-gray-400"}`,children:["Score IA: ",i.jsxs("span",{className:`font-bold ${Re.score>=80?"text-green-600":Re.score>=60?"text-amber-500":"text-red-500"}`,children:[Re.score,"/100"]})]}),i.jsx("span",{className:`text-[10px] ${l?"text-gray-500":"text-gray-400"}`,children:""}),i.jsx("span",{className:`text-[10px] ${l?"text-gray-500":"text-gray-400"}`,children:Re.label})]}),i.jsx("div",{className:`rounded-full h-4 relative overflow-hidden ${l?"bg-gray-100":"bg-gray-100 dark:bg-gray-700"}`,children:i.jsx("div",{className:`h-4 rounded-full ${w?"transition-all duration-[1800ms] ease-out":""} relative overflow-hidden`,style:{width:!w||!p?`${Re.score}%`:"0%",background:Re.score>=80?"linear-gradient(90deg, #10b981, #34d399)":Re.score>=60?"linear-gradient(90deg, #f59e0b, #fbbf24)":"linear-gradient(90deg, #ef4444, #f87171)"},children:w&&i.jsx("div",{className:"absolute inset-0 shimmer-bar"})})})]}),i.jsxs("span",{className:`text-sm font-black w-16 text-right tabular-nums ${Re.score>=80?"text-green-600":Re.score>=60?"text-amber-500":"text-red-500"}`,children:[Re.score,"/100"]})]},be)})})]}),i.jsxs("div",{className:`${c} rounded-2xl p-6 transition-colors`,children:[i.jsx("h3",{className:`text-base font-bold mb-4 ${l?"text-gray-900":"text-gray-900 dark:text-white"}`,children:"Rpartition des Scores"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:H.map((ie,be)=>i.jsxs("div",{className:"text-center group",children:[i.jsxs("div",{className:"relative w-28 h-28 mx-auto mb-3",children:[i.jsxs("svg",{className:"w-28 h-28 transform -rotate-90",viewBox:"0 0 36 36",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:`scoreGrad-${be}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[i.jsx("stop",{offset:"0%",stopColor:ie.score>=90?"#10b981":ie.score>=75?"#f59e0b":"#ef4444"}),i.jsx("stop",{offset:"100%",stopColor:ie.score>=90?"#34d399":ie.score>=75?"#fbbf24":"#f87171"})]})}),i.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:l?"#e5e7eb":s?"#334155":"#e5e7eb",strokeWidth:"3"}),i.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:`url(#scoreGrad-${be})`,strokeWidth:"3",strokeLinecap:"round",strokeDasharray:`${ie.score}, 100`,style:{transition:w?"stroke-dasharray 1.8s ease-out":"none",filter:`drop-shadow(0 0 4px ${ie.score>=90?"rgba(16,185,129,0.4)":ie.score>=75?"rgba(245,158,11,0.4)":"rgba(239,68,68,0.4)"})`}})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("span",{className:`text-xl font-black tabular-nums group-hover:scale-110 transition-transform ${l?"text-gray-900":"text-gray-900 dark:text-white"}`,children:[ie.score,"%"]})})]}),i.jsx("p",{className:`text-sm font-bold ${l?"text-gray-900":"text-gray-900 dark:text-white"}`,children:ie.name}),i.jsxs("p",{className:`text-xs ${l?"text-gray-500":"text-gray-400 dark:text-gray-500"}`,children:["(",ie.code,")"]})]},be))})]}),i.jsxs("div",{className:`${l?"bg-gradient-to-r from-violet-50 via-blue-50 to-amber-50 border border-violet-200":"bg-gradient-to-r from-violet-50 via-blue-50 to-amber-50 dark:from-violet-900/30 dark:via-blue-900/30 dark:to-amber-900/30 border border-violet-100 dark:border-violet-800"} rounded-2xl p-6 transition-colors`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(qe,{className:"w-4 h-4 text-violet-600"}),i.jsx("h3",{className:`text-sm font-bold ${l?"text-gray-900":"text-gray-900 dark:text-white"}`,children:"Analyse IA Globale  Cabinets"}),i.jsx("span",{className:"ml-auto text-[9px] font-semibold text-violet-600 bg-white/60 px-2.5 py-1 rounded-full",children:"5 modles ML excuts"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:H.map((ie,be)=>{const Re=_e[be];return i.jsxs("div",{className:"bg-white/60 dark:bg-white/10 rounded-xl p-4 cursor-pointer hover:shadow-md hover:bg-white/80 dark:hover:bg-white/15 transition-all",onClick:()=>t("/admin/cabinets"),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white text-[9px] font-bold ${Re.score>=80?"bg-green-500":Re.score>=60?"bg-amber-500":"bg-red-500"}`,children:ie.code}),i.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:ie.name}),i.jsxs("span",{className:`ml-auto text-[9px] font-bold px-2 py-0.5 rounded-full ${Re.score>=80?"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-400":Re.score>=60?"bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-400":"bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-400"}`,children:[Re.score,"/100"]}),i.jsx(Cw,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100"})]}),i.jsxs("p",{className:"text-[10px] text-gray-600 dark:text-gray-400",children:["Patients: ",ie.patientsTraites," traits / ",ie.patientsRdv," agenda  Consultations: ",ie.consultations,"  Heures: ",ie.heuresTravaillees,"h"]}),i.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-1",children:[Re.label,"  Encaissement ",ie.score,"%"]})]},be)})})]})]})]})]})}fn.register(ja,Na,ya,wa,ka,va,dh);const ag=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function P4(){const{dark:t}=Vn(),{user:e}=xt(),r=e?.email==="maarzoukrayan3@gmail.com",s=r?"bg-white border border-gray-200 shadow-sm":"bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700",o=t&&!r?"#94a3b8":"#64748b",l=t&&!r?"rgba(148, 163, 184, 0.1)":"rgba(226, 232, 240, 0.5)",[c,u]=M.useState(!0),[h,p]=M.useState(null),m=M.useRef(null),x=M.useRef(null),{isDynamic:y,dataAccessEnabled:w}=un(),v=r||y,j=w||r;if(M.useEffect(()=>{if(!v)return;const R=Hn(m);return()=>{R()}},[c,v]),M.useEffect(()=>{(async()=>{try{const I=await xa();p(I.data)}catch(I){console.error(I)}finally{u(!1)}})()},[]),c)return i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const k=h?.practitioners||[],_=h?.rdvByPractitioner||[],P=h?.caByPractitioner||[],T=h?.rdvMensuel||[],L=k.map((R,I)=>{const S=_.find(Oe=>Oe._id===R.code),J=P.find(Oe=>Oe._id===R.code),U=S?.totalRdv||0,re=S?.totalPatients||0,Z=Math.max(0,U-re),E=re,Y=J?.totalFacture||0,ce=J?.totalEncaisse||0,le=T.filter(Oe=>Oe._id?.praticien===R.code).sort((Oe,ot)=>(Oe._id?.mois||"").localeCompare(ot._id?.mois||""));let fe="Stable";if(le.length>=2){const Oe=(le[le.length-1]?.totalRdv||0)-(le[le.length-1]?.totalPatients||0),ot=(le[le.length-2]?.totalRdv||0)-(le[le.length-2]?.totalPatients||0);if(ot>0){const $t=(Oe-ot)/ot*100;fe=$t>10?"Hausse":$t<-10?"Baisse":"Stable"}else Oe>0&&(fe="Hausse")}const ge=Y>0?Math.round(ce/Y*100):0,_e=U>0?Z/U*100:0,ae=Vi({tauxEncaissement:ge,evolutionCA:fe==="Hausse"?-5:fe==="Baisse"?5:0,tauxAbsence:_e,productionHoraire:Y,tauxNouveauxPatients:10}),Me=le.map(Oe=>Math.max(0,(Oe.totalRdv||0)-(Oe.totalPatients||0))),Be=on(Me);return{name:R.name,code:R.code,totalRdv:U,presents:E,absents:Z,tendance:fe,color:ag[I%ag.length],totalCA:Y,totalEncaisse:ce,healthScore:ae.score,healthLabel:ae.label,absenceTrend:Be,monthlyAbsences:Me}}),D=L.reduce((R,I)=>R+I.absents,0),W=L.reduce((R,I)=>R+I.presents,0),H=L.reduce((R,I)=>R+I.totalRdv,0),G=H>0?(D/H*100).toFixed(1):0,F=L.filter(R=>R.totalRdv>0&&R.absents/R.totalRdv>.08).length,te={labels:L.map(R=>`Dr. ${R.name}`),datasets:[{label:"Prsents",data:L.map(R=>R.presents),backgroundColor:"rgba(37, 99, 235, 0.85)",hoverBackgroundColor:"#2563eb",borderRadius:6,borderSkipped:!1,barPercentage:.5,categoryPercentage:.7},{label:"Absents",data:L.map(R=>R.absents),backgroundColor:"rgba(239, 68, 68, 0.75)",hoverBackgroundColor:"#ef4444",borderRadius:6,borderSkipped:!1,barPercentage:.5,categoryPercentage:.7}]},z={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,pointStyle:"circle",padding:16,font:{size:11,weight:"500"},color:o}},tooltip:{backgroundColor:"#1e293b",titleColor:"#f8fafc",bodyColor:"#e2e8f0",titleFont:{size:13,weight:"600"},bodyFont:{size:12},padding:12,cornerRadius:8,callbacks:{label:R=>{const I=L[R.dataIndex]?.totalRdv||0,S=I>0?(R.parsed.x/I*100).toFixed(1):"0";return`  ${R.dataset.label}: ${R.parsed.x} (${S}%)`}}}},scales:{x:{stacked:!1,beginAtZero:!0,border:{display:!1},grid:{color:l,drawBorder:!1},ticks:{color:o,font:{size:11},padding:4}},y:{stacked:!1,border:{display:!1},grid:{display:!1},ticks:{color:o,font:{size:12,weight:"600"},padding:8}}}},q={labels:L.map(R=>R.code),datasets:[{data:L.map(R=>R.totalCA),backgroundColor:L.map(R=>R.color),borderWidth:0}]},X=L.reduce((R,I)=>R+I.totalCA,0);return i.jsxs("div",{children:[i.jsx(Vt,{title:"Statistiques et comparaison des cabinets",subtitle:"Suivi dtaill des absences par cabinet"}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("button",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:i.jsx(rx,{className:"w-4 h-4"})}),F>0&&i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-full",children:[i.jsx($n,{className:"w-4 h-4 text-red-500"}),i.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[F," cabinet(s) en alerte"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsx("div",{className:`${s} rounded-2xl p-5 transition-colors`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-xl bg-red-50 dark:bg-red-900/30",children:i.jsx(vt,{className:"w-5 h-5 text-red-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Absences"}),i.jsx("p",{className:"text-3xl font-black text-gray-900 dark:text-white",children:D})]})]})}),i.jsx("div",{className:`${s} rounded-2xl p-5 transition-colors`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/30",children:i.jsx(vt,{className:"w-5 h-5 text-green-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Prsences"}),i.jsx("p",{className:"text-3xl font-black text-gray-900 dark:text-white",children:W})]})]})}),i.jsx("div",{className:`${s} rounded-2xl p-5 transition-colors`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-xl bg-amber-50 dark:bg-amber-900/30",children:i.jsx(Pi,{className:"w-5 h-5 text-amber-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Taux d'absence global"}),i.jsxs("p",{className:"text-3xl font-black text-gray-900 dark:text-white",children:[G,"%"]})]})]})}),i.jsx("div",{className:`${s} rounded-2xl p-5 transition-colors`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-xl bg-blue-50 dark:bg-blue-900/30",children:i.jsx(js,{className:"w-5 h-5 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total RDV"}),i.jsx("p",{className:"text-3xl font-black text-gray-900 dark:text-white",children:H})]})]})})]}),i.jsxs("div",{className:`${s} rounded-2xl overflow-hidden mb-6 transition-colors`,children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:"Dtail par Cabinet"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Cabinet"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Total RDV"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Prsents"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Absents"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Taux d'absence"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Tendance"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Statut"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:L.map((R,I)=>{const S=R.totalRdv>0?(R.absents/R.totalRdv*100).toFixed(1):"0.0";return i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-6 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:R.color},children:R.code}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.name})]})}),i.jsx("td",{className:"px-6 py-3 text-center text-sm text-gray-700 dark:text-gray-300",children:R.totalRdv}),i.jsx("td",{className:"px-6 py-3 text-center text-sm font-semibold text-green-600",children:R.presents}),i.jsx("td",{className:"px-6 py-3 text-center text-sm font-semibold text-red-500",children:R.absents}),i.jsxs("td",{className:"px-6 py-3 text-center text-sm text-gray-700 dark:text-gray-300",children:[S,"%"]}),i.jsx("td",{className:"px-6 py-3 text-center",children:i.jsx("span",{className:`text-xs font-semibold px-2.5 py-1 rounded-full ${R.tendance==="Hausse"?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400":R.tendance==="Baisse"?"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:R.tendance==="Hausse"?" Hausse":R.tendance==="Baisse"?" Baisse":" Stable"})}),i.jsx("td",{className:"px-6 py-3 text-center",children:i.jsx("span",{className:"text-xs font-bold px-3 py-1 rounded-full bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400",children:" OK"})})]},I)})})]})})]}),!j&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 p-12 text-center mb-6",children:[i.jsx(qe,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-gray-400 dark:text-gray-500 mb-2",children:"Modles IA dsactivs"}),i.jsxs("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:["Les graphiques et analyses IA sont temporairement indisponibles.",i.jsx("br",{}),"Contactez l'administrateur pour ractiver les modles."]})]}),j&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5 mb-6",children:[i.jsxs("div",{className:`${s} rounded-2xl p-6 transition-colors`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:"Comparaison Prsences et Absences des Patients"}),i.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full",children:[i.jsxs("span",{className:"relative flex h-2 w-2",children:[i.jsx("span",{className:`${v?"animate-ping":""} absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75`}),i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Temps rel"]})]}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mb-4",children:"Rpartition par cabinet dentaire"}),i.jsx("div",{style:{height:`${Math.max(200,L.length*80)}px`},children:i.jsx("div",{className:r?"bg-white rounded-xl p-3":"",children:i.jsx(Wl,{ref:m,data:te,options:z,plugins:v?[Tu]:[]})})}),i.jsx("div",{className:"flex gap-4 mt-3 pt-3 border-t border-gray-50 dark:border-gray-700",children:L.map((R,I)=>{const S=R.totalRdv>0?(R.absents/R.totalRdv*100).toFixed(1):"0";return i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[i.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:R.color}}),i.jsxs("span",{children:[R.code,": ",i.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:[S,"%"]})," absence"]})]},I)})})]}),i.jsxs("div",{className:`${s} rounded-2xl p-6 transition-colors`,children:[i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white mb-1",children:"Rpartition du CA par Cabinet"}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mb-4",children:"Part de chaque cabinet"}),i.jsx("div",{className:"max-w-xs mx-auto",children:i.jsx("div",{className:r?"bg-white rounded-xl p-3":"",children:i.jsx(hh,{ref:x,data:q,options:{responsive:!0,cutout:"55%",plugins:{legend:{display:!1},tooltip:{callbacks:{label:R=>`${R.label}: ${(R.raw||0).toLocaleString("fr-FR")} `}}}}})})}),i.jsx("div",{className:"flex flex-wrap gap-3 justify-center mt-4",children:L.map((R,I)=>i.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[i.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:R.color}}),i.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[R.code," ",X>0?Math.round(R.totalCA/X*100):0,"%"]})]},I))})]})]}),i.jsxs("div",{className:`${s} rounded-2xl p-6 mb-6 transition-colors`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:"Performance par Cabinet"})]}),i.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-bold text-violet-600 bg-violet-50 px-2.5 py-1 rounded-full",children:[i.jsx(qe,{className:"w-3 h-3"})," Modle IA  Score Sant Multi-KPI"]})]}),i.jsx("div",{className:`grid gap-6 ${L.length<=2?"grid-cols-1 md:grid-cols-2 max-w-2xl mx-auto":"grid-cols-1 md:grid-cols-3"}`,children:L.map((R,I)=>{const S=R.totalCA>0?Math.round(R.totalEncaisse/R.totalCA*100):0;return i.jsxs("div",{className:"border border-gray-100 dark:border-gray-700 rounded-xl p-4 text-center",children:[i.jsx("div",{className:"w-10 h-10 rounded-full mx-auto flex items-center justify-center text-white text-xs font-bold mb-2",style:{backgroundColor:R.color},children:R.code}),i.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white mb-3",children:R.name}),i.jsxs("div",{className:"space-y-2 text-left",children:[i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"CA Factur"}),i.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[R.totalCA.toLocaleString("fr-FR")," "]})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Encaiss"}),i.jsxs("span",{className:"font-semibold text-green-600",children:[R.totalEncaisse.toLocaleString("fr-FR")," "]})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Taux encaissement"}),i.jsxs("span",{className:`font-bold ${S>=85?"text-green-600":S>=70?"text-amber-500":"text-red-500"}`,children:[S,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-1.5 mt-1",children:i.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(S,100)}%`,backgroundColor:R.color}})}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex justify-between items-center text-xs",children:[i.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[i.jsx(qe,{className:"w-3 h-3 text-violet-500"})," Score Sant IA"]}),i.jsxs("span",{className:`font-black text-lg ${R.healthScore>=80?"text-green-500":R.healthScore>=60?"text-amber-500":"text-red-500"}`,children:[R.healthScore,i.jsx("span",{className:"text-xs font-normal text-gray-400 dark:text-gray-500",children:"/100"})]})]}),i.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-2 mt-1",children:i.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${R.healthScore}%`,background:R.healthScore>=80?"linear-gradient(90deg, #10b981, #34d399)":R.healthScore>=60?"linear-gradient(90deg, #f59e0b, #fbbf24)":"linear-gradient(90deg, #ef4444, #f87171)"}})}),i.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-1",children:[R.healthLabel,"  Tendance absences: ",R.absenceTrend?.trend==="upward"?" Hausse":R.absenceTrend?.trend==="downward"?" Baisse":R.absenceTrend?.trend==="stable"?" Stable":"Donnes insuffisantes"]})]})]})]},I)})})]}),i.jsxs("div",{className:"bg-gradient-to-r from-violet-50 via-blue-50 to-amber-50 dark:from-violet-900/30 dark:via-blue-900/30 dark:to-amber-900/30 rounded-2xl border border-violet-100 dark:border-violet-800 p-6 mb-6 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(qe,{className:"w-4 h-4 text-violet-600"}),i.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Analyse IA  Comparaison des Cabinets"}),i.jsx("span",{className:"ml-auto text-[9px] font-semibold text-violet-600 bg-white/60 dark:bg-white/10 px-2.5 py-1 rounded-full",children:"Rgression + Score Multi-KPI"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.map((R,I)=>{const S=oa(R.monthlyAbsences,`absences de ${R.name}`);return i.jsxs("div",{className:"bg-white/60 dark:bg-white/10 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-[9px] font-bold",style:{backgroundColor:R.color},children:R.code}),i.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:R.name}),i.jsxs("span",{className:`ml-auto text-[9px] font-bold px-2 py-0.5 rounded-full ${R.healthScore>=80?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":R.healthScore>=60?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[R.healthScore,"/100"]})]}),S.parts.map((J,U)=>i.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 leading-relaxed",children:J},U))]},I)})})]})]})]})]})}const Tn=t=>new Intl.NumberFormat("fr-FR").format(Math.round(t||0));function R4(){const t=$r(),{user:e}=xt(),s=e?.email==="maarzoukrayan3@gmail.com"?"bg-white border border-gray-200 shadow-sm":"bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700",[o,l]=M.useState(null),[c,u]=M.useState(!0),[h,p]=M.useState(""),[m,x]=M.useState(null),[y,w]=M.useState(!1);if(M.useEffect(()=>{(async()=>{try{const te=await xa();l(te.data)}catch(te){console.error(te)}finally{u(!1)}})()},[]),c)return i.jsx("div",{className:"flex items-center justify-center h-screen bg-[#f8fafc] dark:bg-[#0f172a]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const v=async F=>{w(!0),x({cab:F,details:null});try{const z=(await Yg(F.code)).data,q=z.realisation?.length>0?z.realisation[z.realisation.length-1]:null,X=z.rdv?.length>0?z.rdv[z.rdv.length-1]:null,R=z.heures?.length>0?z.heures[z.heures.length-1]:null,I=z.devis?.length>0?z.devis[z.devis.length-1]:null,S=R?(R.nbHeures/60).toFixed(1):0,J=q?.totalFacture||0,U=q?.totalPatients||0;x({cab:F,details:{evolution:z.realisation||[],dernierMois:{ca:J,encaisse:q?.totalEncaisse||0,patients:U,rdv:X?.nbRdv||0,nouveauxPatients:X?.nbNouveauxPatients||0,heures:S,productionHoraire:S>0?(J/S).toFixed(0):0,panierMoyen:U>0?(J/U).toFixed(0):0,nbDevis:I?.nbDevis||0,nbDevisAcceptes:I?.nbDevisAcceptes||0,tauxAcceptation:I&&I.nbDevis>0?(I.nbDevisAcceptes/I.nbDevis*100).toFixed(1):0},totalMois:z.realisation?.length||0}})}catch(te){console.error(te),x(z=>({...z,details:"error"}))}finally{w(!1)}},j=F=>{t("/admin/reports")},k=o?.practitioners||[],_=o?.caByPractitioner||[],P=o?.rdvByPractitioner||[],T=o?.caMensuel||[],L=k.map(F=>{const te=_.find(Z=>Z._id===F.code),z=P.find(Z=>Z._id===F.code),q=te?.totalFacture||0,X=te?.totalEncaisse||0,R=q>0?Math.round(X/q*100):0,I=te?.totalPatients||0,S=z?.totalRdv||0,J=T.filter(Z=>Z._id?.praticien===F.code).sort((Z,E)=>(Z._id?.mois||"").localeCompare(E._id?.mois||""));let U="Stable";if(J.length>=2){const Z=J[J.length-1]?.totalFacture||0,E=J[J.length-2]?.totalFacture||0;if(E>0){const Y=(Z-E)/E*100;U=Y>5?"Hausse":Y<-5?"Baisse":"Stable"}}let re="performant";return R<30?re="verifier":R<40&&(re="surveiller"),{code:F.code,name:F.name,email:F.email,ca:q,encaisse:X,score:R,patients:I,rdv:S,status:re,tendance:U}}),D=L.filter(F=>F.status==="performant").length,W=L.filter(F=>F.status==="surveiller").length,H=L.filter(F=>F.status==="verifier").length,G=L.filter(F=>F.name.toLowerCase().includes(h.toLowerCase())||F.code.toLowerCase().includes(h.toLowerCase()));return i.jsxs("div",{children:[i.jsx(Vt,{title:"Gestion des cabinets",subtitle:"Suivi et analyse des performances"}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:`${s} rounded-xl p-5 flex items-center justify-between transition-colors`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2.5 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:i.jsx(Yu,{className:"w-5 h-5 text-blue-600"})}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cabinets suivis"})]}),i.jsx("span",{className:"text-2xl font-black text-blue-600",children:k.length})]}),i.jsxs("div",{className:`${s} rounded-xl p-5 flex items-center justify-between transition-colors`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2.5 bg-green-50 dark:bg-green-900/30 rounded-lg",children:i.jsx(rn,{className:"w-5 h-5 text-green-600"})}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Performants"})]}),i.jsx("span",{className:"text-2xl font-black text-green-600",children:D})]}),i.jsxs("div",{className:`${s} rounded-xl p-5 flex items-center justify-between transition-colors`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2.5 bg-amber-50 dark:bg-amber-900/30 rounded-lg",children:i.jsx($n,{className:"w-5 h-5 text-amber-600"})}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:" surveiller"})]}),i.jsx("span",{className:"text-2xl font-black text-amber-600",children:W})]}),i.jsxs("div",{className:`${s} rounded-xl p-5 flex items-center justify-between transition-colors`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2.5 bg-red-50 dark:bg-red-900/30 rounded-lg",children:i.jsx(er,{className:"w-5 h-5 text-red-600"})}),i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:" vrifier"})]}),i.jsx("span",{className:"text-2xl font-black text-red-600",children:H})]})]}),i.jsxs("div",{className:`${s} rounded-xl p-4 mb-6 flex items-center gap-3 transition-colors`,children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Tl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",value:h,onChange:F=>p(F.target.value),placeholder:"Rechercher un cabinet...",className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 text-sm bg-white dark:bg-[#1e293b] dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("button",{className:"px-5 py-2.5 rounded-lg bg-blue-600 text-white text-sm font-semibold hover:bg-blue-700 transition-colors",children:"Filtrer"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mb-6",children:G.map((F,te)=>i.jsxs("div",{className:`${s} rounded-xl p-6 hover:shadow-md transition-colors`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:F.code}),i.jsx("p",{className:"text-xs text-gray-400",children:F.email||`${F.code.toLowerCase()}@cabinet.fr`})]}),i.jsxs("span",{className:"text-xs font-bold text-gray-400 bg-gray-100 dark:bg-gray-700 px-2.5 py-1 rounded-full",children:[F.score,"%"]})]}),i.jsx("div",{className:"border border-gray-100 dark:border-gray-700 rounded-lg p-3 mb-3",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] text-gray-400 uppercase",children:"Chiffre d'affaires"}),i.jsxs("p",{className:"text-base font-bold text-gray-900 dark:text-white",children:[Tn(F.ca)," ",i.jsxs("span",{className:"text-xs text-gray-400 font-normal",children:["(Encaiss: ",Tn(F.encaisse),")"]})]})]}),i.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${F.tendance==="Hausse"?"text-green-500":F.tendance==="Baisse"?"text-red-500":"text-gray-400"}`,children:[i.jsx(yr,{className:"w-3 h-3"})," ",F.tendance]})]})}),i.jsxs("div",{className:"border border-gray-100 dark:border-gray-700 rounded-lg p-3 mb-4 flex justify-between items-center",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Statut Rapport"}),i.jsx("div",{className:"w-8 h-1 bg-green-400 rounded-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{onClick:()=>v(F),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg bg-green-500 text-white text-sm font-semibold hover:bg-green-600 transition-colors",children:[i.jsx(Dp,{className:"w-4 h-4"})," Voir dtails"]}),i.jsxs("button",{onClick:()=>j(F.code),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg bg-purple-500 text-white text-sm font-semibold hover:bg-purple-600 transition-colors",children:[i.jsx(kt,{className:"w-4 h-4"})," Rapport"]})]})]},te))}),i.jsxs("div",{className:`${s} rounded-xl overflow-hidden transition-colors`,children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:"Vue d'ensemble"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cabinet"}),i.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Score"}),i.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"CA"}),i.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Encaiss"}),i.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tendance"}),i.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rapport"}),i.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:G.map((F,te)=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-5 py-3",children:i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:F.code}),i.jsx("p",{className:"text-[10px] text-gray-400",children:F.email||`${F.code.toLowerCase()}@cabinet.fr`})]})}),i.jsx("td",{className:"px-5 py-3 text-center",children:i.jsxs("span",{className:"text-xs font-bold text-orange-500 bg-orange-50 px-2 py-0.5 rounded-full",children:[F.score,"%"]})}),i.jsx("td",{className:"px-5 py-3 text-center text-sm text-gray-700 dark:text-gray-300",children:Tn(F.ca)}),i.jsx("td",{className:"px-5 py-3 text-center text-sm text-gray-700 dark:text-gray-300",children:Tn(F.encaisse)}),i.jsx("td",{className:`px-5 py-3 text-center text-sm font-semibold ${F.tendance==="Hausse"?"text-green-500":F.tendance==="Baisse"?"text-red-500":"text-gray-400"}`,children:F.tendance}),i.jsx("td",{className:"px-5 py-3 text-center",children:i.jsx("div",{className:"w-8 h-1 bg-green-400 rounded-full mx-auto"})}),i.jsx("td",{className:"px-5 py-3 text-center",children:i.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full ${F.status==="performant"?"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400":F.status==="surveiller"?"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400":"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400"}`,children:F.status==="performant"?" OK":F.status==="surveiller"?"  surveiller":"  vrifier"})}),i.jsx("td",{className:"px-5 py-3 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:()=>v(F),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-400 hover:text-blue-600",title:"Voir dtails",children:i.jsx(Dp,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>j(F.code),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-400 hover:text-purple-600",title:"Voir rapport",children:i.jsx(kt,{className:"w-4 h-4"})})]})})]},te))})]})})]})]}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>x(null),children:i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl w-full max-w-2xl max-h-[85vh] overflow-y-auto shadow-2xl transition-colors",onClick:F=>F.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-blue-600 to-blue-500 rounded-t-2xl",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:m.cab.name}),i.jsxs("p",{className:"text-blue-100 text-sm",children:["Cabinet ",m.cab.code]})]}),i.jsx("button",{onClick:()=>x(null),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:i.jsx(gs,{className:"w-5 h-5 text-white"})})]}),i.jsx("div",{className:"p-6",children:y?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}):m.details==="error"?i.jsxs("div",{className:"text-center py-12 text-red-500",children:[i.jsx(er,{className:"w-10 h-10 mx-auto mb-2"}),i.jsx("p",{children:"Erreur lors du chargement des dtails."})]}):m.details?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Score de performance"}),i.jsxs("p",{className:"text-3xl font-black text-blue-600",children:[m.cab.score,"%"]})]}),i.jsx("span",{className:`text-sm font-bold px-4 py-2 rounded-full ${m.cab.status==="performant"?"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400":m.cab.status==="surveiller"?"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400":"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400"}`,children:m.cab.status==="performant"?" Performant":m.cab.status==="surveiller"?"  surveiller":"  vrifier"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-xl p-4 text-center",children:[i.jsx(mt,{className:"w-5 h-5 text-blue-600 mx-auto mb-1"}),i.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[Tn(m.details.dernierMois.ca)," "]}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase",children:"CA Dernier Mois"})]}),i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-xl p-4 text-center",children:[i.jsx(vt,{className:"w-5 h-5 text-green-600 mx-auto mb-1"}),i.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:m.details.dernierMois.patients}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase",children:"Patients"})]}),i.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/30 rounded-xl p-4 text-center",children:[i.jsx(Ir,{className:"w-5 h-5 text-purple-600 mx-auto mb-1"}),i.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:m.details.dernierMois.rdv}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase",children:"Rendez-vous"})]}),i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/30 rounded-xl p-4 text-center",children:[i.jsx(yr,{className:"w-5 h-5 text-amber-600 mx-auto mb-1"}),i.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:m.details.dernierMois.nouveauxPatients}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase",children:"Nouveaux patients"})]})]}),i.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl overflow-hidden mb-6",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2.5 text-left text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:"Indicateur"}),i.jsx("th",{className:"px-4 py-2.5 text-right text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:"Valeur"}),i.jsx("th",{className:"px-4 py-2.5 text-center text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:"Statut"})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 bg-white dark:bg-[#1e293b]",children:[i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300",children:"Chiffre d'affaires"}),i.jsxs("td",{className:"px-4 py-2.5 text-sm text-right font-semibold",children:[Tn(m.details.dernierMois.ca)," "]}),i.jsx("td",{className:"px-4 py-2.5 text-center",children:m.details.dernierMois.ca>=25e3?"":""})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300",children:"Montant encaiss"}),i.jsxs("td",{className:"px-4 py-2.5 text-sm text-right font-semibold",children:[Tn(m.details.dernierMois.encaisse)," "]}),i.jsx("td",{className:"px-4 py-2.5 text-center",children:m.details.dernierMois.encaisse>=2e4?"":""})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300",children:"Production horaire"}),i.jsxs("td",{className:"px-4 py-2.5 text-sm text-right font-semibold",children:[m.details.dernierMois.productionHoraire," /h"]}),i.jsx("td",{className:"px-4 py-2.5 text-center",children:m.details.dernierMois.productionHoraire>=300?"":m.details.dernierMois.productionHoraire>=180?"":""})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300",children:"Panier moyen"}),i.jsxs("td",{className:"px-4 py-2.5 text-sm text-right font-semibold",children:[m.details.dernierMois.panierMoyen," "]}),i.jsx("td",{className:"px-4 py-2.5 text-center",children:m.details.dernierMois.panierMoyen>=400?"":""})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300",children:"Heures travailles"}),i.jsxs("td",{className:"px-4 py-2.5 text-sm text-right font-semibold",children:[m.details.dernierMois.heures," h"]}),i.jsx("td",{className:"px-4 py-2.5 text-center",children:""})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300",children:"Taux acceptation devis"}),i.jsxs("td",{className:"px-4 py-2.5 text-sm text-right font-semibold",children:[m.details.dernierMois.tauxAcceptation,"%"]}),i.jsx("td",{className:"px-4 py-2.5 text-center",children:m.details.dernierMois.tauxAcceptation>=60?"":""})]})]})]})}),m.details.evolution.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:[" volution du CA (",m.details.totalMois," mois)"]}),i.jsx("div",{className:"space-y-2",children:m.details.evolution.slice(-6).map((F,te)=>{const z=Math.max(...m.details.evolution.map(R=>R.totalFacture||0),1),q=Math.round((F.totalFacture||0)/z*100),X=F._id?`${F._id.substring(4,6)}/${F._id.substring(0,4)}`:"";return i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 w-14",children:X}),i.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-700 rounded-full h-5 overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-end pr-2",style:{width:`${Math.max(q,5)}%`},children:i.jsxs("span",{className:"text-[10px] text-white font-bold",children:[Tn(F.totalFacture)," "]})})})]},te)})})]}),i.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100 dark:border-gray-700",children:[i.jsxs("button",{onClick:()=>{x(null),t("/admin/reports")},className:"flex-1 py-2.5 bg-purple-500 text-white rounded-lg text-sm font-semibold hover:bg-purple-600 transition-colors flex items-center justify-center gap-2",children:[i.jsx(kt,{className:"w-4 h-4"})," Voir les rapports"]}),i.jsxs("button",{onClick:()=>{x(null),t("/admin/cabinets")},className:"flex-1 py-2.5 bg-blue-500 text-white rounded-lg text-sm font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center gap-2",children:[i.jsx(yr,{className:"w-4 h-4"})," Analyse dtaille"]})]})]}):null})]})})]})}function A4(){const{user:t}=xt(),r=t?.email==="maarzoukrayan3@gmail.com"?"bg-white border border-gray-200 shadow-sm":"bg-white dark:bg-[#1e293b] border border-gray-200 dark:border-gray-700",[s,o]=M.useState([]),[l,c]=M.useState([]),[u,h]=M.useState([]),[p,m]=M.useState(""),[x,y]=M.useState(""),[w,v]=M.useState(!0),[j,k]=M.useState(!1),[_,P]=M.useState(!1),[T,L]=M.useState(!1),[D,W]=M.useState(null);M.useEffect(()=>{H()},[]);const H=async()=>{try{const[S,J,U]=await Promise.all([Uu(),xa(),pw()]);o(S.data),c(J.data.practitioners||[]);const re=U.data||[];h(re),re.length>0&&!p&&m(re[0].value)}catch(S){console.error(S)}finally{v(!1)}},G=async()=>{k(!0),W(null);try{if(x)await dw(x,p),W({type:"success",text:`Rapport gnr pour ${x}`});else{const S=await uw(p);W({type:"success",text:S.data.message})}H()}catch(S){W({type:"error",text:S.response?.data?.message||"Erreur"})}finally{k(!1)}},F=async()=>{P(!0),W(null);try{const S=await hw(p);W({type:"success",text:S.data.message}),H()}catch(S){W({type:"error",text:S.response?.data?.message||"Erreur"})}finally{P(!1)}},te=async()=>{L(!0),W(null);try{const S=await fw(p);W({type:"success",text:S.data.message}),H()}catch(S){W({type:"error",text:S.response?.data?.message||"Erreur lors de l'envoi"})}finally{L(!1)}},z=async(S,J,U)=>{try{const re=await Gg(S),Z=re.headers["content-type"]||"",Y=Z.includes("application/pdf")?"pdf":"html",ce=window.URL.createObjectURL(new Blob([re.data],{type:Z})),le=document.createElement("a");le.href=ce,le.download=`rapport_${J}_${U}.${Y}`,le.click(),window.URL.revokeObjectURL(ce)}catch(re){console.error(re)}},q=S=>S?`${["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"][parseInt(S.substring(4,6))-1]} ${S.substring(0,4)}`:"",X=p?s.filter(S=>S.mois===p):s,R=X.length,I=X.filter(S=>S.emailEnvoye).length;return i.jsxs("div",{children:[i.jsx(Vt,{title:"Rapports Mensuels",subtitle:"Gnrer et envoyer les rapports aux cabinets"}),i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx("div",{className:`${r} rounded-2xl p-6 transition-colors`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-primary-50 dark:bg-primary-900/30 rounded-xl",children:i.jsx(kt,{className:"w-6 h-6 text-primary-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:R}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Rapports Gnrs"})]})]})}),i.jsx("div",{className:`${r} rounded-2xl p-6 transition-colors`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/30 rounded-xl",children:i.jsx(Mi,{className:"w-6 h-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Emails Envoys"})]})]})}),i.jsx("div",{className:`${r} rounded-2xl p-6 transition-colors`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-3 rounded-xl ${R===I&&R>0?"bg-green-50 dark:bg-green-900/30":"bg-amber-50 dark:bg-amber-900/30"}`,children:i.jsx(Ht,{className:`w-6 h-6 ${R===I&&R>0?"text-green-600":"text-amber-600"}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:R===I&&R>0?"":""}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:R===I&&R>0?"Tout envoy":"En attente"})]})]})})]}),i.jsxs("div",{className:`${r} rounded-2xl p-6 mb-8 transition-colors`,children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white mb-4",children:"Gnrer & Envoyer des Rapports"}),D&&i.jsxs("div",{className:`mb-4 p-3 rounded-lg flex items-center gap-2 text-sm ${D.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/30 text-red-700 border border-red-200 dark:border-red-800"}`,children:[D.type==="success"?i.jsx(Ht,{}):i.jsx(er,{}),D.text]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mois"}),i.jsx("select",{value:p,onChange:S=>m(S.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-primary-500 dark:bg-gray-800 dark:text-white",children:u.map(S=>i.jsx("option",{value:S.value,children:S.label},S.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Praticien (optionnel)"}),i.jsxs("select",{value:x,onChange:S=>y(S.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-primary-500 dark:bg-gray-800 dark:text-white",children:[i.jsx("option",{value:"",children:"Tous les praticiens"}),l.map(S=>i.jsxs("option",{value:S.code,children:[S.name," (",S.code,")"]},S.code))]})]}),i.jsxs("div",{className:"flex items-end gap-3",children:[i.jsxs("button",{onClick:G,disabled:j,className:"flex-1 px-4 py-3 bg-primary-600 text-white rounded-xl font-medium hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[j?i.jsx(yi,{className:"animate-spin"}):i.jsx(kt,{}),"Gnrer"]}),i.jsxs("button",{onClick:F,disabled:_,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[_?i.jsx(yi,{className:"animate-spin"}):i.jsx(Mi,{}),"Envoyer"]}),i.jsxs("button",{onClick:te,disabled:T,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[T?i.jsx(yi,{className:"animate-spin"}):i.jsx(xs,{}),"Gnrer & Envoyer"]})]})]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" Nb rapports gnrs = Nb emails envoys = Nb praticiens actifs (",l.length,")"]})]}),i.jsxs("div",{className:`${r} rounded-2xl overflow-hidden transition-colors`,children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:i.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Historique des Rapports"})}),w?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:[i.jsx(kt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),i.jsx("p",{children:"Aucun rapport gnr pour le moment."})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Praticien"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Mois"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"CA"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Email"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Date envoi"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:s.map(S=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-6 py-3 text-sm font-medium text-gray-900 dark:text-white",children:S.praticien}),i.jsx("td",{className:"px-6 py-3 text-sm text-gray-700 dark:text-gray-300",children:q(S.mois)}),i.jsx("td",{className:"px-6 py-3 text-sm text-right text-gray-700 dark:text-gray-300",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(S.contenu?.caMensuel||0)}),i.jsx("td",{className:"px-6 py-3 text-center",children:i.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${S.emailEnvoye?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400"}`,children:S.emailEnvoye?" Envoy":" En attente"})}),i.jsx("td",{className:"px-6 py-3 text-sm text-gray-500 dark:text-gray-400",children:S.dateEnvoi?new Date(S.dateEnvoi).toLocaleDateString("fr-FR"):"-"}),i.jsx("td",{className:"px-6 py-3 text-center",children:i.jsxs("button",{onClick:()=>z(S._id,S.praticien,S.mois),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-red-50 dark:bg-red-900/30 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-lg transition-colors text-sm font-medium",title:"Tlcharger le PDF",children:[i.jsx(nx,{className:"w-4 h-4"}),"PDF"]})})]},S._id))})]})})]})]})]})}fn.register(ja,Na,qi,Un,ya,wa,ka,va,nc);const ls=t=>new Intl.NumberFormat("fr-FR").format(Math.round(t||0)),ig=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function L4(){const[t,e]=M.useState(null),[r,s]=M.useState(!0),[o,l]=M.useState("2025"),[c,u]=M.useState("facture"),[h,p]=M.useState(!1),[m,x]=M.useState("all"),[y,w]=M.useState(!1),{isDynamic:v,dataAccessEnabled:j}=un(),{dark:k}=Vn(),{user:_}=xt(),P=_?.email==="maarzoukrayan3@gmail.com",T=P||v,L=j||P,D=P?"bg-white border border-gray-200 shadow-sm":"bg-white dark:bg-[#1e293b] border border-gray-100 dark:border-gray-700",W=k&&!P?"#94a3b8":"#64748b",H=k&&!P?"rgba(148, 163, 184, 0.1)":"rgba(226, 232, 240, 0.5)",G=M.useRef(null),F=M.useRef(null);M.useEffect(()=>{if(!r){const ee=setTimeout(()=>w(!0),300);return()=>clearTimeout(ee)}},[r]),M.useEffect(()=>{if(!T)return;const ee=Hn(G),ke=Hn(F);return()=>{ee(),ke()}},[r,T]),M.useEffect(()=>{(async()=>{try{const ke=await G2();e(ke.data)}catch(ke){console.error(ke)}finally{s(!1)}})()},[]);const te=t?.evolutionMensuelle||[];t?.globalCA,t?.globalRdv;const z=te.filter(ee=>ee._id&&ee._id.startsWith(o)),q=new Array(12).fill(0),X=new Array(12).fill(0),R=new Array(12).fill(0);z.forEach(ee=>{const ke=parseInt(ee._id.substring(4,6))-1;q[ke]+=ee.totalFacture||0,X[ke]+=ee.totalEncaisse||0,R[ke]+=ee.totalPatients||0});const I={},S={},J={},U=t?.perPractitioner||[];if(U.length>0)U.filter(ee=>ee._id?.startsWith(o)).forEach(ee=>{const ke=ee.praticien||"Inconnu";I[ke]||(I[ke]=0),S[ke]||(S[ke]=0),J[ke]||(J[ke]=0),I[ke]+=ee.totalFacture||0,S[ke]+=ee.totalEncaisse||0,J[ke]+=ee.totalPatients||0});else{const ee=q.reduce((Ue,Wr)=>Ue+Wr,0),ke=X.reduce((Ue,Wr)=>Ue+Wr,0),dr=R.reduce((Ue,Wr)=>Ue+Wr,0),Nt=t?.nbPraticiens||1;if(ee>0)for(let Ue=0;Ue<Nt;Ue++)I[`Cabinet ${Ue+1}`]=Math.round(ee/Nt),S[`Cabinet ${Ue+1}`]=Math.round(ke/Nt),J[`Cabinet ${Ue+1}`]=Math.round(dr/Nt)}const re=Object.entries(I).sort((ee,ke)=>ke[1]-ee[1]),Z={facture:re.map(([ee])=>({name:ee,value:I[ee]||0})),encaisse:re.map(([ee])=>({name:ee,value:S[ee]||0})),patients:re.map(([ee])=>({name:ee,value:J[ee]||0}))},E=Z[c]||Z.facture,Y=E.length>0?Math.max(...E.map(ee=>ee.value),1):1,ce=["linear-gradient(90deg, #3b82f6, #60a5fa, #93c5fd)","linear-gradient(90deg, #10b981, #34d399, #6ee7b7)","linear-gradient(90deg, #f59e0b, #fbbf24, #fde68a)","linear-gradient(90deg, #ef4444, #f87171, #fca5a5)","linear-gradient(90deg, #8b5cf6, #a78bfa, #c4b5fd)","linear-gradient(90deg, #ec4899, #f472b6, #f9a8d4)"],le=c==="facture"?"CA Factur":c==="encaisse"?"CA Encaiss":"Patients",fe=c==="patients"?"":" ",ge=q.reduce((ee,ke)=>ee+ke,0),_e=X.reduce((ee,ke)=>ee+ke,0),de=R.reduce((ee,ke)=>ee+ke,0),ae=ge>0?Math.round(_e/ge*100):0,Me=ae>=90?"Excellent":ae>=75?"Bon":ae>=60?"Moyen":"Faible",Be=ae>=90?"#10b981":ae>=75?"#3b82f6":ae>=60?"#f59e0b":"#ef4444",Oe=[...new Set(te.map(ee=>ee._id?.substring(0,4)).filter(Boolean))].sort();Oe.includes("2024")||Oe.unshift("2024"),Oe.includes("2025")||Oe.push("2025"),Oe.includes("2026")||Oe.push("2026"),Oe.sort();const ot=q.filter(ee=>ee>0),$t=R.filter(ee=>ee>0),Et=oa(ot,"CA factur"),lr=oa($t,"nombre de patients"),ie=ju(q,0,"#f59e0b"),be=ju(R,0,"#f59e0b"),Re=ln(q),tt=ln(R),Ye=Vi({tauxEncaissement:ae,evolutionCA:Et.trend==="upward"?Et.confidence*.5:Et.trend==="downward"?-Et.confidence*.5:0,tauxAbsence:0,productionHoraire:ge>0&&de>0?ge/de:0,tauxNouveauxPatients:10}),Ut={datasets:[{label:"CA Factur",data:q,borderColor:"#2563eb",backgroundColor:ee=>{const ke=ee.chart,{ctx:dr,chartArea:Nt}=ke;if(!Nt)return"rgba(37, 99, 235, 0.1)";const Ue=dr.createLinearGradient(0,Nt.top,0,Nt.bottom);return Ue.addColorStop(0,"rgba(37, 99, 235, 0.15)"),Ue.addColorStop(1,"rgba(37, 99, 235, 0.01)"),Ue},fill:!0,tension:.4,pointRadius:4,pointHoverRadius:7,pointBackgroundColor:"#fff",pointBorderColor:"#2563eb",pointBorderWidth:2,borderWidth:2.5},{label:"CA Encaiss",data:X,borderColor:"#10b981",backgroundColor:"transparent",fill:!1,tension:.4,pointRadius:4,pointHoverRadius:7,pointBackgroundColor:"#fff",pointBorderColor:"#10b981",pointBorderWidth:2,borderWidth:2,borderDash:[5,3]},{...ie.dataset,label:"Tendance IA (Rgression)"},{label:"Anomalies IA",data:q.map((ee,ke)=>Re[ke]?.isAnomaly?ee:null),borderColor:"transparent",backgroundColor:"#ef4444",pointRadius:q.map((ee,ke)=>Re[ke]?.isAnomaly?8:0),pointStyle:"crossRot",pointBorderColor:"#ef4444",pointBorderWidth:3,showLine:!1,fill:!1}]},jt={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,pointStyle:"circle",padding:16,font:{size:11,weight:"500"},color:W}},tooltip:{backgroundColor:"#1e293b",titleColor:"#f8fafc",bodyColor:"#e2e8f0",titleFont:{size:13,weight:"600"},bodyFont:{size:12},padding:12,cornerRadius:8,callbacks:{label:ee=>`  ${ee.dataset.label}: ${ls(ee.parsed.y)} `}}},scales:{x:{grid:{display:!1},border:{display:!1},ticks:{color:W,font:{size:11,weight:"500"}}},y:{beginAtZero:!0,border:{display:!1},grid:{color:H},ticks:{color:W,font:{size:11},callback:ee=>ee>=1e3?`${Math.round(ee/1e3)}k`:ee}}}},cr={labels:ig,datasets:[{label:"Patients traits",data:R,borderColor:"#8b5cf6",backgroundColor:ee=>{const ke=ee.chart,{ctx:dr,chartArea:Nt}=ke;if(!Nt)return"rgba(139, 92, 246, 0.1)";const Ue=dr.createLinearGradient(0,Nt.top,0,Nt.bottom);return Ue.addColorStop(0,"rgba(139, 92, 246, 0.15)"),Ue.addColorStop(1,"rgba(139, 92, 246, 0.01)"),Ue},fill:!0,tension:.4,pointRadius:4,pointHoverRadius:7,pointBackgroundColor:"#fff",pointBorderColor:"#8b5cf6",pointBorderWidth:2,borderWidth:2.5}]};cr.datasets.push({...be.dataset,label:"Tendance IA"},{label:"Anomalies IA",data:R.map((ee,ke)=>tt[ke]?.isAnomaly?ee:null),borderColor:"transparent",backgroundColor:"#ef4444",pointRadius:R.map((ee,ke)=>tt[ke]?.isAnomaly?8:0),pointStyle:"crossRot",pointBorderColor:"#ef4444",pointBorderWidth:3,showLine:!1,fill:!1});const he={...jt,plugins:{...jt.plugins,tooltip:{...jt.plugins.tooltip,callbacks:{label:ee=>`  ${ee.parsed.y} patients`}}},scales:{...jt.scales,y:{...jt.scales.y,ticks:{...jt.scales.y.ticks,callback:ee=>ee}}}},V=70,pe=2*Math.PI*V,Le=y?pe-ae/100*pe:pe,Ze=T&&!r,ft=De(ge,2e3,Ze),Ge=De(_e,2e3,Ze),pn=De(de,1800,Ze),Sa=De(ae,1500,Ze);if(r||!t)return i.jsx("div",{className:"flex items-center justify-center h-screen bg-[#f8fafc] dark:bg-[#0f172a]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const Yi={labels:ig,datasets:Ut.datasets.filter(ee=>m==="all"?!0:m==="facture"?ee.label==="CA Factur"||ee.label==="Tendance IA (Rgression)"||ee.label==="Anomalies IA":m==="encaisse"?ee.label==="CA Encaiss":m==="tendance"?ee.label==="Tendance IA (Rgression)"||ee.label==="Anomalies IA":!0)};return i.jsxs("div",{children:[i.jsx(Vt,{title:"Statistiques des cabinets",subtitle:`Anne ${o}`}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("span",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider",children:"Anne"}),i.jsx("div",{className:"flex gap-1.5 bg-gray-100 dark:bg-gray-700 rounded-xl p-1",children:Oe.map(ee=>i.jsx("button",{onClick:()=>{l(ee),w(!1),setTimeout(()=>w(!0),100)},className:`px-5 py-2 rounded-lg font-semibold text-sm transition-all duration-300 ${o===ee?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-md shadow-blue-200 dark:shadow-blue-900 scale-105":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-white/60 dark:hover:bg-white/10"}`,children:ee},ee))}),o&&i.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[i.jsx(la,{className:"w-3 h-3 text-blue-400"}),z.length," mois de donnes"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[{icon:mt,label:"CA Factur",value:ft,suffix:" ",gradient:"from-blue-500 to-blue-600",bgLight:"bg-blue-50",textColor:"text-blue-600",raw:ge},{icon:rn,label:"CA Encaiss",value:Ge,suffix:" ",gradient:"from-green-500 to-emerald-600",bgLight:"bg-green-50",textColor:"text-green-600",raw:_e},{icon:vt,label:"Patients traits",value:pn,suffix:"",gradient:"from-purple-500 to-violet-600",bgLight:"bg-purple-50",textColor:"text-purple-600",raw:de},{icon:Lw,label:"Taux encaissement",value:Sa,suffix:"%",gradient:ae>=85?"from-green-500 to-emerald-600":ae>=70?"from-amber-500 to-orange-500":"from-red-500 to-rose-600",bgLight:ae>=85?"bg-green-50":ae>=70?"bg-amber-50":"bg-red-50",textColor:ae>=85?"text-green-600":ae>=70?"text-amber-600":"text-red-600",raw:ae}].map((ee,ke)=>i.jsxs("div",{className:`${D} rounded-xl p-5 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 group cursor-default relative overflow-hidden`,children:[i.jsx("div",{className:`absolute -top-6 -right-6 w-20 h-20 rounded-full bg-gradient-to-br ${ee.gradient} opacity-0 group-hover:opacity-10 transition-opacity duration-500 blur-xl`}),i.jsxs("div",{className:"flex items-center gap-3 relative",children:[i.jsx("div",{className:`p-2.5 rounded-xl ${ee.bgLight} ${ee.textColor} group-hover:scale-110 transition-transform duration-300`,children:i.jsx(ee.icon,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mb-0.5",children:ee.label}),i.jsxs("p",{className:`text-2xl font-black ${ee.label==="Taux encaissement"?ee.textColor:"text-gray-900 dark:text-white"}`,children:[ls(ee.value),ee.suffix]})]})]}),i.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[i.jsx(la,{className:`w-3 h-3 ${ee.textColor}`}),i.jsx("div",{className:"flex-1 h-1 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-1 rounded-full bg-gradient-to-r ${ee.gradient} transition-all duration-1000`,style:{width:`${Math.min(ee.raw/Math.max(ge,1)*100,100)}%`}})})]})]},ke))}),i.jsxs("div",{className:`${D} rounded-xl p-6 mb-6 transition-colors`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white mb-0.5",children:"Performance par cabinet"}),i.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Rpartition en ",o,"  ",le]})]}),i.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-0.5",children:[i.jsxs("button",{onClick:()=>{u("facture"),p(!0)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-semibold transition-all duration-300 ${c==="facture"?"bg-blue-600 text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[i.jsx(mt,{className:"w-3 h-3"})," Factur"]}),i.jsxs("button",{onClick:()=>{u("encaisse"),p(!0)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-semibold transition-all duration-300 ${c==="encaisse"?"bg-green-600 text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[i.jsx(rn,{className:"w-3 h-3"})," Encaiss"]}),i.jsxs("button",{onClick:()=>{u("patients"),p(!0)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-semibold transition-all duration-300 ${c==="patients"?"bg-purple-600 text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[i.jsx(ks,{className:"w-3 h-3"})," Patients"]})]})]}),i.jsxs("div",{className:"space-y-5",children:[E.map((ee,ke)=>{const dr=Y>0?ee.value/Y*100:0,Nt=ce[ke%ce.length],Ue=I[ee.name]>0?Math.round(S[ee.name]/I[ee.name]*100):0;return i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white text-xs font-bold shadow-sm",style:{background:ce[ke%ce.length]},children:ee.name.substring(0,2)}),i.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:ee.name})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[c!=="patients"&&i.jsxs("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${Ue>=85?"bg-green-50 text-green-600":Ue>=70?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"}`,children:["Enc. ",Ue,"%"]}),i.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[ls(ee.value),fe]})]})]}),i.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-7 overflow-hidden relative group-hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"h-7 rounded-full relative overflow-hidden",style:{width:`${dr}%`,background:Nt,transition:T?"width 1s cubic-bezier(0.4, 0, 0.2, 1)":"none"},children:[i.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-full",children:i.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%)",animation:T?"shimmer 2.5s ease-in-out infinite":"none"}})}),dr>20&&i.jsxs("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[11px] font-bold text-white/90 drop-shadow",children:[ls(ee.value),fe]})]})})]},ee.name+c)}),E.length===0&&i.jsxs("p",{className:"text-sm text-gray-400 dark:text-gray-500 text-center py-4",children:["Aucune donne pour ",o]})]}),E.length>=2&&i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[i.jsx(yr,{className:"w-3.5 h-3.5 text-blue-500"}),i.jsxs("span",{children:[i.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:E[0].name})," est en tte avec"," ",i.jsxs("span",{className:"font-bold text-blue-600",children:[ls(E[0].value),fe]}),E.length>1&&i.jsxs(i.Fragment,{children:["  cart de ",i.jsxs("span",{className:"font-bold text-amber-600",children:[ls(E[0].value-E[E.length-1].value),fe]})," avec ",E[E.length-1].name]})]})]})})]}),!L&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 p-12 text-center mb-6",children:[i.jsx(qe,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-gray-400 dark:text-gray-500 mb-2",children:"Modles IA dsactivs"}),i.jsxs("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:["Les graphiques et analyses IA sont temporairement indisponibles.",i.jsx("br",{}),"Contactez l'administrateur pour ractiver les modles."]})]}),L&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`${D} rounded-xl p-6 mb-6 transition-colors`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:"volution du Chiffre d'Affaires"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center gap-0.5 bg-gray-100 dark:bg-gray-700 rounded-lg p-0.5",children:[{key:"all",label:"Tout",icon:ks},{key:"facture",label:"Factur",icon:mt},{key:"encaisse",label:"Encaiss",icon:rn},{key:"tendance",label:"IA",icon:qe}].map(ee=>i.jsxs("button",{onClick:()=>x(ee.key),className:`flex items-center gap-1 px-2.5 py-1 rounded-md text-[10px] font-semibold transition-all duration-300 ${m===ee.key?"bg-blue-600 text-white shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[i.jsx(ee.icon,{className:"w-3 h-3"})," ",ee.label]},ee.key))}),i.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-200",children:[i.jsxs("span",{className:"relative flex h-2 w-2",children:[i.jsx("span",{className:`${T?"animate-ping":""} absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75`}),i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Temps rel"]})]})]}),i.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mb-4",children:["CA Factur vs Encaiss par mois en ",o,"  ",i.jsx("span",{className:"font-semibold text-blue-500 cursor-pointer hover:underline",onClick:()=>x(m==="all"?"facture":"all"),children:m==="all"?"Cliquez pour filtrer":"Voir tout"})]}),i.jsx("div",{style:{height:"320px"},children:i.jsx("div",{className:P?"bg-white rounded-xl p-3":"",children:i.jsx(fa,{ref:G,data:Yi,options:jt,plugins:T?[Du]:[]})})}),i.jsxs("div",{className:"mt-4 bg-gradient-to-r from-amber-50 to-violet-50 dark:from-amber-900/30 dark:to-violet-900/30 rounded-xl border border-amber-100 dark:border-amber-800 p-4 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(qe,{className:"w-3.5 h-3.5 text-amber-600"}),i.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:"Analyse IA  CA"}),i.jsxs("span",{className:"ml-auto text-[9px] font-semibold text-amber-600 bg-amber-100 px-2 py-0.5 rounded-full",children:["Rgression linaire  R=",Et.confidence,"%"]})]}),Et.parts.map((ee,ke)=>i.jsx("p",{className:"text-[11px] text-gray-600 dark:text-gray-400 leading-relaxed",children:ee},ke))]})]}),i.jsxs("div",{className:`${D} rounded-xl p-6 mb-6 transition-colors`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:"Nombre de patients traits"}),i.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-green-600 bg-green-50 px-2.5 py-1 rounded-full border border-green-200",children:[i.jsxs("span",{className:"relative flex h-2 w-2",children:[i.jsx("span",{className:`${T?"animate-ping":""} absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75`}),i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Temps rel"]})]}),i.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mb-4",children:["volution mensuelle en ",o]}),i.jsx("div",{style:{height:"280px"},children:i.jsx("div",{className:P?"bg-white rounded-xl p-3":"",children:i.jsx(fa,{ref:F,data:cr,options:he,plugins:T?[Du]:[]})})}),i.jsxs("div",{className:"mt-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/30 dark:to-blue-900/30 rounded-xl border border-purple-100 dark:border-purple-800 p-4 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(qe,{className:"w-3.5 h-3.5 text-purple-600"}),i.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:"Analyse IA  Patients"}),i.jsx("span",{className:"ml-auto text-[9px] font-semibold text-purple-600 bg-purple-100 px-2 py-0.5 rounded-full",children:"Modle Holt-Winters"})]}),lr.parts.map((ee,ke)=>i.jsx("p",{className:"text-[11px] text-gray-600 dark:text-gray-400 leading-relaxed",children:ee},ke))]})]}),i.jsxs("div",{className:`${D} rounded-xl p-8 relative overflow-hidden transition-colors`,children:[i.jsx("div",{className:"absolute -top-20 -right-20 w-60 h-60 rounded-full border-[30px] border-gray-50 dark:border-gray-700 opacity-50"}),i.jsx("div",{className:"absolute -bottom-16 -left-16 w-48 h-48 rounded-full border-[20px] border-gray-50 dark:border-gray-700 opacity-30"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[i.jsx(xs,{className:`w-5 h-5 ${ae>=85?"text-green-500":ae>=70?"text-amber-500":"text-red-500"}`}),i.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:"Score moyen d'encaissement"}),i.jsx("span",{className:`text-[9px] font-bold px-2 py-0.5 rounded-full ${ae>=85?"bg-green-50 text-green-600":ae>=70?"bg-amber-50 text-amber-600":"bg-red-50 text-red-600"}`,children:Ye.label})]}),i.jsxs("div",{className:"flex flex-col items-center relative",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(${Be}22 0deg, ${Be}11 ${ae*3.6}deg, transparent ${ae*3.6}deg)`,transform:"scale(1.25)",filter:"blur(8px)"}}),i.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 200 200",className:"relative z-10",children:[i.jsx("circle",{cx:"100",cy:"100",r:V,fill:"none",stroke:k?"#334155":"#f1f5f9",strokeWidth:"14"}),i.jsx("circle",{cx:"100",cy:"100",r:V,fill:"none",stroke:"url(#scoreGradient)",strokeWidth:"14",strokeLinecap:"round",strokeDasharray:pe,strokeDashoffset:Le,transform:"rotate(-90 100 100)",style:{transition:T?"stroke-dashoffset 2s cubic-bezier(0.4, 0, 0.2, 1)":"none"}}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"scoreGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:Be}),i.jsx("stop",{offset:"100%",stopColor:ae>=85?"#34d399":ae>=70?"#fbbf24":"#f87171"})]})}),i.jsxs("text",{x:"100",y:"90",textAnchor:"middle",fill:k?"#f1f5f9":"#1e293b",fontSize:"40",fontWeight:"900",children:[Sa,"%"]}),i.jsx("text",{x:"100",y:"118",textAnchor:"middle",fill:Be,fontSize:"14",fontWeight:"600",children:Me})]}),y&&i.jsx("div",{className:"absolute w-4 h-4 rounded-full shadow-lg z-20",style:{backgroundColor:Be,boxShadow:`0 0 12px ${Be}88`,top:`${100-V*Math.cos(ae/100*Math.PI*2-Math.PI/2)-2}px`,left:`${100+V*Math.sin(ae/100*Math.PI*2-Math.PI/2)-2}px`,transition:"all 2s cubic-bezier(0.4, 0, 0.2, 1)"}})]}),i.jsx("div",{className:"mt-8 grid grid-cols-3 gap-4 w-full max-w-lg",children:[{label:"CA Factur",value:ft,suffix:" ",color:"blue",icon:mt},{label:"CA Encaiss",value:Ge,suffix:" ",color:"green",icon:rn},{label:"Patients",value:pn,suffix:"",color:"purple",icon:vt}].map((ee,ke)=>i.jsxs("div",{className:`text-center p-4 rounded-xl bg-${ee.color}-50/50 border border-${ee.color}-100/50 hover:shadow-md hover:-translate-y-0.5 transition-all duration-300 cursor-default`,children:[i.jsx(ee.icon,{className:`w-4 h-4 text-${ee.color}-500 mx-auto mb-1`}),i.jsxs("p",{className:"text-xl font-black text-gray-900 dark:text-white",children:[ls(ee.value),ee.suffix]}),i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-0.5",children:ee.label})]},ke))})]})]})]})]})]})}function T4(){const t=$r(),{loginUser:e,user:r}=xt(),s=r?.email==="maarzoukrayan3@gmail.com",o=s?"bg-white border border-gray-200 shadow-sm":"bg-white dark:bg-[#111c44] border border-gray-200 dark:border-blue-800/60",{refreshSettings:l}=qu(),{isDynamic:c,refreshDynamic:u}=un(),[h,p]=M.useState([]),[m,x]=M.useState(!0),[y,w]=M.useState(!0),[v,j]=M.useState(!0),[k,_]=M.useState(!1),[P,T]=M.useState(!0),[L,D]=M.useState(!0),[W,H]=M.useState(!1),[G,F]=M.useState(null),[te,z]=M.useState(null),[q,X]=M.useState(null),[R,I]=M.useState(null),[S,J]=M.useState(""),[U,re]=M.useState(null),[Z,E]=M.useState(null),[Y,ce]=M.useState(""),[le,fe]=M.useState(""),[ge,_e]=M.useState(!1),[de,ae]=M.useState(null),[Me,Be]=M.useState(null);M.useEffect(()=>{(async()=>{try{const pe=await X2();p(pe.data.users||[]),pe.data.appSettings&&(w(pe.data.appSettings.autoGeneration),j(pe.data.appSettings.autoEmail),_(pe.data.appSettings.maintenanceMode||!1),T(pe.data.appSettings.aiModelsEnabled!==!1),D(pe.data.appSettings.importEnabled!==!1),Be(pe.data.appSettings.dynamicExpiresAt||null))}catch(pe){console.error(pe)}finally{x(!1)}})()},[]);const Oe=V=>{F(V),setTimeout(()=>F(null),2500)},ot=async V=>{const pe={autoGeneration:y,autoEmail:v,maintenanceMode:k,importEnabled:L},Le={autoGeneration:w,autoEmail:j,maintenanceMode:_,importEnabled:D},Ze={autoGeneration:Ge=>`Gnration automatique ${Ge?"active":"dsactive"}`,autoEmail:Ge=>`Envoi par email ${Ge?"activ":"dsactiv"}`,maintenanceMode:Ge=>`Mode maintenance ${Ge?"ACTIV  site bloqu pour les praticiens":"dsactiv"}`,importEnabled:Ge=>`Import de donnes ${Ge?"autoris":"BLOQU"}`},ft=!pe[V];Le[V](ft),H(!0);try{await J2({[V]:ft}),Oe(Ze[V](ft)),l()}catch{Le[V](!ft),Oe("Erreur lors de la mise  jour")}finally{H(!1)}},$t=()=>{const V=!P;E({targetState:V,step:"code"}),ce(""),fe(""),_e(!1),ae(null),Pp(V).catch(()=>{})},Et=async()=>{if(!Y.trim()){ae("Veuillez entrer votre code administrateur.");return}E(V=>({...V,step:"verifying"})),ae(null);try{const V=await Rp(Y.trim(),"admin");E(Le=>({...Le,step:"done"}));const pe=V.data.aiModelsEnabled;T(pe),Pl(pe),Be(V.data.dynamicExpiresAt||null),l(),u()}catch(V){ae(V.response?.data?.message||"Code admin incorrect"),E(pe=>({...pe,step:"code"}))}},lr=async()=>{ae(null),E(V=>({...V,step:"sending"}));try{await Pp(Z.targetState,!0),_e(!0),E(V=>({...V,step:"code"}))}catch(V){ae(V.response?.data?.message||"Erreur lors de l'envoi du code"),E(pe=>({...pe,step:"code"}))}},ie=async()=>{if(!le.trim()){ae("Veuillez entrer le code reu par email.");return}E(V=>({...V,step:"verifying"})),ae(null);try{const V=await Rp(le.trim(),"email");E(Le=>({...Le,step:"done"}));const pe=V.data.aiModelsEnabled;T(pe),Pl(pe),Be(V.data.dynamicExpiresAt||null),l(),u()}catch(V){ae(V.response?.data?.message||"Code email incorrect ou expir"),E(pe=>({...pe,step:"code"}))}},be=()=>{E(null),ce(""),fe(""),_e(!1),ae(null)},Re=V=>{V.role!=="admin"&&(z({user:V,step:"confirm"}),X(null))},tt=async()=>{z(V=>({...V,step:"switching"})),X(null);try{const V=await Q2(te.user._id);e(V.data.user,V.data.token),z(null),t("/dashboard",{replace:!0})}catch(V){X(V.response?.data?.message||"Erreur lors de la connexion"),z(pe=>({...pe,step:"confirm"}))}},Ye=()=>{z(null),X(null)},Ut=(V,pe)=>{V.stopPropagation(),pe.role!=="admin"&&(I({user:pe,step:"confirm"}),J(""),re(null))},jt=async()=>{I(V=>({...V,step:"sending"})),re(null);try{await Z2(R.user._id),I(V=>({...V,step:"code"}))}catch(V){re(V.response?.data?.message||"Erreur lors de l'envoi du code"),I(pe=>({...pe,step:"confirm"}))}},cr=async()=>{if(!S.trim()){re("Veuillez entrer le code de vrification.");return}I(V=>({...V,step:"verifying"})),re(null);try{await ew(R.user._id,S.trim()),I(V=>({...V,step:"done"})),p(V=>V.filter(pe=>pe._id!==R.user._id))}catch(V){re(V.response?.data?.message||"Code incorrect ou expir"),I(pe=>({...pe,step:"code"}))}},he=()=>{I(null),J(""),re(null)};return i.jsxs("div",{children:[i.jsx(Vt,{title:"Rglages",subtitle:"Configuration du systme et gestion des utilisateurs"}),G&&i.jsxs("div",{className:"fixed top-6 right-6 z-50 flex items-center gap-2 bg-green-600 text-white px-5 py-3 rounded-xl shadow-lg animate-fade-in",children:[i.jsx(Ht,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:G})]}),i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:`${o} rounded-2xl overflow-hidden mb-8 transition-colors`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-blue-800/40 flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Utilisateurs"}),i.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[h.length," utilisateur(s)"]})]}),m?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:h.map(V=>i.jsxs("div",{className:`px-6 py-4 flex items-center justify-between transition-colors ${V.role!=="admin"?"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer group":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>Re(V),title:V.role!=="admin"?`Se connecter en tant que ${V.name}`:void 0,children:["                  ",i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${V.role==="admin"?"bg-primary-600":"bg-blue-500"}`,children:V.name?.charAt(0)||V.email?.charAt(0)?.toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:V.name||V.email}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:V.email})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[V.cabinetName&&i.jsx("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:V.cabinetName}),i.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${V.role==="admin"?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"}`,children:[i.jsx(Ss,{className:"w-3 h-3"}),V.role==="admin"?"Administrateur":"Praticien"]}),i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${V.isActive!==!1?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[i.jsx(la,{className:"w-3 h-3"}),V.isActive!==!1?"Actif":"Inactif"]}),V.role!=="admin"&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx(al,{className:"w-3 h-3"})," Se connecter"]}),V.role!=="admin"&&i.jsxs("button",{onClick:pe=>Ut(pe,V),className:"inline-flex items-center gap-1 px-2.5 py-1.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors opacity-0 group-hover:opacity-100",title:`Supprimer le compte de ${V.name}`,children:[i.jsx(vi,{className:"w-3 h-3"})," Supprimer"]})]})]},V._id))})]}),i.jsxs("div",{className:`${o} rounded-2xl overflow-hidden mb-8 transition-colors`,children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-blue-800/40 flex items-center justify-between bg-gradient-to-r from-red-50 to-amber-50 dark:from-red-900/20 dark:to-amber-900/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/40 rounded-lg",children:i.jsx($n,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Contrle Production"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Stopper les donnes, modles IA et accs en un clic"})]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${k?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700":"bg-gray-50 dark:bg-gray-800 border-transparent"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${k?"bg-red-100 dark:bg-red-900/40":"bg-gray-200 dark:bg-gray-700"}`,children:i.jsx(lx,{className:`w-5 h-5 ${k?"text-red-600":"text-gray-500"}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Mode Maintenance"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:k?" Site bloqu  seul l'admin peut accder":"Bloquer l'accs au site pour tous les praticiens"})]})]}),i.jsx("button",{onClick:()=>ot("maintenanceMode"),disabled:W,className:`w-11 h-6 rounded-full relative transition-colors duration-200 focus:outline-none ${k?"bg-red-600":"bg-gray-300 dark:bg-gray-600"}`,children:i.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform duration-200 ${k?"translate-x-[22px]":"translate-x-1"}`})})]}),s&&i.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${P?c?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-300 dark:border-emerald-700":"bg-gray-50 dark:bg-gray-800 border-transparent":"bg-amber-50 dark:bg-amber-900/20 border-amber-300 dark:border-amber-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${c?"bg-emerald-100 dark:bg-emerald-900/40":P?"bg-gray-200 dark:bg-gray-700":"bg-amber-100 dark:bg-amber-900/40"}`,children:i.jsx(xs,{className:`w-5 h-5 ${c?"text-emerald-600":P?"text-gray-500":"text-amber-600"}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Modles IA & Mode Dynamique"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:c?` Actif  expire le ${new Date(Me).toLocaleDateString("fr-FR")}`:P?" En attente d'activation dynamique":" Dsactiv  graphiques statiques"}),c&&i.jsxs("p",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mt-0.5 flex items-center gap-1",children:[i.jsx(Ir,{className:"w-3 h-3"}),"Renouvellement automatique par email tous les 15 jours"]})]})]}),i.jsxs("button",{onClick:$t,className:`px-4 py-2 rounded-lg text-xs font-semibold transition-all flex items-center gap-1.5 ${c?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50":"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-200 dark:hover:bg-emerald-900/50"}`,children:[i.jsx(da,{className:"w-3 h-3"}),c?"Dsactiver":"Activer"]})]}),i.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${L?"bg-gray-50 dark:bg-gray-800 border-transparent":"bg-amber-50 dark:bg-amber-900/20 border-amber-300 dark:border-amber-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${L?"bg-gray-200 dark:bg-gray-700":"bg-amber-100 dark:bg-amber-900/40"}`,children:i.jsx(Ku,{className:`w-5 h-5 ${L?"text-gray-500":"text-amber-600"}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Import de donnes"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:L?"Les imports de fichiers TSV/CSV sont autoriss":" Aucune nouvelle donne ne peut tre importe"})]})]}),i.jsx("button",{onClick:()=>ot("importEnabled"),disabled:W,className:`w-11 h-6 rounded-full relative transition-colors duration-200 focus:outline-none ${L?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}`,children:i.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform duration-200 ${L?"translate-x-[22px]":"translate-x-1"}`})})]}),(k||s&&!P||!L)&&i.jsxs("div",{className:"p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 flex items-start gap-2",children:[i.jsx($n,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 leading-relaxed",children:[i.jsx("strong",{children:"Attention :"})," Des fonctionnalits sont dsactives.",k&&i.jsx("span",{className:"block mt-1",children:" Les praticiens ne peuvent plus accder au site."}),s&&!P&&i.jsx("span",{className:"block mt-1",children:" Les analyses IA (tendances, anomalies, prvisions, scoring) sont stoppes sur toutes les pages."}),!L&&i.jsx("span",{className:"block mt-1",children:" L'import de nouvelles donnes est bloqu."})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:`${o} rounded-2xl p-6 transition-colors`,children:[i.jsxs("h3",{className:"text-lg font-semibold dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(js,{className:"text-primary-600"})," Automatisation"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Gnration automatique"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Rapports gnrs le dernier jour du mois"})]}),i.jsx("button",{onClick:()=>ot("autoGeneration"),disabled:W,className:`w-11 h-6 rounded-full relative transition-colors duration-200 focus:outline-none ${y?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}`,children:i.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform duration-200 ${y?"translate-x-[22px]":"translate-x-1"}`})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Envoi automatique par email"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Rapports envoys aprs gnration"})]}),i.jsx("button",{onClick:()=>ot("autoEmail"),disabled:W,className:`w-11 h-6 rounded-full relative transition-colors duration-200 focus:outline-none ${v?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}`,children:i.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform duration-200 ${v?"translate-x-[22px]":"translate-x-1"}`})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Heure de gnration"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Planifi chaque dernier jour du mois"})]}),i.jsx("span",{className:"text-sm font-mono font-bold text-primary-700",children:"20:00"})]})]})]}),i.jsxs("div",{className:`${o} rounded-2xl p-6 transition-colors`,children:[i.jsxs("h3",{className:"text-lg font-semibold dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Ns,{className:"text-blue-600"})," Configuration Email"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Service"}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Gmail SMTP"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Expditeur"}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Efficience Analytics"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Destinataire rapports"}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"maarzoukrayan3@gmail.com"})]}),i.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-xl border border-blue-100 dark:border-blue-800",children:i.jsx("p",{className:"text-xs font-medium text-blue-600",children:" Nb rapports = Nb emails = Nb praticiens actifs"})})]})]})]})]}),te&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:Ye,children:i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl w-full max-w-md shadow-2xl transition-all",onClick:V=>V.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-t-2xl",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(al,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-base font-bold text-white",children:"Connexion praticien"}),i.jsxs("p",{className:"text-blue-200 text-xs",children:[te.user.name," (",te.user.email,")"]})]})]}),i.jsx("button",{onClick:Ye,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:i.jsx(gs,{className:"w-5 h-5 text-white"})})]}),i.jsxs("div",{className:"p-6",children:[te.step==="confirm"&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center",children:i.jsx(al,{className:"w-7 h-7 text-blue-600"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Basculer vers ce compte"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Vous allez vous connecter au compte de"}),i.jsx("p",{className:"text-base font-bold text-gray-900 dark:text-white mb-1",children:te.user.name}),i.jsx("p",{className:"text-xs text-gray-400 mb-6",children:te.user.email}),q&&i.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 flex items-center gap-2",children:[i.jsx(er,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:q})]}),i.jsxs("button",{onClick:tt,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(al,{className:"w-4 h-4"})," Se connecter"]}),i.jsx("button",{onClick:Ye,className:"mt-3 text-xs font-medium text-gray-400 hover:text-gray-600 transition-colors",children:"Annuler"})]}),te.step==="switching"&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:i.jsx(tn,{className:"w-12 h-12 text-blue-600 animate-spin"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Connexion en cours"}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Basculement vers le compte de ",te.user.name]})]})]})]})}),R&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:he,children:i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl w-full max-w-md shadow-2xl transition-all",onClick:V=>V.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-red-600 to-red-500 rounded-t-2xl",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:i.jsx(vi,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-base font-bold text-white",children:"Dsactivation du compte"}),i.jsxs("p",{className:"text-red-200 text-xs",children:[R.user.name," (",R.user.email,")"]})]})]}),i.jsx("button",{onClick:he,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:i.jsx(gs,{className:"w-5 h-5 text-white"})})]}),i.jsxs("div",{className:"p-6",children:[R.step==="confirm"&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-50 dark:bg-red-900/30 flex items-center justify-center",children:i.jsx($n,{className:"w-7 h-7 text-red-600"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Supprimer ce compte ?"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Vous allez supprimer dfinitivement le compte de"}),i.jsx("p",{className:"text-base font-bold text-gray-900 dark:text-white mb-1",children:R.user.name}),i.jsx("p",{className:"text-xs text-gray-400 mb-2",children:R.user.email}),i.jsx("div",{className:"p-3 rounded-lg bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 mb-6",children:i.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400",children:[i.jsx("strong",{children:" Attention :"})," Cette action est irrversible. Le compte et toutes ses donnes seront supprims. Un code de vrification sera envoy  votre email."]})}),U&&i.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 flex items-center gap-2",children:[i.jsx(er,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:U})]}),i.jsxs("button",{onClick:jt,className:"w-full py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Mi,{className:"w-4 h-4"})," Envoyer le code de vrification"]}),i.jsx("button",{onClick:he,className:"mt-3 text-xs font-medium text-gray-400 hover:text-gray-600 transition-colors",children:"Annuler"})]}),R.step==="sending"&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:i.jsx(tn,{className:"w-12 h-12 text-red-600 animate-spin"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Envoi du code en cours"}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Vrifiez votre bote email"})]}),R.step==="code"&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center",children:i.jsx(da,{className:"w-7 h-7 text-blue-600"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Entrez le code de vrification"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Un code  6 chiffres a t envoy  votre email"}),U&&i.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 flex items-center gap-2",children:[i.jsx(er,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:U})]}),i.jsx("input",{type:"text",value:S,onChange:V=>J(V.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"w-full text-center text-3xl font-mono font-bold tracking-[12px] py-4 px-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-red-500 mb-6",autoFocus:!0,onKeyDown:V=>V.key==="Enter"&&S.length===6&&cr()}),i.jsxs("button",{onClick:cr,disabled:S.length!==6,className:`w-full py-3 rounded-xl font-semibold transition-colors flex items-center justify-center gap-2 ${S.length===6?"bg-red-600 text-white hover:bg-red-700":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(vi,{className:"w-4 h-4"})," Confirmer la suppression"]}),i.jsx("button",{onClick:he,className:"mt-3 text-xs font-medium text-gray-400 hover:text-gray-600 transition-colors",children:"Annuler"})]}),R.step==="verifying"&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:i.jsx(tn,{className:"w-12 h-12 text-red-600 animate-spin"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Vrification en cours"}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Suppression du compte"})]}),R.step==="done"&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-50 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(Ht,{className:"w-7 h-7 text-green-600"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Compte supprim"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:["Le compte de ",i.jsx("strong",{children:R.user.name})," a t supprim dfinitivement."]}),i.jsx("p",{className:"text-xs text-gray-400 mb-6",children:"Toutes les donnes associes ont t supprimes."}),i.jsx("button",{onClick:he,className:"w-full py-3 bg-gray-800 dark:bg-gray-600 text-white rounded-xl font-semibold hover:bg-gray-900 dark:hover:bg-gray-500 transition-colors",children:"Fermer"})]})]})]})}),Z&&i.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:`px-6 py-4 flex items-center justify-between ${Z.targetState?"bg-gradient-to-r from-emerald-600 to-green-600":"bg-gradient-to-r from-red-600 to-orange-600"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:i.jsx(xs,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-bold text-sm",children:"Modles IA & Dynamisme"}),i.jsx("p",{className:"text-white/70 text-xs",children:Z.targetState?"Activation":"Dsactivation"})]})]}),i.jsx("button",{onClick:be,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:i.jsx(gs,{className:"w-5 h-5 text-white"})})]}),i.jsxs("div",{className:"p-6",children:[Z.step==="code"&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-center text-lg font-bold text-gray-900 dark:text-white mb-1",children:Z.targetState?"Activer le mode dynamique":"Dsactiver le mode dynamique"}),i.jsx("p",{className:"text-center text-xs text-gray-400 mb-5",children:Z.targetState?"Activez les graphiques dynamiques et les analyses IA pour tous les utilisateurs (15 jours).":"Le site repassera en mode statique pour tous les utilisateurs."}),de&&i.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 flex items-center gap-2",children:[i.jsx(er,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:de})]}),i.jsxs("div",{className:"mb-5 p-4 rounded-xl border-2 border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-7 h-7 rounded-lg bg-blue-600 flex items-center justify-center",children:i.jsx(Rw,{className:"w-3.5 h-3.5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Code Administrateur"}),i.jsx("p",{className:"text-[10px] text-gray-400",children:"Code permanent  activation instantane"})]})]}),i.jsx("input",{type:"password",value:Y,onChange:V=>ce(V.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"",maxLength:6,className:"w-full text-center text-2xl font-mono font-bold tracking-[10px] py-3 px-4 rounded-xl border-2 border-blue-200 dark:border-blue-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mb-3",autoFocus:!0,onKeyDown:V=>V.key==="Enter"&&Y.length===6&&Et()}),i.jsxs("button",{onClick:Et,disabled:Y.length!==6,className:`w-full py-2.5 rounded-xl font-semibold text-sm transition-colors flex items-center justify-center gap-2 ${Y.length===6?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(xs,{className:"w-4 h-4"})," Activer maintenant"]})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"}),i.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"ou"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"})]}),i.jsxs("div",{className:"p-4 rounded-xl border-2 border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-900/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-7 h-7 rounded-lg bg-amber-500 flex items-center justify-center",children:i.jsx(Ns,{className:"w-3.5 h-3.5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Vrification par Email"}),i.jsx("p",{className:"text-[10px] text-gray-400",children:"Un code temporaire sera envoy  votre email"})]})]}),ge?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mb-3 flex items-center gap-1",children:[i.jsx(Ht,{className:"w-3 h-3"})," Code envoy ! Vrifiez votre bote email"]}),i.jsx("input",{type:"text",value:le,onChange:V=>fe(V.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"w-full text-center text-2xl font-mono font-bold tracking-[10px] py-3 px-4 rounded-xl border-2 border-amber-200 dark:border-amber-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-amber-500 focus:border-amber-500 mb-3",onKeyDown:V=>V.key==="Enter"&&le.length===6&&ie()}),i.jsxs("button",{onClick:ie,disabled:le.length!==6,className:`w-full py-2.5 rounded-xl font-semibold text-sm transition-colors flex items-center justify-center gap-2 ${le.length===6?"bg-amber-500 text-white hover:bg-amber-600":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(Ht,{className:"w-4 h-4"})," Confirmer le code email"]})]}):i.jsxs("button",{onClick:lr,className:"w-full py-2.5 rounded-xl font-semibold text-sm bg-amber-500 text-white hover:bg-amber-600 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Mi,{className:"w-4 h-4"})," Envoyer le code par email"]})]}),i.jsx("button",{onClick:be,className:"w-full mt-4 text-xs font-medium text-gray-400 hover:text-gray-600 transition-colors text-center",children:"Annuler"})]}),Z.step==="sending"&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:i.jsx(tn,{className:"w-12 h-12 text-amber-500 animate-spin"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Envoi du code par email"}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Veuillez patienter"})]}),Z.step==="verifying"&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:i.jsx(tn,{className:"w-12 h-12 text-emerald-600 animate-spin"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Vrification en cours"}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[Z.targetState?"Activation":"Dsactivation"," des modles IA"]})]}),Z.step==="done"&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-50 dark:bg-green-900/30 flex items-center justify-center",children:i.jsx(Ht,{className:"w-7 h-7 text-green-600"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:Z.targetState?" Mode dynamique activ !":" Mode dynamique dsactiv"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:Z.targetState?"Tous les graphiques et analyses IA sont maintenant dynamiques pour tous les utilisateurs.":"Le site est repass en mode statique."}),Z.targetState&&Me&&i.jsxs("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 mb-2 flex items-center justify-center gap-1",children:[i.jsx(Ir,{className:"w-3 h-3"}),"Expire le ",new Date(Me).toLocaleDateString("fr-FR"),"  renouvellement automatique par email"]}),i.jsx("p",{className:"text-xs text-gray-400 mb-6",children:Z.targetState?"Un nouveau code sera envoy automatiquement  votre email dans 15 jours pour le renouvellement.":"Vous pouvez le ractiver  tout moment."}),i.jsx("button",{onClick:be,className:"w-full py-3 bg-gray-800 dark:bg-gray-600 text-white rounded-xl font-semibold hover:bg-gray-900 dark:hover:bg-gray-500 transition-colors",children:"Fermer"})]})]})]})})]})}fn.register(ja,Na,ya,dh,Un,qi,wa,ka,va,nc);const mi=t=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(t||0);function D4(){const{user:t}=xt(),[e,r]=M.useState(null),[s,o]=M.useState(!0);M.useRef(null);const l=M.useRef(null),{isDynamic:c,dataAccessEnabled:u}=un(),h=u,{dark:p}=Vn(),m=p?"#94a3b8":"#64748b",x=p?"rgba(148, 163, 184, 0.08)":"rgba(226, 232, 240, 0.6)";M.useEffect(()=>{if(!c)return;const de=Hn(l);return()=>{de()}},[s,c]),M.useEffect(()=>{(async()=>{try{const ae=await rw();r(ae.data)}catch(ae){console.error(ae)}finally{o(!1)}})()},[]);const y=e?.realisations||[],w=e?.rendezVous||[],v=e?.joursOuverts||[],j=e?.encours||{},k=e?.patientsStats||{totalInscrits:0},_=y.reduce((de,ae)=>de+(ae.montantFacture||0),0),P=y.reduce((de,ae)=>de+(ae.montantEncaisse||0),0),T=y.reduce((de,ae)=>de+(ae.nbPatients||0),0),L=w.reduce((de,ae)=>de+(ae.nbRdv||0),0),D=w.reduce((de,ae)=>de+(ae.nbNouveauxPatients||0),0),W=v.reduce((de,ae)=>de+(ae.nbHeures||0),0)/60,H=W>0?_/W:0,G={};y.forEach(de=>{const ae=de.mois;G[ae]||(G[ae]={ca:0,enc:0}),G[ae].ca+=de.montantFacture||0,G[ae].enc+=de.montantEncaisse||0});const F=Object.keys(G).sort(),te=F.map(de=>`${["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"][parseInt(de.substring(4,6))-1]} ${de.substring(2,4)}`),z=F.map(de=>G[de].ca),q=F.map(de=>G[de].enc),X=vs(z);z.map((de,ae)=>X.slope*ae+X.intercept);const R=ra(z,"chiffre d'affaires");on(z);const I=ws(z,2),S=Vi({tauxEncaissement:_>0?P/_*100:0,evolutionCA:X.slope,tauxAbsence:L>0?Math.max(0,(L-T)/L*100):0,productionHoraire:H,tauxNouveauxPatients:T>0?D/T*100:0}),J={labels:te,datasets:[{label:"CA Factur",data:z,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.12)",fill:!0,tension:.4,pointRadius:z.length<=6?6:4,pointBackgroundColor:"#10b981",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:8,borderWidth:3},{label:"CA Encaiss",data:q,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.08)",fill:!0,tension:.4,pointRadius:q.length<=6?5:3,pointBackgroundColor:"#3b82f6",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:7,borderWidth:2.5,borderDash:[6,3]}]},U={labels:["Encaiss","Non encaiss"],datasets:[{data:[P,Math.max(0,_-P)],backgroundColor:["#0d9488",p?"#334155":"#e5e7eb"],borderWidth:0}]},re=[{icon:mt,label:"CA Factur",value:_,format:"money",color:"primary"},{icon:vt,label:"Patients (analyse)",value:T,format:"number",color:"blue"},{icon:us,label:"Fichier Patients",value:k.totalInscrits,format:"number",color:"teal"},{icon:js,label:"Rendez-vous",value:L,format:"number",color:"amber"},{icon:Ir,label:"Heures Travailles",value:Math.round(W),format:"hours",color:"purple"},{icon:yr,label:"Renta. Horaire",value:Math.round(H),format:"eurh",color:"green"},{icon:mt,label:"Encaiss",value:P,format:"money",color:"primary"},{icon:us,label:"Nouveaux Patients",value:D,format:"number",color:"blue"}],Z=c&&!s,E=[De(Math.round(_),2200,Z),De(T,1800,Z),De(k.totalInscrits,1600,Z),De(L,1600,Z),De(Math.round(W),1600,Z),De(Math.round(H),1400,Z),De(Math.round(P),2e3,Z),De(D,1400,Z)],Y=De(_>0?Math.round(P/_*100):0,1800,Z),ce=De(S.score,1500,Z),le=De(Math.round((j?.dureeTotaleARealiser||0)/60),1400,Z),fe=De(Math.round(j?.montantTotalAFacturer||0),1600,Z),ge=De(j?.patientsEnCours||0,1200,Z);if(s||!e)return i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const _e={primary:p?"bg-primary-900/40 text-primary-400":"bg-primary-50 text-primary-600",blue:p?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-600",amber:p?"bg-amber-900/40 text-amber-400":"bg-amber-50 text-amber-600",purple:p?"bg-purple-900/40 text-purple-400":"bg-purple-50 text-purple-600",green:p?"bg-green-900/40 text-green-400":"bg-green-50 text-green-600",teal:p?"bg-teal-900/40 text-teal-400":"bg-teal-50 text-teal-600"};return i.jsxs("div",{children:[i.jsx(Vt,{title:`Bonjour, ${t?.name||t?.cabinetName||""}`,subtitle:`Cabinet ${t?.cabinetName||t?.name||""}  Tableau de bord`}),i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:re.map((de,ae)=>{const Me=E[ae];let Be;return de.format==="money"?Be=mi(Me):de.format==="hours"?Be=`${Me}h`:de.format==="eurh"?Be=`${Me}/h`:Be=Me.toLocaleString("fr-FR"),i.jsxs("div",{className:"group bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 hover:shadow-lg hover:shadow-gray-100/50 dark:hover:shadow-gray-900/30 transition-all duration-500 hover:-translate-y-1 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50/50 dark:from-gray-700/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[i.jsx("div",{className:`p-3 rounded-xl ${_e[de.color]} group-hover:scale-110 transition-transform`,children:i.jsx(de.icon,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white tabular-nums",children:Be}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:de.label})]})]}),i.jsx("div",{className:"relative z-10 mt-3 w-full bg-gray-100 dark:bg-gray-700 rounded-full h-1.5 overflow-hidden",children:i.jsx("div",{className:`h-1.5 rounded-full bg-gradient-to-r from-primary-400 to-primary-600 ${c?"transition-all duration-[2000ms] ease-out":""}`,style:{width:!c||!s?"100%":"0%"}})})]},ae)})}),!h&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 p-12 text-center mb-8",children:[i.jsx(qe,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-gray-400 dark:text-gray-500 mb-2",children:"Modles IA dsactivs"}),i.jsxs("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:["Les graphiques et analyses IA sont temporairement indisponibles.",i.jsx("br",{}),"Contactez l'administrateur pour ractiver les modles."]})]}),h&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Chiffre d'Affaires"}),i.jsxs("span",{className:`flex items-center gap-1.5 text-[11px] font-semibold px-3 py-1.5 rounded-full ${R.trend==="upward"?"text-green-600 bg-green-50 dark:bg-green-900/40 dark:text-green-400":R.trend==="downward"?"text-red-600 bg-red-50 dark:bg-red-900/40 dark:text-red-400":"text-gray-500 bg-gray-50 dark:bg-gray-700 dark:text-gray-400"}`,children:[R.trend==="upward"?i.jsx(yr,{className:"w-3.5 h-3.5"}):R.trend==="downward"?i.jsx(Pi,{className:"w-3.5 h-3.5"}):i.jsx(ax,{className:"w-3.5 h-3.5"}),R.trendLabel]})]}),i.jsx("div",{className:"h-[280px]",children:i.jsx(fa,{data:J,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{color:m,usePointStyle:!0,pointStyle:"circle",padding:16,font:{size:11}}},tooltip:{backgroundColor:p?"#1e293b":"#fff",titleColor:p?"#fff":"#1e293b",bodyColor:p?"#94a3b8":"#64748b",borderColor:p?"#334155":"#e2e8f0",borderWidth:1,padding:12,cornerRadius:10,callbacks:{label:de=>` ${de.dataset.label}: ${mi(de.parsed.y)}`}}},scales:{x:{grid:{display:!1},border:{display:!1},ticks:{color:m,font:{size:11}}},y:{beginAtZero:!0,grid:{color:x,drawBorder:!1},border:{display:!1},ticks:{color:m,font:{size:11},callback:de=>`${(de/1e3).toFixed(de>=1e3?0:1)}k`,maxTicksLimit:6}}}}})}),i.jsxs("div",{className:"mt-4 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-xl p-3",children:[R.parts.map((de,ae)=>i.jsx("p",{className:"text-[11px] text-gray-600 dark:text-gray-400 leading-relaxed",children:de},ae)),i.jsxs("div",{className:"flex gap-3 mt-2",children:[i.jsxs("span",{className:"text-[10px] bg-white/60 dark:bg-white/10 text-gray-600 dark:text-gray-400 px-2 py-0.5 rounded-full",children:["Prvision M+1: ",mi(I[0])]}),i.jsxs("span",{className:"text-[10px] bg-white/60 dark:bg-white/10 text-gray-600 dark:text-gray-400 px-2 py-0.5 rounded-full",children:["Prvision M+2: ",mi(I[1])]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Taux d'Encaissement"})}),i.jsx(hh,{ref:l,data:U,plugins:c?[nb]:[],options:{responsive:!0,cutout:"70%",plugins:{legend:{position:"bottom",labels:{color:m}}}}}),i.jsxs("p",{className:"text-center mt-4 text-3xl font-bold text-primary-600 tabular-nums",children:[Y,"%"]}),i.jsxs("div",{className:"mt-3 bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/30 dark:to-purple-900/30 rounded-xl border border-violet-100 dark:border-violet-800 p-3 text-center transition-colors",children:[i.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mb-1",children:"Sant globale du cabinet"}),i.jsxs("p",{className:`text-2xl font-black tabular-nums ${S.score>=80?"text-green-500":S.score>=60?"text-amber-500":"text-red-500"}`,children:[ce,i.jsx("span",{className:"text-xs font-normal text-gray-400 dark:text-gray-500",children:"/100"})]}),i.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-2 mt-2 overflow-hidden",children:i.jsx("div",{className:`h-2 rounded-full ${c?"transition-all duration-[1800ms] ease-out":""} relative overflow-hidden`,style:{width:!c||!s?`${S.score}%`:"0%",background:S.score>=80?"linear-gradient(90deg, #10b981, #34d399)":S.score>=60?"linear-gradient(90deg, #f59e0b, #fbbf24)":"linear-gradient(90deg, #ef4444, #f87171)"},children:c&&i.jsx("div",{className:"absolute inset-0 shimmer-bar"})})}),i.jsxs("p",{className:"text-[9px] text-gray-400 dark:text-gray-500 mt-1",children:[Nl(S.score).emoji," ",Nl(S.score).label]}),i.jsx("p",{className:"text-[8px] text-gray-400 dark:text-gray-500 mt-0.5",children:Nl(S.score).advice})]})]})]}),j&&Object.keys(j).length>0&&i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white mb-4",children:"En-cours"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"group p-4 bg-primary-50 dark:bg-primary-900/30 rounded-xl text-center hover:shadow-md transition-all duration-300 hover:-translate-y-0.5",children:[i.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-400",children:"Dure  raliser"}),i.jsxs("p",{className:"text-2xl font-bold text-primary-900 dark:text-white tabular-nums",children:[le,"h"]})]}),i.jsxs("div",{className:"group p-4 bg-blue-50 dark:bg-blue-900/30 rounded-xl text-center hover:shadow-md transition-all duration-300 hover:-translate-y-0.5",children:[i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"Montant  facturer"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-white tabular-nums",children:mi(fe)})]}),i.jsxs("div",{className:"group p-4 bg-amber-50 dark:bg-amber-900/30 rounded-xl text-center hover:shadow-md transition-all duration-300 hover:-translate-y-0.5",children:[i.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Patients en cours"}),i.jsx("p",{className:"text-2xl font-bold text-amber-900 dark:text-white tabular-nums",children:ge})]})]})]})]})]})}fn.register(ja,Na,ya,Un,qi,wa,ka,va,nc);const vl=t=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(t||0),og=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function O4(){const{user:t}=xt(),[e,r]=M.useState(null),[s,o]=M.useState(!0),{isDynamic:l,dataAccessEnabled:c}=un(),u=c,{dark:h}=Vn(),p=h?"#94a3b8":"#64748b",m=h?"rgba(148, 163, 184, 0.08)":"rgba(226, 232, 240, 0.6)";if(M.useEffect(()=>{(async()=>{try{const J=await Kg();r(J.data)}catch(J){console.error(J)}finally{o(!1)}})()},[]),s)return i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const x=e?.monthlyKPI||[],y=x.map(S=>{const J=parseInt(S.mois.substring(4,6))-1;return`${og[J]} ${S.mois.substring(2,4)}`}),w=x.map(S=>S.caFacture||0),v=x.map(S=>S.caEncaisse||0),j=x.map(S=>S.nbPatients||0),k=x.map(S=>S.nbNouveauxPatients||0),_=x.map(S=>S.rentabiliteHoraire||0),P=ra(w,"chiffre d'affaires"),T=ra(j,"nombre de patients"),L=ra(_,"rentabilit horaire"),D=w.reduce((S,J)=>S+J,0),W=v.reduce((S,J)=>S+J,0),H=j.reduce((S,J)=>S+J,0),G=k.reduce((S,J)=>S+J,0),F=_.length>0?_.reduce((S,J)=>S+J,0)/_.length:0,te={labels:y,datasets:[{label:"CA Factur",data:w,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.12)",fill:!0,tension:.4,pointRadius:w.length<=6?6:4,pointBackgroundColor:"#10b981",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:8,borderWidth:3},{label:"CA Encaiss",data:v,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.08)",fill:!0,tension:.4,pointRadius:v.length<=6?5:3,pointBackgroundColor:"#3b82f6",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:7,borderWidth:2.5,borderDash:[6,3]}]},z={labels:y,datasets:[{label:"Patients vus",data:j,backgroundColor:h?"rgba(13, 148, 136, 0.7)":"rgba(13, 148, 136, 0.75)",borderRadius:8,borderSkipped:!1,barPercentage:.6,categoryPercentage:.7},{label:"Nouveaux patients",data:k,backgroundColor:h?"rgba(245, 158, 11, 0.7)":"rgba(245, 158, 11, 0.75)",borderRadius:8,borderSkipped:!1,barPercentage:.6,categoryPercentage:.7}]},q={labels:y,datasets:[{label:"Rentabilit (/h)",data:_,borderColor:"#8b5cf6",backgroundColor:S=>{const J=S.chart,{ctx:U,chartArea:re}=J;if(!re)return"rgba(139, 92, 246, 0.15)";const Z=U.createLinearGradient(0,re.top,0,re.bottom);return Z.addColorStop(0,"rgba(139, 92, 246, 0.25)"),Z.addColorStop(1,"rgba(139, 92, 246, 0.02)"),Z},fill:!0,tension:.4,pointRadius:_.length<=6?6:4,pointBackgroundColor:"#8b5cf6",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:8,borderWidth:3}]},X=(S,J)=>({responsive:!0,maintainAspectRatio:!0,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{color:p,usePointStyle:!0,pointStyle:"circle",padding:16,font:{size:11}}},tooltip:{backgroundColor:h?"#1e293b":"#fff",titleColor:h?"#fff":"#1e293b",bodyColor:h?"#94a3b8":"#64748b",borderColor:h?"#334155":"#e2e8f0",borderWidth:1,padding:12,cornerRadius:10,displayColors:!0,callbacks:{label:U=>` ${U.dataset.label}: ${S(U.parsed.y)}`}}},scales:{x:{grid:{display:!1},border:{display:!1},ticks:{color:p,font:{size:11}}},y:{beginAtZero:!0,grid:{color:m,drawBorder:!1},border:{display:!1},ticks:{color:p,font:{size:11},callback:U=>S(U),maxTicksLimit:6}}}}),R={responsive:!0,maintainAspectRatio:!0,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{color:p,usePointStyle:!0,pointStyle:"rectRounded",padding:16,font:{size:11}}},tooltip:{backgroundColor:h?"#1e293b":"#fff",titleColor:h?"#fff":"#1e293b",bodyColor:h?"#94a3b8":"#64748b",borderColor:h?"#334155":"#e2e8f0",borderWidth:1,padding:12,cornerRadius:10}},scales:{x:{grid:{display:!1},border:{display:!1},ticks:{color:p,font:{size:11}}},y:{beginAtZero:!0,grid:{color:m,drawBorder:!1},border:{display:!1},ticks:{color:p,font:{size:11},maxTicksLimit:6,precision:0}}}},I=({insight:S,color:J})=>{const U=S.trend==="upward"?yr:S.trend==="downward"?Pi:ax,re={green:"text-green-600 bg-green-50 dark:bg-green-900/40 dark:text-green-400",teal:"text-teal-600 bg-teal-50 dark:bg-teal-900/40 dark:text-teal-400",violet:"text-violet-600 bg-violet-50 dark:bg-violet-900/40 dark:text-violet-400"};return i.jsxs("span",{className:`flex items-center gap-1.5 text-[11px] font-semibold px-3 py-1.5 rounded-full ${re[J]}`,children:[i.jsx(U,{className:"w-3.5 h-3.5"}),S.trendLabel]})};return i.jsxs("div",{children:[i.jsx(Vt,{title:"Mes Statistiques",subtitle:`Cabinet ${t?.cabinetName||t?.name||""}  Dtails mensuels`}),i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[{label:"CA total factur",value:vl(D),color:"text-emerald-600"},{label:"CA total encaiss",value:vl(W),color:"text-blue-600"},{label:"Total patients",value:H.toLocaleString("fr-FR"),color:"text-teal-600"},{label:"Nouveaux patients",value:G.toLocaleString("fr-FR"),color:"text-amber-600"},{label:"Rentabilit moy.",value:`${F.toFixed(0)}/h`,color:"text-violet-600"}].map((S,J)=>i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-xl border border-gray-200 dark:border-gray-700 p-4 text-center",children:[i.jsx("p",{className:`text-xl font-bold ${S.color} tabular-nums`,children:S.value}),i.jsx("p",{className:"text-[11px] text-gray-500 dark:text-gray-400 mt-1",children:S.label})]},J))}),!u&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 p-12 text-center mb-8",children:[i.jsx(qe,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-gray-400 dark:text-gray-500 mb-2",children:"Modles IA dsactivs"}),i.jsxs("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:["Les graphiques et analyses IA sont temporairement indisponibles.",i.jsx("br",{}),"Contactez l'administrateur pour ractiver les modles."]})]}),u&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Chiffre d'Affaires"}),i.jsx(I,{insight:P,color:"green"})]}),i.jsx("div",{className:"h-[280px]",children:i.jsx(fa,{data:te,options:{...X(S=>`${(S/1e3).toFixed(S>=1e3?0:1)}k`),maintainAspectRatio:!1}})}),i.jsx("div",{className:"mt-4 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-xl p-3",children:P.parts.map((S,J)=>i.jsx("p",{className:"text-[11px] text-gray-600 dark:text-gray-400 leading-relaxed",children:S},J))})]}),i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Patients & Nouveaux Patients"}),i.jsx(I,{insight:T,color:"teal"})]}),i.jsx("div",{className:"h-[280px]",children:i.jsx(Wl,{data:z,options:{...R,maintainAspectRatio:!1}})}),i.jsx("div",{className:"mt-4 bg-gradient-to-r from-teal-50 to-amber-50 dark:from-teal-900/20 dark:to-amber-900/20 rounded-xl p-3",children:T.parts.map((S,J)=>i.jsx("p",{className:"text-[11px] text-gray-600 dark:text-gray-400 leading-relaxed",children:S},J))})]})]}),i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 mb-8 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Rentabilit Horaire"}),i.jsx(I,{insight:L,color:"violet"})]}),i.jsx("div",{className:"h-[260px]",children:i.jsx(fa,{data:q,options:{...X(S=>`${S.toFixed(0)}/h`),maintainAspectRatio:!1}})}),i.jsx("div",{className:"mt-4 bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/20 dark:to-purple-900/20 rounded-xl p-3",children:L.parts.map((S,J)=>i.jsx("p",{className:"text-[11px] text-gray-600 dark:text-gray-400 leading-relaxed",children:S},J))})]})]}),i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:i.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Dtails Mensuels"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Mois"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"CA Factur"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"CA Encaiss"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Patients"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Nvx Patients"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"RDV"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"Heures"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:"/h"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:x.map((S,J)=>{const U=parseInt(S.mois.substring(4,6))-1;return i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white",children:[og[U]," ",S.mois.substring(0,4)]}),i.jsx("td",{className:"px-4 py-3 text-sm text-right dark:text-gray-300",children:vl(S.caFacture)}),i.jsx("td",{className:"px-4 py-3 text-sm text-right dark:text-gray-300",children:vl(S.caEncaisse)}),i.jsx("td",{className:"px-4 py-3 text-sm text-right dark:text-gray-300",children:S.nbPatients}),i.jsx("td",{className:"px-4 py-3 text-sm text-right dark:text-gray-300",children:S.nbNouveauxPatients}),i.jsx("td",{className:"px-4 py-3 text-sm text-right dark:text-gray-300",children:S.nbRdv}),i.jsxs("td",{className:"px-4 py-3 text-sm text-right dark:text-gray-300",children:[(S.heuresTravaillees||0).toFixed(1),"h"]}),i.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium text-primary-700",children:S.rentabiliteHoraire>0?`${S.rentabiliteHoraire.toFixed(0)}/h`:"-"})]},J)})})]})})]})]})]})}function F4(){const{user:t}=xt(),[e,r]=M.useState("realisation"),[s,o]=M.useState(null),[l,c]=M.useState(!1),[u,h]=M.useState(null),p=[{value:"realisation",label:"Ralisation",desc:"Patients, CA factur, CA encaiss"},{value:"rendez-vous",label:"Rendez-vous",desc:"RDV, dure, patients, nouveaux patients"},{value:"jours-ouverts",label:"Jours Ouverts",desc:"Heures travailles par mois"},{value:"devis",label:"Devis",desc:"Nb devis, montants, acceptation"},{value:"encours",label:"En-cours",desc:"Dure, montant, rentabilit"}],m=async()=>{if(!s){h({type:"error",text:"Veuillez slectionner un fichier"});return}c(!0),h(null);const x=new FormData;x.append("file",s);try{const y=await cw(e,x);h({type:"success",text:y.data.message||`${y.data.count||0} enregistrements imports`}),o(null)}catch(y){h({type:"error",text:y.response?.data?.message||"Erreur lors de l'import"})}finally{c(!1)}};return i.jsxs("div",{children:[i.jsx(Vt,{title:"Gestion des Donnes",subtitle:`Cabinet ${t?.cabinetName||t?.name||""}  Import de donnes LogosW`}),i.jsx("div",{className:"p-8",children:i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-8 transition-colors",children:[i.jsxs("h3",{className:"text-xl font-semibold dark:text-white mb-6 flex items-center gap-2",children:[i.jsx(Jd,{className:"text-primary-600"}),"Importer des donnes"]}),u&&i.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-2 text-sm ${u.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/30 text-red-700 border border-red-200 dark:border-red-800"}`,children:[u.type==="success"?i.jsx(Ht,{}):i.jsx(er,{}),u.text]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type de donnes"}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:p.map(x=>i.jsxs("button",{onClick:()=>r(x.value),className:`p-4 rounded-xl text-left transition-all ${e===x.value?"bg-primary-50 dark:bg-primary-900/30 border-2 border-primary-500":"bg-gray-50 dark:bg-gray-800 border-2 border-transparent hover:border-gray-200 dark:hover:border-gray-600"}`,children:[i.jsx("p",{className:`text-sm font-medium ${e===x.value?"text-primary-700":"text-gray-900 dark:text-white"}`,children:x.label}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:x.desc})]},x.value))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fichier TSV (LogosW)"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-xl p-8 text-center hover:border-primary-300 transition-colors",children:[i.jsx("input",{type:"file",accept:".txt,.tsv,.csv",onChange:x=>o(x.target.files[0]),className:"hidden",id:"file-upload"}),i.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:s?i.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary-700",children:[i.jsx(kt,{className:"w-8 h-8"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:s.name}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(s.size/1024).toFixed(1)," KB"]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(Jd,{className:"w-10 h-10 mx-auto text-gray-400 dark:text-gray-500 mb-2"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cliquer pour slectionner un fichier"}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:".txt, .tsv, .csv"})]})})]})]}),i.jsx("button",{onClick:m,disabled:l||!s,className:"w-full py-3 bg-primary-600 text-white rounded-xl font-medium hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:l?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Import en cours..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Jd,{}),"Importer les donnes"]})}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4 text-center",children:"Les fichiers doivent tre au format TSV (sparateur tabulation) exports depuis LogosW."})]})})})]})}function I4(){const{user:t}=xt(),{dataAccessEnabled:e}=un(),[r,s]=M.useState(null),[o,l]=M.useState(!0);if(M.useEffect(()=>{(async()=>{try{const S=await Kg();s(S.data)}catch(S){console.error(S)}finally{l(!1)}})()},[]),o)return i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!e)return i.jsxs("div",{children:[i.jsx(Vt,{title:"Analyse du Cabinet",subtitle:"Bilan et prvisions"}),i.jsx("div",{className:"p-8",children:i.jsx("div",{className:"max-w-3xl mx-auto",children:i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 p-16 text-center",children:[i.jsx(qe,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-6"}),i.jsx("h3",{className:"text-xl font-bold text-gray-400 dark:text-gray-500 mb-3",children:"Modles IA dsactivs"}),i.jsxs("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:["Les analyses IA sont temporairement indisponibles.",i.jsx("br",{}),"Contactez l'administrateur pour ractiver les modles."]})]})})})]});const c=r?.monthlyKPI||[],u=I=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(I||0),h=c.map(I=>I.caFacture||0);c.map(I=>I.caEncaisse||0);const p=c.map(I=>I.nbPatients||0),m=c.map(I=>I.productionHoraire||I.rentabiliteHoraire||0),x=vs(h),y=ws(h,3),w=ws(p,3),v=on(h),j=on(p),k=on(m),_=ln(h,1.5),P=ln(p,1.5),T=_.filter(I=>I.isAnomaly).length+P.filter(I=>I.isAnomaly).length,L=c[c.length-1]||{},D=L.caFacture>0?L.caEncaisse/L.caFacture*100:0,W=L.nbRdv>0?(L.nbRdv-L.nbPatients)/L.nbRdv*100:0,H=Vi({tauxEncaissement:D,evolutionCA:x.slope,tauxAbsence:W,productionHoraire:m[m.length-1]||0,tauxNouveauxPatients:L.nbNouveauxPatients||0}),G=Nl(H.score),F=ra(h,"chiffre d'affaires"),te=ra(p,"nombre de patients"),z=h.length>0?h.reduce((I,S)=>I+S,0)/h.length:0,q=m.length>0?m.reduce((I,S)=>I+S,0)/m.length:0,X=[{icon:mt,title:"volution du Chiffre d'Affaires",subtitle:F.trendLabel,emoji:F.trendIcon,parts:F.parts,extras:[{label:"CA moyen mensuel",value:u(z)},{label:"Prvision mois prochain",value:u(y[0])},{label:"Prvision M+2",value:u(y[1])},{label:"Prvision M+3",value:u(y[2])}],type:v.trend==="upward"?"positive":v.trend==="downward"?"warning":"neutral"},{icon:vt,title:"volution de la Patientle",subtitle:te.trendLabel,emoji:te.trendIcon,parts:te.parts,extras:[{label:"Patients par mois (moy.)",value:`${Math.round(p.reduce((I,S)=>I+S,0)/Math.max(1,p.length))}`},{label:"Prvision mois prochain",value:`${Math.round(w[0])} patients`},{label:"Prvision M+2",value:`${Math.round(w[1])} patients`}],type:j.trend==="upward"?"positive":j.trend==="downward"?"warning":"neutral"},{icon:la,title:"Mois Inhabituels Dtects",subtitle:T===0?"Aucun":`${T} mois`,emoji:T===0?"":"",parts:T>0?[`${T} mois prsentent des variations inhabituelles dans votre activit.`,"Cela peut tre li  des congs, des travaux dans le cabinet ou un vnement exceptionnel.","Ces mois sont mis en vidence dans vos graphiques pour les identifier facilement."]:["Votre activit est rgulire, sans variation anormale dtecte.","C'est un bon signe de stabilit pour votre cabinet."],extras:[],type:T===0?"positive":T<=2?"neutral":"warning"},{icon:Pw,title:"Sant Globale du Cabinet",subtitle:`${G.label}  ${H.score}/100`,emoji:G.emoji,parts:[G.advice,`Taux d'encaissement : ${D.toFixed(0)}%  ${D>=80?"Trs bien":D>=60?"Correct, peut tre amlior":" amliorer"}.`,`Taux d'absence : ${W.toFixed(1)}%  ${W<=5?"Excellent":W<=15?"Acceptable":"Rflchir  rduire les absences"}.`,`Productivit moyenne : ${q.toFixed(0)}/h.`],extras:[{label:"Encaissement",value:`${D.toFixed(0)}%`},{label:"Absences",value:`${W.toFixed(1)}%`},{label:"Productivit",value:`${q.toFixed(0)}/h`}],type:H.score>=80?"positive":H.score>=60?"neutral":"warning"},{icon:Nu,title:"Tendance Gnrale",subtitle:k.trend==="upward"?"En hausse":k.trend==="downward"?"En baisse":"Stable",emoji:k.trend==="upward"?"":k.trend==="downward"?"":"",parts:[v.trend==="upward"&&j.trend==="upward"?"Bonne nouvelle : le chiffre d'affaires et le nombre de patients sont tous les deux en hausse. Le cabinet est en croissance.":v.trend==="upward"&&j.trend!=="upward"?"Le chiffre d'affaires augmente mais le nombre de patients est stable. Cela peut indiquer des soins de plus grande valeur par patient.":v.trend==="downward"?"Le chiffre d'affaires montre une baisse. Il serait utile d'identifier les causes pour agir.":"L'activit du cabinet est globalement stable. Pour crotre, cherchez de nouveaux leviers (communication, nouveaux soins, etc.).",`Analyse ralise sur ${c.length} mois de donnes.`],extras:[{label:"CA",value:v.trend==="upward"?" Hausse":v.trend==="downward"?" Baisse":" Stable"},{label:"Patients",value:j.trend==="upward"?" Hausse":j.trend==="downward"?" Baisse":" Stable"},{label:"Rentabilit",value:k.trend==="upward"?" Hausse":k.trend==="downward"?" Baisse":" Stable"}],type:v.trend==="upward"?"positive":v.trend==="downward"?"warning":"neutral"}],R={positive:{bg:"bg-green-50 dark:bg-green-900/30",border:"border-green-200 dark:border-green-800",icon:"text-green-600",badge:"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300"},warning:{bg:"bg-amber-50 dark:bg-amber-900/30",border:"border-amber-200 dark:border-amber-800",icon:"text-amber-600",badge:"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300"},neutral:{bg:"bg-blue-50 dark:bg-blue-900/30",border:"border-blue-200 dark:border-blue-800",icon:"text-blue-600",badge:"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300"}};return i.jsxs("div",{children:[i.jsx(Vt,{title:"Analyse du Cabinet",subtitle:`Cabinet ${t?.cabinetName||t?.name||""}  Bilan et prvisions`}),i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"bg-gradient-to-r from-violet-600 via-blue-600 to-indigo-700 rounded-2xl p-8 text-white mb-8 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -mr-20 -mt-20"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-white/5 rounded-full -ml-12 -mb-12"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"p-2 bg-white/10 rounded-xl",children:i.jsx(qe,{className:"w-8 h-8"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Bilan Intelligent du Cabinet"}),i.jsx("p",{className:"text-violet-200 text-sm",children:"Analyse automatique de votre activit"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-6",children:[i.jsxs("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-black",children:c.length}),i.jsx("p",{className:"text-[10px] text-violet-200 uppercase",children:"Mois analyss"})]}),i.jsxs("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[i.jsxs("p",{className:"text-2xl font-black",children:[G.emoji," ",H.score]}),i.jsx("p",{className:"text-[10px] text-violet-200 uppercase",children:"Sant Cabinet"})]}),i.jsxs("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-black",children:F.trendIcon}),i.jsx("p",{className:"text-[10px] text-violet-200 uppercase",children:"Tendance CA"})]}),i.jsxs("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-2xl font-black",children:T===0?"":` ${T}`}),i.jsx("p",{className:"text-[10px] text-violet-200 uppercase",children:T===0?"Activit rgulire":"Mois inhabituels"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-blue-50 dark:from-violet-900/30 dark:to-blue-900/30 rounded-2xl border border-violet-100 dark:border-violet-800 p-5",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(mt,{className:"w-4 h-4 text-violet-600"}),i.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:"Rsum  Chiffre d'Affaires"}),i.jsxs("span",{className:"ml-auto text-[9px] font-semibold text-violet-600 bg-violet-100 dark:bg-violet-900/50 px-2 py-0.5 rounded-full",children:[F.trendIcon," ",F.trendLabel]})]}),F.parts.map((I,S)=>i.jsx("p",{className:"text-[11px] text-gray-600 dark:text-gray-400 leading-relaxed mb-1",children:I},S))]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-2xl border border-blue-100 dark:border-blue-800 p-5",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(vt,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:"Rsum  Patients"}),i.jsxs("span",{className:"ml-auto text-[9px] font-semibold text-blue-600 bg-blue-100 dark:bg-blue-900/50 px-2 py-0.5 rounded-full",children:[te.trendIcon," ",te.trendLabel]})]}),te.parts.map((I,S)=>i.jsx("p",{className:"text-[11px] text-gray-600 dark:text-gray-400 leading-relaxed mb-1",children:I},S))]})]}),i.jsx("div",{className:"space-y-6",children:X.map((I,S)=>{const J=R[I.type];return i.jsxs("div",{className:`rounded-2xl border ${J.border} overflow-hidden`,children:[i.jsxs("div",{className:`${J.bg} px-6 py-4 flex items-center gap-3`,children:[i.jsx(I.icon,{className:`w-6 h-6 ${J.icon}`}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:I.title}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[I.emoji," ",I.subtitle]})]}),i.jsx("div",{className:"ml-auto",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${J.badge}`,children:I.type==="positive"?" Positif":I.type==="warning"?"  surveiller":" Neutre"})})]}),i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] px-6 py-4",children:[I.parts.map((U,re)=>i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2 leading-relaxed",children:U},re)),I.extras.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:I.extras.map((U,re)=>i.jsxs("span",{className:"text-[10px] bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 px-3 py-1.5 rounded-lg font-medium",children:[U.label,": ",i.jsx("span",{className:"font-bold text-gray-800 dark:text-gray-200",children:U.value})]},re))})]})]},S)})})]})})]})}function z4(){const{user:t}=xt(),[e,r]=M.useState([]),[s,o]=M.useState(!0);M.useEffect(()=>{(async()=>{try{const h=await Uu(),p=t?.practitionerCode||t?.name||t?.email,m=h.data.filter(x=>x.praticien===p);r(m)}catch(h){console.error(h)}finally{o(!1)}})()},[t]);const l=async(u,h,p)=>{try{const m=await Gg(u),x=window.URL.createObjectURL(new Blob([m.data])),y=document.createElement("a");y.href=x,y.download=`rapport_${h}_${p}.html`,y.click(),window.URL.revokeObjectURL(x)}catch(m){console.error(m)}},c=u=>u?`${["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"][parseInt(u.substring(4,6))-1]} ${u.substring(0,4)}`:"";return i.jsxs("div",{children:[i.jsx(Vt,{title:"Mes Rapports",subtitle:`Cabinet ${t?.cabinetName||t?.name||""}  Historique des rapports mensuels`}),i.jsx("div",{className:"p-8",children:s?i.jsx("div",{className:"flex justify-center py-20",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.length===0?i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-16 text-center transition-colors",children:[i.jsx(kt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun rapport disponible"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Les rapports sont gnrs automatiquement chaque fin de mois."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(u=>i.jsx("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-primary-50 dark:bg-primary-900/30 rounded-xl",children:i.jsx(kt,{className:"w-6 h-6 text-primary-600"})}),i.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${u.emailEnvoye?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400"}`,children:u.emailEnvoye?i.jsxs(i.Fragment,{children:[i.jsx(Ht,{className:"w-3 h-3"})," Envoy"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ir,{className:"w-3 h-3"})," En attente"]})})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:c(u.mois)}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:["CA : ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(u.contenu?.caMensuel||0)]}),u.contenu&&i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[i.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Patients"}),i.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:u.contenu.nbPatients||0})]}),i.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"/h"}),i.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:u.contenu.productionHoraire?.toFixed(0)||"-"})]})]}),i.jsxs("button",{onClick:()=>l(u._id,u.praticien,u.mois),className:"w-full py-2.5 bg-primary-600 text-white rounded-xl font-medium hover:bg-primary-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(nx,{className:"w-4 h-4"}),"Tlcharger"]})]})},u._id))})})]})}const lg=t=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(t||0);function $4(){const t=[],e=new Date;for(let r=0;r<12;r++){const s=new Date(e.getFullYear(),e.getMonth()-r,1),o=`${s.getFullYear()}${String(s.getMonth()+1).padStart(2,"0")}`,c=`${["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"][s.getMonth()]} ${s.getFullYear()}`;t.push({value:o,label:c})}return t}const cg=[{value:"realisation",label:"Ralisation",icon:mt,desc:"CA factur, CA encaiss, nombre de patients",color:"primary",fields:[{key:"nbPatients",label:"Nombre de patients",type:"number",icon:vt,placeholder:"Ex: 45"},{key:"montantFacture",label:"Montant factur ()",type:"number",icon:mt,placeholder:"Ex: 12500",step:"0.01"},{key:"montantEncaisse",label:"Montant encaiss ()",type:"number",icon:mt,placeholder:"Ex: 11200",step:"0.01"}]},{value:"rendez-vous",label:"Rendez-vous",icon:js,desc:"RDV, dure totale, patients, nouveaux patients",color:"blue",fields:[{key:"nbRdv",label:"Nombre de RDV",type:"number",icon:js,placeholder:"Ex: 120"},{key:"dureeTotaleRdv",label:"Dure totale RDV (minutes)",type:"number",icon:Ir,placeholder:"Ex: 3600"},{key:"nbPatients",label:"Nombre de patients",type:"number",icon:vt,placeholder:"Ex: 45"},{key:"nbNouveauxPatients",label:"Nouveaux patients",type:"number",icon:vt,placeholder:"Ex: 8"}]},{value:"jours-ouverts",label:"Jours Ouverts",icon:Ir,desc:"Heures travailles par mois",color:"purple",fields:[{key:"nbHeures",label:"Heures travailles (en minutes)",type:"number",icon:Ir,placeholder:"Ex: 9600"}]},{value:"devis",label:"Devis",icon:kt,desc:"Nb devis, montants proposs/accepts",color:"amber",fields:[{key:"nbDevis",label:"Nombre de devis",type:"number",icon:kt,placeholder:"Ex: 15"},{key:"montantPropositions",label:"Montant propos ()",type:"number",icon:mt,placeholder:"Ex: 25000",step:"0.01"},{key:"nbDevisAcceptes",label:"Devis accepts",type:"number",icon:Ht,placeholder:"Ex: 10"},{key:"montantAccepte",label:"Montant accept ()",type:"number",icon:mt,placeholder:"Ex: 18000",step:"0.01"}]},{value:"encours",label:"En-cours",icon:yi,desc:"Travaux en cours  dure, montant, rentabilit",color:"teal",fields:[{key:"dureeTotaleARealiser",label:"Dure  raliser (minutes)",type:"number",icon:Ir,placeholder:"Ex: 4800"},{key:"montantTotalAFacturer",label:"Montant  facturer ()",type:"number",icon:mt,placeholder:"Ex: 35000",step:"0.01"},{key:"rentabiliteHoraire",label:"Rentabilit horaire (/h)",type:"number",icon:mt,placeholder:"Ex: 250",step:"0.01"},{key:"rentabiliteJoursTravailles",label:"Rentabilit jours travaills (/j)",type:"number",icon:mt,placeholder:"Ex: 1800",step:"0.01"},{key:"patientsEnCours",label:"Patients en cours",type:"number",icon:vt,placeholder:"Ex: 22"}]}];function B4(){const{user:t,updateUser:e}=xt(),r=$4(),[s,o]=M.useState("realisation"),[l,c]=M.useState(r[0].value),[u,h]=M.useState({}),[p,m]=M.useState(!1),[x,y]=M.useState(!1),[w,v]=M.useState(null),[j,k]=M.useState(""),[_,P]=M.useState(!1),T=!!t?.practitionerCode,L=async()=>{if(j.trim()){P(!0);try{const z=await tw({practitionerCode:j.trim().toUpperCase()});e(z.data.user),v({type:"success",text:`Code praticien "${z.data.user.practitionerCode}" enregistr avec succs !`})}catch(z){v({type:"error",text:z.response?.data?.message||"Erreur lors de la mise  jour du code."})}finally{P(!1)}}},D=cg.find(z=>z.value===s);M.useEffect(()=>{(async()=>{y(!0),v(null);try{const q=await sw(s,l);if(q.data.data){const X={};D.fields.forEach(R=>{X[R.key]=q.data.data[R.key]||""}),h(X)}else{const X={};D.fields.forEach(R=>{X[R.key]=""}),h(X)}}catch{const q={};D.fields.forEach(X=>{q[X.key]=""}),h(q)}finally{y(!1)}})()},[s,l]);const W=(z,q)=>{h(X=>({...X,[z]:q}))},H=async z=>{z.preventDefault(),m(!0),v(null);try{const q=await nw(s,l,u);v({type:"success",text:q.data.message||"Donnes enregistres avec succs."})}catch(q){v({type:"error",text:q.response?.data?.message||"Erreur lors de l'enregistrement."})}finally{m(!1)}},G=[];if(s==="realisation"){const z=parseFloat(u.montantFacture)||0,q=parseFloat(u.montantEncaisse)||0,X=parseFloat(u.nbPatients)||0;z>0&&G.push({label:"Taux encaissement",value:`${(q/z*100).toFixed(1)}%`}),X>0&&G.push({label:"Panier moyen",value:lg(z/X)}),z>0&&G.push({label:"Reste  encaisser",value:lg(z-q)})}if(s==="devis"){const z=parseFloat(u.nbDevis)||0,q=parseFloat(u.nbDevisAcceptes)||0,X=parseFloat(u.montantPropositions)||0,R=parseFloat(u.montantAccepte)||0;z>0&&G.push({label:"Taux acceptation",value:`${(q/z*100).toFixed(1)}%`}),X>0&&G.push({label:"Taux montant accept",value:`${(R/X*100).toFixed(1)}%`})}if(s==="rendez-vous"){const z=parseFloat(u.nbRdv)||0,q=parseFloat(u.dureeTotaleRdv)||0;z>0&&q>0&&G.push({label:"Dure moy. / RDV",value:`${(q/z).toFixed(0)} min`});const X=parseFloat(u.nbPatients)||0,R=parseFloat(u.nbNouveauxPatients)||0;X>0&&G.push({label:"Taux nouveaux patients",value:`${(R/X*100).toFixed(1)}%`})}const F={primary:{bg:"bg-primary-50 dark:bg-primary-900/30",text:"text-primary-600 dark:text-primary-400",border:"border-primary-200 dark:border-primary-800",ring:"ring-primary-500"},blue:{bg:"bg-blue-50 dark:bg-blue-900/30",text:"text-blue-600 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",ring:"ring-blue-500"},purple:{bg:"bg-purple-50 dark:bg-purple-900/30",text:"text-purple-600 dark:text-purple-400",border:"border-purple-200 dark:border-purple-800",ring:"ring-purple-500"},amber:{bg:"bg-amber-50 dark:bg-amber-900/30",text:"text-amber-600 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",ring:"ring-amber-500"},teal:{bg:"bg-teal-50 dark:bg-teal-900/30",text:"text-teal-600 dark:text-teal-400",border:"border-teal-200 dark:border-teal-800",ring:"ring-teal-500"}},te=F[D.color]||F.primary;return i.jsxs("div",{children:[i.jsx(Vt,{title:"Saisie Manuelle",subtitle:`Cabinet ${t?.cabinetName||t?.name||""}  Entrez vos donnes mensuelles`}),i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-8",children:cg.map(z=>{const q=z.icon,X=s===z.value,R=F[z.color];return i.jsxs("button",{onClick:()=>o(z.value),className:`p-4 rounded-2xl text-center transition-all duration-300 border-2 ${X?`${R.bg} ${R.border} shadow-lg scale-[1.02]`:"bg-white dark:bg-[#1e293b] border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[i.jsx(q,{className:`w-6 h-6 mx-auto mb-2 ${X?R.text:"text-gray-400"}`}),i.jsx("p",{className:`text-xs font-bold ${X?R.text:"text-gray-600 dark:text-gray-400"}`,children:z.label})]},z.value)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-8 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2.5 rounded-xl ${te.bg}`,children:i.jsx(Ei,{className:`w-5 h-5 ${te.text}`})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold dark:text-white",children:D.label}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:D.desc})]})]}),x&&i.jsx(tn,{className:"w-5 h-5 text-gray-400 animate-spin"})]}),!T&&i.jsx("div",{className:"mb-6 p-4 rounded-xl bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(er,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-amber-800 dark:text-amber-300 mb-1",children:"Code praticien manquant"}),i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mb-3",children:"Renseignez votre code praticien LogosW (ex: JC, DV) pour associer correctement vos donn\\u00e9es. Sans ce code, vos donn\\u00e9es seront enregistr\\u00e9es sous votre nom."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:j,onChange:z=>k(z.target.value.toUpperCase()),placeholder:"Ex: JC",maxLength:10,className:"flex-1 px-3 py-2 rounded-lg border border-amber-300 dark:border-amber-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm font-mono uppercase focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),i.jsxs("button",{onClick:L,disabled:_||!j.trim(),className:"px-4 py-2 rounded-lg bg-amber-500 hover:bg-amber-600 text-white text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5",children:[_?i.jsx(tn,{className:"w-3.5 h-3.5 animate-spin"}):i.jsx(Ss,{className:"w-3.5 h-3.5"}),"Enregistrer"]})]})]})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("label",{className:"flex text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 items-center gap-2",children:[i.jsx(js,{className:"w-4 h-4"}),"Mois"]}),i.jsx("select",{value:l,onChange:z=>c(z.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm font-medium focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:r.map(z=>i.jsx("option",{value:z.value,children:z.label},z.value))})]}),w&&i.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-2 text-sm ${w.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 border border-red-200 dark:border-red-800"}`,children:[w.type==="success"?i.jsx(Ht,{className:"flex-shrink-0"}):i.jsx(er,{className:"flex-shrink-0"}),w.text]}),i.jsxs("form",{onSubmit:H,children:[i.jsx("div",{className:"space-y-4",children:D.fields.map(z=>{const q=z.icon;return i.jsxs("div",{children:[i.jsxs("label",{className:"flex text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 items-center gap-1.5",children:[i.jsx(q,{className:"w-3.5 h-3.5 text-gray-400"}),z.label]}),i.jsx("input",{type:z.type,step:z.step||"1",min:"0",value:u[z.key]||"",onChange:X=>W(z.key,X.target.value),placeholder:z.placeholder,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all placeholder:text-gray-400 dark:placeholder:text-gray-500"})]},z.key)})}),i.jsx("button",{type:"submit",disabled:p,className:"mt-8 w-full flex items-center justify-center gap-2 px-6 py-3.5 rounded-xl bg-gradient-to-r from-primary-600 to-blue-600 text-white font-bold text-sm hover:from-primary-700 hover:to-blue-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-primary-500/20 hover:shadow-primary-500/40",children:p?i.jsxs(i.Fragment,{children:[i.jsx(tn,{className:"w-4 h-4 animate-spin"}),"Enregistrement..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Tw,{className:"w-4 h-4"}),"Enregistrer les donnes"]})})]})]})}),i.jsxs("div",{className:"space-y-6",children:[G.length>0&&i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[i.jsxs("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(yi,{className:"w-4 h-4 text-primary-500"}),"Calculs automatiques"]}),i.jsx("div",{className:"space-y-3",children:G.map((z,q)=>i.jsxs("div",{className:`p-3 rounded-xl ${te.bg} border ${te.border}`,children:[i.jsx("p",{className:"text-[10px] font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:z.label}),i.jsx("p",{className:`text-lg font-black ${te.text} tabular-nums`,children:z.value})]},q))})]}),i.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-blue-50 dark:from-primary-900/20 dark:to-blue-900/20 rounded-2xl border border-primary-100 dark:border-primary-800 p-6 transition-colors",children:[i.jsxs("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(Ei,{className:"w-4 h-4 text-primary-500"}),"Guide de saisie"]}),i.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-2 leading-relaxed",children:[i.jsxs("p",{children:[" Slectionnez le ",i.jsx("strong",{children:"type de donnes"})," et le ",i.jsx("strong",{children:"mois"})," concern."]}),i.jsx("p",{children:" Si des donnes existent dj pour ce mois, elles seront pr-remplies."}),i.jsxs("p",{children:[" Les donnes enregistres ",i.jsx("strong",{children:"remplacent"})," les valeurs existantes pour ce mois."]}),i.jsxs("p",{children:[" Les ",i.jsx("strong",{children:"calculs automatiques"})," s'affichent en temps rel pendant la saisie."]}),i.jsxs("p",{children:[" Les montants sont en ",i.jsx("strong",{children:"euros"}),", les dures en ",i.jsx("strong",{children:"minutes"}),"."]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[i.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-3",children:"Votre cabinet"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{className:"text-gray-500",children:"Praticien"}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t?.name||""})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{className:"text-gray-500",children:"Cabinet"}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t?.cabinetName||""})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{className:"text-gray-500",children:"Mois slectionn"}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.find(z=>z.value===l)?.label||""})]})]})]})]})]})]})})]})}const dg=t=>t?new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",W4=t=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(t||0),hu={actif:{bg:"bg-green-50 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800",dot:"bg-green-500"},nouveau:{bg:"bg-blue-50 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",dot:"bg-blue-500"},inactif:{bg:"bg-gray-50 dark:bg-gray-800",text:"text-gray-500 dark:text-gray-400",border:"border-gray-200 dark:border-gray-700",dot:"bg-gray-400"}},fu={nom:"",prenom:"",dateNaissance:"",telephone:"",email:"",notes:"",statut:"nouveau",dernierRdv:"",prochainRdv:"",montantTotal:"",nbVisites:""};function H4(){const{user:t}=xt(),[e,r]=M.useState([]),[s,o]=M.useState({total:0,actifs:0,nouveaux:0,inactifs:0}),[l,c]=M.useState(!0),[u,h]=M.useState(""),[p,m]=M.useState(""),[x,y]=M.useState(""),[w,v]=M.useState(!1),[j,k]=M.useState(null),[_,P]=M.useState({...fu}),[T,L]=M.useState(!1),[D,W]=M.useState(null),[H,G]=M.useState(null),F=async()=>{c(!0);try{const S={};u&&(S.search=u),p&&(S.statut=p),x&&(S.sort=x);const J=await aw(S);r(J.data.patients||[]),o(J.data.stats||{total:0,actifs:0,nouveaux:0,inactifs:0})}catch(S){console.error(S)}finally{c(!1)}};M.useEffect(()=>{F()},[p,x]),M.useEffect(()=>{const S=setTimeout(()=>F(),400);return()=>clearTimeout(S)},[u]);const te=()=>{k(null),P({...fu}),v(!0),W(null)},z=S=>{k(S._id),P({nom:S.nom||"",prenom:S.prenom||"",dateNaissance:S.dateNaissance?S.dateNaissance.substring(0,10):"",telephone:S.telephone||"",email:S.email||"",notes:S.notes||"",statut:S.statut||"nouveau",dernierRdv:S.dernierRdv?S.dernierRdv.substring(0,10):"",prochainRdv:S.prochainRdv?S.prochainRdv.substring(0,10):"",montantTotal:S.montantTotal||"",nbVisites:S.nbVisites||""}),v(!0),W(null)},q=async S=>{if(S.preventDefault(),!_.nom.trim()||!_.prenom.trim()){W({type:"error",text:"Nom et prnom sont requis."});return}L(!0),W(null);try{j?(await ow(j,_),W({type:"success",text:"Patient mis  jour avec succs."})):(await iw(_),W({type:"success",text:"Patient ajout avec succs !"})),v(!1),k(null),P({...fu}),F()}catch(J){W({type:"error",text:J.response?.data?.message||"Erreur lors de l'enregistrement."})}finally{L(!1)}},X=async S=>{try{await lw(S),G(null),W({type:"success",text:"Patient supprim."}),F()}catch(J){W({type:"error",text:J.response?.data?.message||"Erreur lors de la suppression."})}},R=[{label:"Total patients",value:s.total,icon:vt,color:"primary"},{label:"Actifs",value:s.actifs,icon:la,color:"green"},{label:"Nouveaux",value:s.nouveaux,icon:us,color:"blue"},{label:"Inactifs",value:s.inactifs,icon:Su,color:"gray"}],I={primary:"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400",green:"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400",blue:"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",gray:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400"};return i.jsxs("div",{children:[i.jsx(Vt,{title:"Mes Patients",subtitle:`Cabinet ${t?.cabinetName||t?.name||""}  Gestion de votre patientle`}),i.jsxs("div",{className:"p-8",children:[D&&!w&&i.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-2 text-sm max-w-5xl mx-auto ${D.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 border border-red-200 dark:border-red-800"}`,children:[D.type==="success"?i.jsx(Ht,{className:"flex-shrink-0"}):i.jsx(er,{className:"flex-shrink-0"}),D.text,i.jsx("button",{onClick:()=>W(null),className:"ml-auto",children:i.jsx(gs,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 max-w-5xl mx-auto",children:R.map((S,J)=>{const U=S.icon;return i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-5 transition-colors",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("div",{className:`p-2.5 rounded-xl ${I[S.color]}`,children:i.jsx(U,{className:"w-5 h-5"})})}),i.jsx("p",{className:"text-2xl font-black text-gray-900 dark:text-white tabular-nums",children:S.value}),i.jsx("p",{className:"text-[10px] font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mt-1",children:S.label})]},J)})}),i.jsxs("div",{className:"max-w-5xl mx-auto mb-6 flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[i.jsx(Tl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",value:u,onChange:S=>h(S.target.value),placeholder:"Rechercher un patient...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-[#1e293b] text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:p,onChange:S=>m(S.target.value),className:"appearance-none pl-9 pr-8 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-[#1e293b] text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 cursor-pointer",children:[i.jsx("option",{value:"",children:"Tous les statuts"}),i.jsx("option",{value:"actif",children:"Actifs"}),i.jsx("option",{value:"nouveau",children:"Nouveaux"}),i.jsx("option",{value:"inactif",children:"Inactifs"})]}),i.jsx(Ew,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"}),i.jsx(Ll,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:x,onChange:S=>y(S.target.value),className:"appearance-none pl-3 pr-8 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-[#1e293b] text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 cursor-pointer",children:[i.jsx("option",{value:"",children:"Plus rcents"}),i.jsx("option",{value:"nom",children:"Par nom"}),i.jsx("option",{value:"dernier-rdv",children:"Dernier RDV"}),i.jsx("option",{value:"visites",children:"Nb visites"})]}),i.jsx(Ll,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]}),i.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl bg-gradient-to-r from-primary-600 to-blue-600 text-white text-sm font-bold hover:from-primary-700 hover:to-blue-700 transition-all shadow-lg shadow-primary-500/20",children:[i.jsx(us,{className:"w-4 h-4"}),"Ajouter un patient"]})]}),w&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{v(!1),k(null)},children:i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",onClick:S=>S.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2.5 rounded-xl bg-primary-50 dark:bg-primary-900/30",children:j?i.jsx(Ei,{className:"w-5 h-5 text-primary-600"}):i.jsx(us,{className:"w-5 h-5 text-primary-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold dark:text-white",children:j?"Modifier le patient":"Nouveau patient"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Remplissez les informations du patient"})]})]}),i.jsx("button",{onClick:()=>{v(!1),k(null)},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:i.jsx(gs,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("form",{onSubmit:q,className:"p-6 space-y-4",children:[D&&w&&i.jsxs("div",{className:`p-3 rounded-xl flex items-center gap-2 text-sm ${D.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/30 text-red-700 border border-red-200 dark:border-red-800"}`,children:[D.type==="success"?i.jsx(Ht,{className:"flex-shrink-0"}):i.jsx(er,{className:"flex-shrink-0"}),D.text]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5",children:"Nom *"}),i.jsx("input",{type:"text",value:_.nom,onChange:S=>P({..._,nom:S.target.value}),placeholder:"DUPONT",required:!0,className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm uppercase focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5",children:"Prnom *"}),i.jsx("input",{type:"text",value:_.prenom,onChange:S=>P({..._,prenom:S.target.value}),placeholder:"Jean",required:!0,className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 items-center gap-1.5",children:[i.jsx(js,{className:"w-3.5 h-3.5 text-gray-400"})," Date de naissance"]}),i.jsx("input",{type:"date",value:_.dateNaissance,onChange:S=>P({..._,dateNaissance:S.target.value}),className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"flex text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 items-center gap-1.5",children:[i.jsx(Op,{className:"w-3.5 h-3.5 text-gray-400"})," Tlphone"]}),i.jsx("input",{type:"tel",value:_.telephone,onChange:S=>P({..._,telephone:S.target.value}),placeholder:"06 12 34 56 78",className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 items-center gap-1.5",children:[i.jsx(Ns,{className:"w-3.5 h-3.5 text-gray-400"})," Email"]}),i.jsx("input",{type:"email",value:_.email,onChange:S=>P({..._,email:S.target.value}),placeholder:"patient@email.fr",className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5",children:"Statut"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:["nouveau","actif","inactif"].map(S=>{const J=hu[S];return i.jsx("button",{type:"button",onClick:()=>P({..._,statut:S}),className:`py-2 px-3 rounded-xl text-xs font-bold capitalize transition-all border-2 ${_.statut===S?`${J.bg} ${J.text} ${J.border}`:"bg-gray-50 dark:bg-gray-800 text-gray-400 border-transparent hover:border-gray-200 dark:hover:border-gray-600"}`,children:S},S)})})]}),j&&i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5",children:"Dernier RDV"}),i.jsx("input",{type:"date",value:_.dernierRdv,onChange:S=>P({..._,dernierRdv:S.target.value}),className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5",children:"Prochain RDV"}),i.jsx("input",{type:"date",value:_.prochainRdv,onChange:S=>P({..._,prochainRdv:S.target.value}),className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),j&&i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5",children:"Montant total ()"}),i.jsx("input",{type:"number",step:"0.01",min:"0",value:_.montantTotal,onChange:S=>P({..._,montantTotal:S.target.value}),placeholder:"0",className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5",children:"Nb visites"}),i.jsx("input",{type:"number",min:"0",value:_.nbVisites,onChange:S=>P({..._,nbVisites:S.target.value}),placeholder:"0",className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 items-center gap-1.5",children:[i.jsx(kt,{className:"w-3.5 h-3.5 text-gray-400"})," Notes"]}),i.jsx("textarea",{value:_.notes,onChange:S=>P({..._,notes:S.target.value}),placeholder:"Remarques, traitements en cours...",rows:3,className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),i.jsx("button",{type:"submit",disabled:T,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-primary-600 to-blue-600 text-white font-bold text-sm hover:from-primary-700 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-primary-500/20",children:T?i.jsxs(i.Fragment,{children:[i.jsx(tn,{className:"w-4 h-4 animate-spin"})," Enregistrement..."]}):j?i.jsxs(i.Fragment,{children:[i.jsx(Ht,{className:"w-4 h-4"})," Mettre  jour"]}):i.jsxs(i.Fragment,{children:[i.jsx(us,{className:"w-4 h-4"})," Ajouter le patient"]})})]})]})}),H&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>G(null),children:i.jsx("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm shadow-2xl",onClick:S=>S.stopPropagation(),children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-red-50 dark:bg-red-900/30 flex items-center justify-center mx-auto mb-4",children:i.jsx(vi,{className:"w-6 h-6 text-red-500"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Supprimer ce patient ?"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:[i.jsxs("strong",{children:[H.nom," ",H.prenom]})," sera dfinitivement supprim."]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>G(null),className:"flex-1 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Annuler"}),i.jsx("button",{onClick:()=>X(H._id),className:"flex-1 py-2.5 rounded-xl bg-red-500 text-white text-sm font-bold hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})})}),i.jsx("div",{className:"max-w-5xl mx-auto",children:l?i.jsx("div",{className:"flex justify-center py-20",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.length===0?i.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-16 text-center transition-colors",children:[i.jsx(vt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:u||p?"Aucun patient trouv":"Aucun patient enregistr"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:u||p?"Essayez de modifier vos filtres de recherche.":"Commencez par ajouter votre premier patient."}),!u&&!p&&i.jsxs("button",{onClick:te,className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-primary-600 text-white text-sm font-bold hover:bg-primary-700 transition-colors",children:[i.jsx(us,{className:"w-4 h-4"}),"Ajouter un patient"]})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(S=>{const J=hu[S.statut]||hu.nouveau;return i.jsx("div",{className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-all duration-300 group",children:i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-blue-500 flex items-center justify-center text-white text-sm font-bold flex-shrink-0",children:[S.prenom?.charAt(0),S.nom?.charAt(0)]}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("h4",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",children:[S.nom," ",S.prenom]}),S.dateNaissance&&i.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500",children:["N(e) le ",dg(S.dateNaissance)]})]})]}),i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${J.bg} ${J.text} border ${J.border}`,children:[i.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${J.dot}`}),S.statut]})]}),i.jsxs("div",{className:"space-y-1.5 mb-3",children:[S.telephone&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[i.jsx(Op,{className:"w-3 h-3 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:S.telephone})]}),S.email&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[i.jsx(Ns,{className:"w-3 h-3 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:S.email})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[i.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg text-center",children:[i.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 uppercase font-semibold",children:"Visites"}),i.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:S.nbVisites||0})]}),i.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg text-center",children:[i.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 uppercase font-semibold",children:"CA Total"}),i.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:S.montantTotal?W4(S.montantTotal):""})]}),i.jsxs("div",{className:"p-2 bg-gray-50 dark:bg-gray-800 rounded-lg text-center",children:[i.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 uppercase font-semibold",children:"Dernier RDV"}),i.jsx("p",{className:"text-[10px] font-bold text-gray-900 dark:text-white",children:S.dernierRdv?dg(S.dernierRdv):""})]})]}),S.notes&&i.jsxs("p",{className:"text-[11px] text-gray-400 dark:text-gray-500 italic line-clamp-2 mb-3",children:['"',S.notes,'"']}),i.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsxs("button",{onClick:()=>z(S),className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 text-xs font-medium hover:bg-primary-100 dark:hover:bg-primary-900/50 transition-colors",children:[i.jsx(Ei,{className:"w-3 h-3"})," Modifier"]}),i.jsx("button",{onClick:()=>G(S),className:"flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg bg-red-50 dark:bg-red-900/30 text-red-500 text-xs font-medium hover:bg-red-100 dark:hover:bg-red-900/50 transition-colors",children:i.jsx(vi,{className:"w-3 h-3"})})]})]})},S._id)})})})]})]})}function V4(){return i.jsx(xw,{children:i.jsx(gw,{children:i.jsx(mw,{children:i.jsx(yw,{children:i.jsx(l1,{children:i.jsxs(e1,{children:[i.jsx(st,{path:"/login",element:i.jsx(Iw,{})}),i.jsx(st,{path:"/register",element:i.jsx(zw,{})}),i.jsx(st,{element:i.jsx(Fp,{allowedRoles:["admin"]}),children:i.jsxs(st,{element:i.jsx(Ip,{}),children:[i.jsx(st,{path:"/admin",element:i.jsx(E4,{})}),i.jsx(st,{path:"/admin/cabinets",element:i.jsx(M4,{})}),i.jsx(st,{path:"/admin/comparison",element:i.jsx(P4,{})}),i.jsx(st,{path:"/admin/gestion",element:i.jsx(R4,{})}),i.jsx(st,{path:"/admin/reports",element:i.jsx(A4,{})}),i.jsx(st,{path:"/admin/statistics",element:i.jsx(L4,{})}),i.jsx(st,{path:"/admin/settings",element:i.jsx(T4,{})})]})}),i.jsx(st,{element:i.jsx(Fp,{allowedRoles:["practitioner"]}),children:i.jsxs(st,{element:i.jsx(Ip,{}),children:[i.jsx(st,{path:"/dashboard",element:i.jsx(D4,{})}),i.jsx(st,{path:"/dashboard/stats",element:i.jsx(O4,{})}),i.jsx(st,{path:"/dashboard/data",element:i.jsx(F4,{})}),i.jsx(st,{path:"/dashboard/ai",element:i.jsx(I4,{})}),i.jsx(st,{path:"/dashboard/reports",element:i.jsx(z4,{})}),i.jsx(st,{path:"/dashboard/saisie",element:i.jsx(B4,{})}),i.jsx(st,{path:"/dashboard/patients",element:i.jsx(H4,{})})]})}),i.jsx(st,{path:"/",element:i.jsx(Ci,{to:"/login",replace:!0})}),i.jsx(st,{path:"*",element:i.jsx(Ci,{to:"/login",replace:!0})})]})})})})})})}lv.createRoot(document.getElementById("root")).render(i.jsx(an.StrictMode,{children:i.jsx(V4,{})}));
